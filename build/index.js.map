{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./demo/index2.ts","webpack:///./node_modules/handlebars/dist/cjs/handlebars.runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/base.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/decorators.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/exception.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/logger.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/runtime.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/safe-string.js","webpack:///./node_modules/handlebars/dist/cjs/handlebars/utils.js","webpack:///./node_modules/handlebars/runtime.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/application.ts","webpack:///./src/conf.ts","webpack:///./src/core/color.ts","webpack:///./src/core/element.ts","webpack:///./src/core/event.ts","webpack:///./src/ecs/entity.ts","webpack:///./src/ecs/index.ts","webpack:///./src/graphics/index.ts","webpack:///./src/graphics/indexBuffer.ts","webpack:///./src/graphics/renderer.ts","webpack:///./src/graphics/shader.ts","webpack:///./src/graphics/shaderProgramGenerator.ts","webpack:///./src/graphics/shaderVariable.ts","webpack:///./src/graphics/shaders/basic.frag","webpack:///./src/graphics/shaders/basic.vert","webpack:///./src/graphics/shaders/gles3.frag","webpack:///./src/graphics/shaders/gles3.vert","webpack:///./src/graphics/vertexBuffer.ts","webpack:///./src/graphics/vertexFormat.ts","webpack:///./src/index.ts","webpack:///./src/material/basicMaterial.ts","webpack:///./src/material/index.ts","webpack:///./src/material/material.ts","webpack:///./src/math/curve-set.ts","webpack:///./src/math/curve.ts","webpack:///./src/math/index.ts","webpack:///./src/math/mat3.ts","webpack:///./src/math/mat4.ts","webpack:///./src/math/math.ts","webpack:///./src/math/quat.ts","webpack:///./src/math/vec2.ts","webpack:///./src/math/vec3.ts","webpack:///./src/math/vec4.ts","webpack:///./src/mesh/mesh.ts","webpack:///./src/scene/camera.ts","webpack:///./src/scene/node.ts","webpack:///./src/scene/renderScence.ts","webpack:///./src/scene/scene.ts","webpack:///./src/texture/texture.ts","webpack:///./src/util.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;AClFA;AAAA;;;;;;;;;;;GAWG;AAIoH;AAI9E;AACI;AACL;AACE;AAI1C,IAAM,GAAG,GAAG,IAAI,gDAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAsB,EAAE;AAChF,cAAc;CACjB,CAAC,CAAC;AAGH,IAAM,QAAQ,GAAG;IACb,CAAC,EAAE,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IACR,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;IACT,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;IACR,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;IACT,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACR,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACT,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAG,WAAW;CAC3B,CAAC;AACF,IAAM,MAAM,GAAG;IACX,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAE,WAAW;CAC1B,CAAC;AACF,IAAI,OAAO,GAAG;IACV,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IAChB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IAChB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IAChB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IAChB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;IAChB,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAK,OAAO;CAC/B,CAAC;AAIF,IAAI,IAAI,GAAG,mDAAI,CAAC,UAAU,CAAC,GAAG,CAAC,gBAAgB,EAAE;IAC7C,SAAS,EAAE,QAAQ;IACnB,MAAM;IACN,OAAO;CACV,CAAC,CAAC;AAEH,IAAI,MAAM,GAAG,IAAI,2CAAM,EAAE,CAAC;AAC1B,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;AACnB,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;AAChC,IAAI,QAAQ,GAAG,IAAI,kDAAa,EAAE,CAAC;AACnC,QAAQ,CAAC,KAAK,GAAG,IAAI,qDAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1C,MAAM,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAEhC,IAAI,OAAO,GAAG,IAAI,2CAAM,EAAE,CAAC;AAC3B,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,OAAO,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AACrC,4BAA4B;AAC5B,OAAO,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC7B,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AAEjC,IAAI,MAAM,GAAG,IAAI,wDAAM,CAAC,EAAE,EAAE,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;AAE3E,MAAM,CAAC,kBAAkB,GAAG,IAAI,8CAAI,EAAE,CAAC,SAAS,CAAC,IAAI,8CAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,8CAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,8CAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;AAEnH,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAE/B,GAAG,CAAC,KAAK,EAAE,CAAC;AAEZ,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,WAAC;IACd,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,CAAC,CAAC,CAAC;;;;;;;;;;;;;AC5FH;;AAEA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,yBAAyB,eAAe,EAAE;;AAE9Q;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACjEzD;;AAEA;AACA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACvGzD;;AAEA;AACA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;AACA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACfzD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AC5BzD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACrDzD;;AAEA;AACA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AC7CzD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,mBAAmB;AACnB;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACtCzD;;AAEA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,oCAAoC,OAAO;AAC3C;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AC7FzD;;AAEA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA;;AAEA;AACA;AACA;AACA,gCAAgC,KAAK;AACrC;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACxBzD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA,2DAA2D,+DAA+D;AAC1H,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AC5BzD;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACzBzD;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACXzD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AChCzD;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2FAA2F,aAAa;AACxG;AACA;;AAEA,8CAA8C;AAC9C;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AC9CzD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;;ACnBzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;;AAEA,uCAAuC,6BAA6B,YAAY,EAAE,OAAO,iBAAiB,mBAAmB,uBAAuB,4EAA4E,EAAE,EAAE,yBAAyB,eAAe,EAAE;;AAE9Q;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,6BAA6B;AAC7B;;AAEA;AACA,KAAK;AACL;AACA,+BAA+B;;AAE/B;AACA;AACA;;AAEA;AACA,0EAA0E;;AAE1E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0EAA0E;;AAE1E;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;AClTzD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,cAAc;;;;;;;;;;;;;ACdzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,YAAY;AACZ,YAAY;AACZ,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd;;AAEA;AACA;;AAEA;AACA;AACA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AAC,GAAG,IAAI,CAAC,IAAI,CAAC;QAElB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,C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AAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACZ,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QAEZ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAEjD,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAEjD,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACX,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACX,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QACjD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAClD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAElD,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACX,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACX,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACX,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;QACX,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAClD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAClD,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GA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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./demo/index2.ts\");\n","/*\n * ProjectName: hypergl\n * FilePath: \\demo\\index2.ts\n * Created Date: Saturday, September 1st 2018, 2:26:10 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 9:36:04 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\n\nimport { SEMANTIC, BUFFER, VertexBuffer, IndexBuffer, VertexFormat, Application, BasicMaterial, Entity } from '../src';\nimport vert from '../src/graphics/shaders/vertex.vert';\nimport frag from '../src/graphics/shaders/fragment.frag';\nimport { initShaders } from './utils/util';\nimport { Mat4, Vec3 } from '../src/math';\nimport { Camera } from '../src/scene/camera';\nimport { Mesh } from '../src/mesh/mesh';\nimport { Color } from '../src/core/color';\n\n\n\nconst app = new Application(document.getElementById('canvas') as HTMLCanvasElement, {\n    // webgl1:true\n});\n\n\nconst vertices = [\n    1, 1, 1,  // v0 White\n    -1, 1, 1,  // v1 Magenta\n    -1, -1, 1,  // v2 Red\n    1, -1, 1,  // v3 Yellow\n    1, -1, -1,  // v4 Green\n    1, 1, -1,  // v5 Cyan\n    -1, 1, -1,  // v6 Blue\n    -1, -1, -1   // v7 Black\n];\nconst colors = [\n    1, 1, 1, 1,  // v0 White\n    1, 0, 1, 1,  // v1 Magenta\n    1, 0, 0, 1,  // v2 Red\n    1, 1, 0, 1,  // v3 Yellow\n    0, 1, 0, 1,  // v4 Green\n    0, 1, 1, 1,  // v5 Cyan\n    0, 0, 1, 1,  // v6 Blue\n    0, 0, 0, 1  // v7 Black\n];\nlet indices = [\n    0, 1, 2, 0, 2, 3,    // front\n    0, 3, 4, 0, 4, 5,    // right\n    0, 5, 6, 0, 6, 1,    // up\n    1, 6, 7, 1, 7, 2,    // left\n    7, 4, 3, 7, 3, 2,    // down\n    4, 7, 6, 4, 6, 5     // back\n];\n\n\n\nlet mesh = Mesh.createMesh(app.rendererPlatform, {\n    positions: vertices,\n    colors,\n    indices\n});\n\nlet entity = new Entity();\nentity.mesh = mesh;\napp.scene.root.addChild(entity);\nlet material = new BasicMaterial();\nmaterial.color = new Color(0.5, 0.5, 0.5);\nentity.mesh.material = material;\n\nlet entity2 = new Entity();\nentity2.mesh = mesh;\nentity2.setLocalScale(1.5, 0.5, 1.5);\n// entity2.rotate(0, 10, 0);\nentity2.setPosition(2, 0, 0);\napp.scene.root.addChild(entity2);\n\nlet camera = new Camera(45, app.canvas.width / app.canvas.height, 1, 1000);\n\ncamera.worldMatrixInverse = new Mat4().setLookAt(new Vec3(3, 3, 3), new Vec3(0, 0, 0), new Vec3(0, 1, 0)).invert();\n\napp.scene.cameras.push(camera);\n\napp.start();\n\napp.on('update', _ => {\n    entity.rotate(0, 1, 0);\n});\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _handlebarsBase = require('./handlebars/base');\n\nvar base = _interopRequireWildcard(_handlebarsBase);\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\n\nvar _handlebarsSafeString = require('./handlebars/safe-string');\n\nvar _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);\n\nvar _handlebarsException = require('./handlebars/exception');\n\nvar _handlebarsException2 = _interopRequireDefault(_handlebarsException);\n\nvar _handlebarsUtils = require('./handlebars/utils');\n\nvar Utils = _interopRequireWildcard(_handlebarsUtils);\n\nvar _handlebarsRuntime = require('./handlebars/runtime');\n\nvar runtime = _interopRequireWildcard(_handlebarsRuntime);\n\nvar _handlebarsNoConflict = require('./handlebars/no-conflict');\n\nvar _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  var hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = _handlebarsSafeString2['default'];\n  hb.Exception = _handlebarsException2['default'];\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function (spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nvar inst = create();\ninst.create = create;\n\n_handlebarsNoConflict2['default'](inst);\n\ninst['default'] = inst;\n\nexports['default'] = inst;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\nexports.HandlebarsEnvironment = HandlebarsEnvironment;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('./utils');\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _helpers = require('./helpers');\n\nvar _decorators = require('./decorators');\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar VERSION = '4.0.11';\nexports.VERSION = VERSION;\nvar COMPILER_REVISION = 7;\n\nexports.COMPILER_REVISION = COMPILER_REVISION;\nvar REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0'\n};\n\nexports.REVISION_CHANGES = REVISION_CHANGES;\nvar objectType = '[object Object]';\n\nfunction HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  _helpers.registerDefaultHelpers(this);\n  _decorators.registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: _logger2['default'],\n  log: _logger2['default'].log,\n\n  registerHelper: function registerHelper(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple helpers');\n      }\n      _utils.extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function unregisterHelper(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function registerPartial(name, partial) {\n    if (_utils.toString.call(name) === objectType) {\n      _utils.extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new _exception2['default']('Attempting to register a partial called \"' + name + '\" as undefined');\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function unregisterPartial(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function registerDecorator(name, fn) {\n    if (_utils.toString.call(name) === objectType) {\n      if (fn) {\n        throw new _exception2['default']('Arg not supported with multiple decorators');\n      }\n      _utils.extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function unregisterDecorator(name) {\n    delete this.decorators[name];\n  }\n};\n\nvar log = _logger2['default'].log;\n\nexports.log = log;\nexports.createFrame = _utils.createFrame;\nexports.logger = _logger2['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQTRDLFNBQVM7O3lCQUMvQixhQUFhOzs7O3VCQUNFLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNuQyxVQUFVOzs7O0FBRXRCLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQzs7QUFDekIsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7OztBQUU1QixJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxVQUFVO0NBQ2QsQ0FBQzs7O0FBRUYsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUM7O0FBRTlCLFNBQVMscUJBQXFCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7QUFDbkUsTUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQzdCLE1BQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUMvQixNQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBSSxFQUFFLENBQUM7O0FBRW5DLGtDQUF1QixJQUFJLENBQUMsQ0FBQztBQUM3Qix3Q0FBMEIsSUFBSSxDQUFDLENBQUM7Q0FDakM7O0FBRUQscUJBQXFCLENBQUMsU0FBUyxHQUFHO0FBQ2hDLGFBQVcsRUFBRSxxQkFBcUI7O0FBRWxDLFFBQU0scUJBQVE7QUFDZCxLQUFHLEVBQUUsb0JBQU8sR0FBRzs7QUFFZixnQkFBYyxFQUFFLHdCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDakMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQUUsY0FBTSwyQkFBYyx5Q0FBeUMsQ0FBQyxDQUFDO09BQUU7QUFDM0Usb0JBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDekI7R0FDRjtBQUNELGtCQUFnQixFQUFFLDBCQUFTLElBQUksRUFBRTtBQUMvQixXQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDM0I7O0FBRUQsaUJBQWUsRUFBRSx5QkFBUyxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3ZDLFFBQUksZ0JBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRTtBQUN0QyxvQkFBTyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzdCLE1BQU07QUFDTCxVQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsRUFBRTtBQUNsQyxjQUFNLHlFQUEwRCxJQUFJLG9CQUFpQixDQUFDO09BQ3ZGO0FBQ0QsVUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUM7S0FDL0I7R0FDRjtBQUNELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRTtBQUNoQyxXQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDNUI7O0FBRUQsbUJBQWlCLEVBQUUsMkJBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNwQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFNLDJCQUFjLDRDQUE0QyxDQUFDLENBQUM7T0FBRTtBQUM5RSxvQkFBTyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQy9CLE1BQU07QUFDTCxVQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUM1QjtHQUNGO0FBQ0QscUJBQW1CLEVBQUUsNkJBQVMsSUFBSSxFQUFFO0FBQ2xDLFdBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM5QjtDQUNGLENBQUM7O0FBRUssSUFBSSxHQUFHLEdBQUcsb0JBQU8sR0FBRyxDQUFDOzs7UUFFcEIsV0FBVztRQUFFLE1BQU0iLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlRnJhbWUsIGV4dGVuZCwgdG9TdHJpbmd9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdEhlbHBlcnN9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnN9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4wLjExJztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDc7XG5cbmV4cG9ydCBjb25zdCBSRVZJU0lPTl9DSEFOR0VTID0ge1xuICAxOiAnPD0gMS4wLnJjLjInLCAvLyAxLjAucmMuMiBpcyBhY3R1YWxseSByZXYyIGJ1dCBkb2Vzbid0IHJlcG9ydCBpdFxuICAyOiAnPT0gMS4wLjAtcmMuMycsXG4gIDM6ICc9PSAxLjAuMC1yYy40JyxcbiAgNDogJz09IDEueC54JyxcbiAgNTogJz09IDIuMC4wLWFscGhhLngnLFxuICA2OiAnPj0gMi4wLjAtYmV0YS4xJyxcbiAgNzogJz49IDQuMC4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTsgfVxuICAgICAgZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lLCBwYXJ0aWFsKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKGBBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCIke25hbWV9XCIgYXMgdW5kZWZpbmVkYCk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhcnRpYWxzW25hbWVdID0gcGFydGlhbDtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMucGFydGlhbHNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGRlY29yYXRvcnMnKTsgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHtjcmVhdGVGcmFtZSwgbG9nZ2VyfTtcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultDecorators = registerDefaultDecorators;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _decoratorsInline = require('./decorators/inline');\n\nvar _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);\n\nfunction registerDefaultDecorators(instance) {\n  _decoratorsInline2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG5cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerDecorator('inline', function (fn, props, container, options) {\n    var ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function (context, options) {\n        // Create a new partials stack frame prior to exec.\n        var original = container.partials;\n        container.partials = _utils.extend({}, original, props.partials);\n        var ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXFCLFVBQVU7O3FCQUVoQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIGxldCByZXQgPSBmbjtcbiAgICBpZiAoIXByb3BzLnBhcnRpYWxzKSB7XG4gICAgICBwcm9wcy5wYXJ0aWFscyA9IHt9O1xuICAgICAgcmV0ID0gZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cbiAgICAgICAgbGV0IG9yaWdpbmFsID0gY29udGFpbmVyLnBhcnRpYWxzO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBleHRlbmQoe30sIG9yaWdpbmFsLCBwcm9wcy5wYXJ0aWFscyk7XG4gICAgICAgIGxldCByZXQgPSBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHByb3BzLnBhcnRpYWxzW29wdGlvbnMuYXJnc1swXV0gPSBvcHRpb25zLmZuO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  var loc = node && node.loc,\n      line = undefined,\n      column = undefined;\n  if (loc) {\n    line = loc.start.line;\n    column = loc.start.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  var tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (var idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexports['default'] = Exception;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsSUFBTSxVQUFVLEdBQUcsQ0FBQyxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFbkcsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDdEIsSUFBSSxZQUFBO01BQ0osTUFBTSxZQUFBLENBQUM7QUFDWCxNQUFJLEdBQUcsRUFBRTtBQUNQLFFBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUN0QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7O0FBRTFCLFdBQU8sSUFBSSxLQUFLLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUM7R0FDeEM7O0FBRUQsTUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQzs7O0FBRzFELE9BQUssSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFO0FBQ2hELFFBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7R0FDOUM7OztBQUdELE1BQUksS0FBSyxDQUFDLGlCQUFpQixFQUFFO0FBQzNCLFNBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7R0FDMUM7O0FBRUQsTUFBSTtBQUNGLFFBQUksR0FBRyxFQUFFO0FBQ1AsVUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Ozs7QUFJdkIsVUFBSSxNQUFNLENBQUMsY0FBYyxFQUFFO0FBQ3pCLGNBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUNwQyxlQUFLLEVBQUUsTUFBTTtBQUNiLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7T0FDdEI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgICAgbGluZSxcbiAgICAgIGNvbHVtbjtcbiAgaWYgKGxvYykge1xuICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcblxuICAgICAgLy8gV29yayBhcm91bmQgaXNzdWUgdW5kZXIgc2FmYXJpIHdoZXJlIHdlIGNhbid0IGRpcmVjdGx5IHNldCB0aGUgY29sdW1uIHZhbHVlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogY29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKG5vcCkge1xuICAgIC8qIElnbm9yZSBpZiB0aGUgYnJvd3NlciBpcyB2ZXJ5IHBhcnRpY3VsYXIgKi9cbiAgfVxufVxuXG5FeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2VwdGlvbjtcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.registerDefaultHelpers = registerDefaultHelpers;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _helpersBlockHelperMissing = require('./helpers/block-helper-missing');\n\nvar _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);\n\nvar _helpersEach = require('./helpers/each');\n\nvar _helpersEach2 = _interopRequireDefault(_helpersEach);\n\nvar _helpersHelperMissing = require('./helpers/helper-missing');\n\nvar _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);\n\nvar _helpersIf = require('./helpers/if');\n\nvar _helpersIf2 = _interopRequireDefault(_helpersIf);\n\nvar _helpersLog = require('./helpers/log');\n\nvar _helpersLog2 = _interopRequireDefault(_helpersLog);\n\nvar _helpersLookup = require('./helpers/lookup');\n\nvar _helpersLookup2 = _interopRequireDefault(_helpersLookup);\n\nvar _helpersWith = require('./helpers/with');\n\nvar _helpersWith2 = _interopRequireDefault(_helpersWith);\n\nfunction registerDefaultHelpers(instance) {\n  _helpersBlockHelperMissing2['default'](instance);\n  _helpersEach2['default'](instance);\n  _helpersHelperMissing2['default'](instance);\n  _helpersIf2['default'](instance);\n  _helpersLog2['default'](instance);\n  _helpersLookup2['default'](instance);\n  _helpersWith2['default'](instance);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7eUNBQXVDLGdDQUFnQzs7OzsyQkFDOUMsZ0JBQWdCOzs7O29DQUNQLDBCQUEwQjs7Ozt5QkFDckMsY0FBYzs7OzswQkFDYixlQUFlOzs7OzZCQUNaLGtCQUFrQjs7OzsyQkFDcEIsZ0JBQWdCOzs7O0FBRWxDLFNBQVMsc0JBQXNCLENBQUMsUUFBUSxFQUFFO0FBQy9DLHlDQUEyQixRQUFRLENBQUMsQ0FBQztBQUNyQywyQkFBYSxRQUFRLENBQUMsQ0FBQztBQUN2QixvQ0FBc0IsUUFBUSxDQUFDLENBQUM7QUFDaEMseUJBQVcsUUFBUSxDQUFDLENBQUM7QUFDckIsMEJBQVksUUFBUSxDQUFDLENBQUM7QUFDdEIsNkJBQWUsUUFBUSxDQUFDLENBQUM7QUFDekIsMkJBQWEsUUFBUSxDQUFDLENBQUM7Q0FDeEIiLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWdpc3RlckJsb2NrSGVscGVyTWlzc2luZyBmcm9tICcuL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcnO1xuaW1wb3J0IHJlZ2lzdGVyRWFjaCBmcm9tICcuL2hlbHBlcnMvZWFjaCc7XG5pbXBvcnQgcmVnaXN0ZXJIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJJZiBmcm9tICcuL2hlbHBlcnMvaWYnO1xuaW1wb3J0IHJlZ2lzdGVyTG9nIGZyb20gJy4vaGVscGVycy9sb2cnO1xuaW1wb3J0IHJlZ2lzdGVyTG9va3VwIGZyb20gJy4vaGVscGVycy9sb29rdXAnO1xuaW1wb3J0IHJlZ2lzdGVyV2l0aCBmcm9tICcuL2hlbHBlcnMvd2l0aCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRIZWxwZXJzKGluc3RhbmNlKSB7XG4gIHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJFYWNoKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJIZWxwZXJNaXNzaW5nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJJZihpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyTG9nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb29rdXAoaW5zdGFuY2UpO1xuICByZWdpc3RlcldpdGgoaW5zdGFuY2UpO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('blockHelperMissing', function (context, options) {\n    var inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (_utils.isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        var data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBc0QsVUFBVTs7cUJBRWpELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQ3pCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdFLGVBQU8sR0FBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQztPQUN4Qjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5fSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgbGV0IGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgb3B0aW9ucyA9IHtkYXRhOiBkYXRhfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _utils = require('../utils');\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('each', function (context, options) {\n    if (!options) {\n      throw new _exception2['default']('Must pass iterator to #each');\n    }\n\n    var fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data = undefined,\n        contextPath = undefined;\n\n    if (options.data && options.ids) {\n      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = _utils.createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (_utils.isArray(context)) {\n        for (var j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else {\n        var priorKey = undefined;\n\n        for (var key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUErRSxVQUFVOzt5QkFDbkUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixZQUFNLDJCQUFjLDZCQUE2QixDQUFDLENBQUM7S0FDcEQ7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUU7UUFDZixPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU87UUFDekIsQ0FBQyxHQUFHLENBQUM7UUFDTCxHQUFHLEdBQUcsRUFBRTtRQUNSLElBQUksWUFBQTtRQUNKLFdBQVcsWUFBQSxDQUFDOztBQUVoQixRQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixpQkFBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0tBQ2pGOztBQUVELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsVUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQzs7QUFFRCxhQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtBQUN6QyxVQUFJLElBQUksRUFBRTtBQUNSLFlBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ2pCLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ25CLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQztBQUN6QixZQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7O0FBRW5CLFlBQUksV0FBVyxFQUFFO0FBQ2YsY0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLEdBQUcsS0FBSyxDQUFDO1NBQ3hDO09BQ0Y7O0FBRUQsU0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFlBQUksRUFBRSxJQUFJO0FBQ1YsbUJBQVcsRUFBRSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7T0FDL0UsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNO0FBQ0wsWUFBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixhQUFLLElBQUksR0FBRyxJQUFJLE9BQU8sRUFBRTtBQUN2QixjQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Ozs7QUFJL0IsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0w7U0FDRjtBQUNELFlBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQix1QkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3RDO09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNBcnJheSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICAgIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICByZXQgPSAnJyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dFBhdGg7XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7IGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7IH1cblxuICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4ZWNJdGVyYXRpb24oZmllbGQsIGluZGV4LCBsYXN0KSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmtleSA9IGZpZWxkO1xuICAgICAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGRhdGEuZmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgZGF0YS5sYXN0ID0gISFsYXN0O1xuXG4gICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBjb250ZXh0UGF0aCArIGZpZWxkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbZmllbGRdLCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dFtmaWVsZF0sIGZpZWxkXSwgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpb3JLZXk7XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIGNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBydW5uaW5nIHRoZSBpdGVyYXRpb25zIG9uZSBzdGVwIG91dCBvZiBzeW5jIHNvIHdlIGNhbiBkZXRlY3RcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmlvcktleSA9IGtleTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _exception = require('../exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nexports['default'] = function (instance) {\n  instance.registerHelper('helperMissing', function () /* [args, ]options */{\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new _exception2['default']('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFBYyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDdkY7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('if', function (conditional, options) {\n    if (_utils.isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function (conditional, options) {\n    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBa0MsVUFBVTs7cUJBRTdCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLGtCQUFXLFdBQVcsQ0FBQyxFQUFFO0FBQUUsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQUU7Ozs7O0FBS3RFLFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFdBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztHQUN2SCxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJpZi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aXNFbXB0eSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGNvbmRpdGlvbmFsKSkgeyBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7IH1cblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgaXMgdG8gcmVuZGVyIHRoZSBwb3NpdGl2ZSBwYXRoIGlmIHRoZSB2YWx1ZSBpcyB0cnV0aHkgYW5kIG5vdCBlbXB0eS5cbiAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuICAgIC8vIGJlaGF2aW9yIG9mIGlzRW1wdHkuIEVmZmVjdGl2ZWx5IHRoaXMgZGV0ZXJtaW5lcyBpZiAwIGlzIGhhbmRsZWQgYnkgdGhlIHBvc2l0aXZlIHBhdGggb3IgbmVnYXRpdmUuXG4gICAgaWYgKCghb3B0aW9ucy5oYXNoLmluY2x1ZGVaZXJvICYmICFjb25kaXRpb25hbCkgfHwgaXNFbXB0eShjb25kaXRpb25hbCkpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3VubGVzcycsIGZ1bmN0aW9uKGNvbmRpdGlvbmFsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge2ZuOiBvcHRpb25zLmludmVyc2UsIGludmVyc2U6IG9wdGlvbnMuZm4sIGhhc2g6IG9wdGlvbnMuaGFzaH0pO1xuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('log', function () /* message, options */{\n    var args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (var i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    var level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log.apply(instance, args);\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVMsSUFBSSxDQUFDLENBQUM7R0FDeEIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIGxldCBsZXZlbCA9IDE7XG4gICAgaWYgKG9wdGlvbnMuaGFzaC5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuaGFzaC5sZXZlbDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmRhdGEubGV2ZWw7XG4gICAgfVxuICAgIGFyZ3NbMF0gPSBsZXZlbDtcblxuICAgIGluc3RhbmNlLmxvZyguLi4gYXJncyk7XG4gIH0pO1xufVxuIl19\n","'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (instance) {\n  instance.registerHelper('lookup', function (obj, field) {\n    return obj && obj[field];\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ3JELFdBQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUMxQixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJsb29rdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24ob2JqLCBmaWVsZCkge1xuICAgIHJldHVybiBvYmogJiYgb2JqW2ZpZWxkXTtcbiAgfSk7XG59XG4iXX0=\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('../utils');\n\nexports['default'] = function (instance) {\n  instance.registerHelper('with', function (context, options) {\n    if (_utils.isFunction(context)) {\n      context = context.call(this);\n    }\n\n    var fn = options.fn;\n\n    if (!_utils.isEmpty(context)) {\n      var data = options.data;\n      if (options.data && options.ids) {\n        data = _utils.createFrame(options.data);\n        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: _utils.blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUErRSxVQUFVOztxQkFFMUUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLENBQUMsZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNyQixVQUFJLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLFVBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQy9CLFlBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQ2hGOztBQUVELGFBQU8sRUFBRSxDQUFDLE9BQU8sRUFBRTtBQUNqQixZQUFJLEVBQUUsSUFBSTtBQUNWLG1CQUFXLEVBQUUsbUJBQVksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7T0FDaEUsQ0FBQyxDQUFDO0tBQ0osTUFBTTtBQUNMLGFBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM5QjtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6IndpdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2FwcGVuZENvbnRleHRQYXRoLCBibG9ja1BhcmFtcywgY3JlYXRlRnJhbWUsIGlzRW1wdHksIGlzRnVuY3Rpb259IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dF0sIFtkYXRhICYmIGRhdGEuY29udGV4dFBhdGhdKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\n\nvar _utils = require('./utils');\n\nvar logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function lookupLevel(level) {\n    if (typeof level === 'string') {\n      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function log(level) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      var method = logger.methodMap[level];\n      if (!console[method]) {\n        // eslint-disable-line no-console\n        method = 'log';\n      }\n\n      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        message[_key - 1] = arguments[_key];\n      }\n\n      console[method].apply(console, message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexports['default'] = logger;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFzQixTQUFTOztBQUUvQixJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7QUFDL0UsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxVQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztBQUNwQixjQUFNLEdBQUcsS0FBSyxDQUFDO09BQ2hCOzt3Q0FQbUIsT0FBTztBQUFQLGVBQU87OztBQVEzQixhQUFPLENBQUMsTUFBTSxPQUFDLENBQWYsT0FBTyxFQUFZLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7Q0FDRixDQUFDOztxQkFFYSxNQUFNIiwiZmlsZSI6ImxvZ2dlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5kZXhPZn0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7ICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuICAgICAgY29uc29sZVttZXRob2RdKC4uLm1lc3NhZ2UpOyAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiJdfQ==\n","/* global window */\n'use strict';\n\nexports.__esModule = true;\n\nexports['default'] = function (Handlebars) {\n  /* istanbul ignore next */\n  var root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function () {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUNlLFVBQVMsVUFBVSxFQUFFOztBQUVsQyxNQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLE1BQU07TUFDdEQsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7O0FBRWxDLFlBQVUsQ0FBQyxVQUFVLEdBQUcsWUFBVztBQUNqQyxRQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFO0FBQ2xDLFVBQUksQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0tBQy9CO0FBQ0QsV0FBTyxVQUFVLENBQUM7R0FDbkIsQ0FBQztDQUNIIiwiZmlsZSI6Im5vLWNvbmZsaWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdpbmRvdyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oSGFuZGxlYmFycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBsZXQgcm9vdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxuICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.checkRevision = checkRevision;\nexports.template = template;\nexports.wrapProgram = wrapProgram;\nexports.resolvePartial = resolvePartial;\nexports.invokePartial = invokePartial;\nexports.noop = noop;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _exception = require('./exception');\n\nvar _exception2 = _interopRequireDefault(_exception);\n\nvar _base = require('./base');\n\nfunction checkRevision(compilerInfo) {\n  var compilerRevision = compilerInfo && compilerInfo[0] || 1,\n      currentRevision = _base.COMPILER_REVISION;\n\n  if (compilerRevision !== currentRevision) {\n    if (compilerRevision < currentRevision) {\n      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],\n          compilerVersions = _base.REVISION_CHANGES[compilerRevision];\n      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n    } else {\n      // Use the embedded version info since the runtime doesn't know about this revision yet\n      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n    }\n  }\n}\n\nfunction template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new _exception2['default']('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as psuedo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    var result = env.VM.invokePartial.call(this, partial, context, options);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, options);\n    }\n    if (result != null) {\n      if (options.indent) {\n        var lines = result.split('\\n');\n        for (var i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  var container = {\n    strict: function strict(obj, name) {\n      if (!(name in obj)) {\n        throw new _exception2['default']('\"' + name + '\" not defined in ' + obj);\n      }\n      return obj[name];\n    },\n    lookup: function lookup(depths, name) {\n      var len = depths.length;\n      for (var i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function lambda(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function fn(i) {\n      var ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function program(i, data, declaredBlockParams, blockParams, depths) {\n      var programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function data(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    merge: function merge(param, common) {\n      var obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    var depths = undefined,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function (options) {\n    if (!options.partial) {\n      container.helpers = container.merge(options.helpers, env.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = container.merge(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = container.merge(options.decorators, env.decorators);\n      }\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n    }\n  };\n\n  ret._child = function (i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new _exception2['default']('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new _exception2['default']('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n    var currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\nfunction resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nfunction invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  var currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  var partialBlock = undefined;\n  if (options.fn && options.fn !== noop) {\n    (function () {\n      options.data = _base.createFrame(options.data);\n      // Wrapper function to get access to currentPartialBlock from the closure\n      var fn = options.fn;\n      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        // Restore the partial-block from the closure for the execution of the block\n        // i.e. the part inside the block of the partial call.\n        options.data = _base.createFrame(options.data);\n        options.data['partial-block'] = currentPartialBlock;\n        return fn(context, options);\n      };\n      if (fn.partials) {\n        options.partials = Utils.extend({}, options.partials, fn.partials);\n      }\n    })();\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new _exception2['default']('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nfunction noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? _base.createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    var props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBQzhCLFFBQVE7O0FBRWxFLFNBQVMsYUFBYSxDQUFDLFlBQVksRUFBRTtBQUMxQyxNQUFNLGdCQUFnQixHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztNQUN2RCxlQUFlLDBCQUFvQixDQUFDOztBQUUxQyxNQUFJLGdCQUFnQixLQUFLLGVBQWUsRUFBRTtBQUN4QyxRQUFJLGdCQUFnQixHQUFHLGVBQWUsRUFBRTtBQUN0QyxVQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1VBQ25ELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELFlBQU0sMkJBQWMseUZBQXlGLEdBQ3ZHLHFEQUFxRCxHQUFHLGVBQWUsR0FBRyxtREFBbUQsR0FBRyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNoSyxNQUFNOztBQUVMLFlBQU0sMkJBQWMsd0ZBQXdGLEdBQ3RHLGlEQUFpRCxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNuRjtHQUNGO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztHQUN4RTs7QUFFRCxjQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7O0FBSWxELEtBQUcs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QUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUYsU0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDM0I7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiIiwiZmlsZSI6InJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9leGNlcHRpb24nO1xuaW1wb3J0IHsgQ09NUElMRVJfUkVWSVNJT04sIFJFVklTSU9OX0NIQU5HRVMsIGNyZWF0ZUZyYW1lIH0gZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uICE9PSBjdXJyZW50UmV2aXNpb24pIHtcbiAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuICAgICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBkYXRlIHlvdXIgcHJlY29tcGlsZXIgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgcnVudGltZVZlcnNpb25zICsgJykgb3IgZG93bmdyYWRlIHlvdXIgcnVudGltZSB0byBhbiBvbGRlciB2ZXJzaW9uICgnICsgY29tcGlsZXJWZXJzaW9ucyArICcpLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWVudikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ05vIGVudmlyb25tZW50IHBhc3NlZCB0byB0ZW1wbGF0ZScpO1xuICB9XG4gIGlmICghdGVtcGxhdGVTcGVjIHx8ICF0ZW1wbGF0ZVNwZWMubWFpbikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1Vua25vd24gdGVtcGxhdGUgb2JqZWN0OiAnICsgdHlwZW9mIHRlbXBsYXRlU3BlYyk7XG4gIH1cblxuICB0ZW1wbGF0ZVNwZWMubWFpbi5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWMubWFpbl9kO1xuXG4gIC8vIE5vdGU6IFVzaW5nIGVudi5WTSByZWZlcmVuY2VzIHJhdGhlciB0aGFuIGxvY2FsIHZhciByZWZlcmVuY2VzIHRocm91Z2hvdXQgdGhpcyBzZWN0aW9uIHRvIGFsbG93XG4gIC8vIGZvciBleHRlcm5hbCB1c2VycyB0byBvdmVycmlkZSB0aGVzZSBhcyBwc3VlZG8tc3VwcG9ydGVkIEFQSXMuXG4gIGVudi5WTS5jaGVja1JldmlzaW9uKHRlbXBsYXRlU3BlYy5jb21waWxlcik7XG5cbiAgZnVuY3Rpb24gaW52b2tlUGFydGlhbFdyYXBwZXIocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAgIGNvbnRleHQgPSBVdGlscy5leHRlbmQoe30sIGNvbnRleHQsIG9wdGlvbnMuaGFzaCk7XG4gICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgb3B0aW9ucy5pZHNbMF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcbiAgICBsZXQgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGlmIChyZXN1bHQgPT0gbnVsbCAmJiBlbnYuY29tcGlsZSkge1xuICAgICAgb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdID0gZW52LmNvbXBpbGUocGFydGlhbCwgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucywgZW52KTtcbiAgICAgIHJlc3VsdCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXShjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmRlbnQpIHtcbiAgICAgICAgbGV0IGxpbmVzID0gcmVzdWx0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5lc1tpXSA9IG9wdGlvbnMuaW5kZW50ICsgbGluZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gSnVzdCBhZGQgd2F0ZXJcbiAgbGV0IGNvbnRhaW5lciA9IHtcbiAgICBzdHJpY3Q6IGZ1bmN0aW9uKG9iaiwgbmFtZSkge1xuICAgICAgaWYgKCEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqW25hbWVdO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbihkZXB0aHMsIG5hbWUpIHtcbiAgICAgIGNvbnN0IGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChkZXB0aHNbaV0gJiYgZGVwdGhzW2ldW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgbWVyZ2U6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgIGxldCBvYmogPSBwYXJhbSB8fCBjb21tb247XG5cbiAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgKHBhcmFtICE9PSBjb21tb24pKSB7XG4gICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXSA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0LyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuICcnICsgdGVtcGxhdGVTcGVjLm1haW4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICB9XG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKHRlbXBsYXRlU3BlYy5tYWluLCBtYWluLCBjb250YWluZXIsIG9wdGlvbnMuZGVwdGhzIHx8IFtdLCBkYXRhLCBibG9ja1BhcmFtcyk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmhlbHBlcnMsIGVudi5oZWxwZXJzKTtcblxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLnBhcnRpYWxzLCBlbnYucGFydGlhbHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsIHx8IHRlbXBsYXRlU3BlYy51c2VEZWNvcmF0b3JzKSB7XG4gICAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gY29udGFpbmVyLm1lcmdlKG9wdGlvbnMuZGVjb3JhdG9ycywgZW52LmRlY29yYXRvcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG9wdGlvbnMuaGVscGVycztcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IG9wdGlvbnMuZGVjb3JhdG9ycztcbiAgICB9XG4gIH07XG5cbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIHRlbXBsYXRlU3BlY1tpXSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gIGZ1bmN0aW9uIHByb2coY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGN1cnJlbnREZXB0aHMgPSBkZXB0aHM7XG4gICAgaWYgKGRlcHRocyAmJiBjb250ZXh0ICE9IGRlcHRoc1swXSAmJiAhKGNvbnRleHQgPT09IGNvbnRhaW5lci5udWxsQ29udGV4dCAmJiBkZXB0aHNbMF0gPT09IG51bGwpKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihjb250YWluZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsXG4gICAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtcyAmJiBbb3B0aW9ucy5ibG9ja1BhcmFtc10uY29uY2F0KGJsb2NrUGFyYW1zKSxcbiAgICAgICAgY3VycmVudERlcHRocyk7XG4gIH1cblxuICBwcm9nID0gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcyk7XG5cbiAgcHJvZy5wcm9ncmFtID0gaTtcbiAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuICBwcm9nLmJsb2NrUGFyYW1zID0gZGVjbGFyZWRCbG9ja1BhcmFtcyB8fCAwO1xuICByZXR1cm4gcHJvZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gJ0BwYXJ0aWFsLWJsb2NrJykge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcGFydGlhbC5jYWxsICYmICFvcHRpb25zLm5hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZHluYW1pYyBwYXJ0aWFsIHRoYXQgcmV0dXJuZWQgYSBzdHJpbmdcbiAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW3BhcnRpYWxdO1xuICB9XG4gIHJldHVybiBwYXJ0aWFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIC8vIFVzZSB0aGUgY3VycmVudCBjbG9zdXJlIGNvbnRleHQgdG8gc2F2ZSB0aGUgcGFydGlhbC1ibG9jayBpZiB0aGlzIHBhcnRpYWxcbiAgY29uc3QgY3VycmVudFBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgb3B0aW9ucy5wYXJ0aWFsID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoID0gb3B0aW9ucy5pZHNbMF0gfHwgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoO1xuICB9XG5cbiAgbGV0IHBhcnRpYWxCbG9jaztcbiAgaWYgKG9wdGlvbnMuZm4gJiYgb3B0aW9ucy5mbiAhPT0gbm9vcCkge1xuICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgLy8gV3JhcHBlciBmdW5jdGlvbiB0byBnZXQgYWNjZXNzIHRvIGN1cnJlbnRQYXJ0aWFsQmxvY2sgZnJvbSB0aGUgY2xvc3VyZVxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG4gICAgcGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBmdW5jdGlvbiBwYXJ0aWFsQmxvY2tXcmFwcGVyKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuXG4gICAgICAvLyBSZXN0b3JlIHRoZSBwYXJ0aWFsLWJsb2NrIGZyb20gdGhlIGNsb3N1cmUgZm9yIHRoZSBleGVjdXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGN1cnJlbnRQYXJ0aWFsQmxvY2s7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoZm4ucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuICAgIHBhcnRpYWwgPSBwYXJ0aWFsQmxvY2s7XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IHJldHVybiAnJzsgfVxuXG5mdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuICAgIGRhdGEgPSBkYXRhID8gY3JlYXRlRnJhbWUoZGF0YSkgOiB7fTtcbiAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG4gIGlmIChmbi5kZWNvcmF0b3IpIHtcbiAgICBsZXQgcHJvcHMgPSB7fTtcbiAgICBwcm9nID0gZm4uZGVjb3JhdG9yKHByb2csIHByb3BzLCBjb250YWluZXIsIGRlcHRocyAmJiBkZXB0aHNbMF0sIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG4iXX0=\n","// Build out our basic SafeString type\n'use strict';\n\nexports.__esModule = true;\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function () {\n  return '' + this.string;\n};\n\nexports['default'] = SafeString;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==\n","'use strict';\n\nexports.__esModule = true;\nexports.extend = extend;\nexports.indexOf = indexOf;\nexports.escapeExpression = escapeExpression;\nexports.isEmpty = isEmpty;\nexports.createFrame = createFrame;\nexports.blockParams = blockParams;\nexports.appendContextPath = appendContextPath;\nvar escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nvar badChars = /[&<>\"'`=]/g,\n    possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction extend(obj /* , ...source */) {\n  for (var i = 1; i < arguments.length; i++) {\n    for (var key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nvar toString = Object.prototype.toString;\n\nexports.toString = toString;\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nvar isFunction = function isFunction(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  exports.isFunction = isFunction = function (value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexports.isFunction = isFunction;\n\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nvar isArray = Array.isArray || function (value) {\n  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;\n};\n\nexports.isArray = isArray;\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\n\nfunction indexOf(array, value) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nfunction isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction createFrame(object) {\n  var frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nfunction blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nfunction appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQ3ZCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRTdCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFtQjtBQUMzQyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQUlNLFVBQVUsR0FKaEIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQU8sT0FBTyxLQUFLLEtBQUssVUFBVSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssbUJBQW1CLENBQUM7R0FDcEYsQ0FBQztDQUNIO1FBQ08sVUFBVSxHQUFWLFVBQVU7Ozs7O0FBSVgsSUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sSUFBSSxVQUFTLEtBQUssRUFBRTtBQUN0RCxTQUFPLEFBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsR0FBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUFHLEtBQUssQ0FBQztDQUNqRyxDQUFDOzs7OztBQUdLLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUdNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUFFLFdBQU8sTUFBTSxDQUFDO0dBQUU7QUFDOUMsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iai8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydCB7aXNGdW5jdGlvbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIl19\n","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\application.ts\n * Created Date: Saturday, August 18th 2018, 4:20:30 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 1:21:14 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { Scene } from './scene/scene';\nimport { RendererPlatform } from './graphics/renderer';\nimport { AppOption, FnVoid } from './types';\nimport { event } from './core/event';\nexport class Application {\n    sceneInstances: Scene[] = [];\n    activeIndex = 0;\n    rendererPlatform: RendererPlatform;\n    canvas: HTMLCanvasElement;\n    get scene() {\n        return this.sceneInstances[this.activeIndex];\n    }\n    constructor(canvas: HTMLCanvasElement, option?: AppOption) {\n        this.canvas = canvas;\n        this.rendererPlatform = new RendererPlatform(this.canvas, option);\n        this.sceneInstances.push(new Scene(this));\n    }\n    start() {\n        this.tick();\n    }\n    add(scene: Scene) {\n        this.sceneInstances.push(scene);\n    }\n    on(name: string, cb: FnVoid) {\n        event.on(name, cb);\n    }\n    private tick() {\n        // this.scene.renderer();\n        event.fire('update');\n        this.scene.render();\n        window.requestAnimationFrame(this.tick.bind(this));\n    }\n\n    private complete() {\n        // appendCanvas(this.canvas);\n    }\n    get [Symbol.toStringTag]() {\n        return 'Application';\n    }\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\conf.ts\n * Created Date: Tuesday, August 14th 2018, 5:02:06 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 9:19:43 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\n\n/**\n * 数据类型\n *\n * @export\n * @enum {number}\n */\nexport enum DataType {\n    INT8,\n    UINT8,\n    INT16,\n    UINT16,\n    INT32,\n    UINT32,\n    FLOAT32\n}\n\n\n/**\n * 顶点数据输入定义\n *\n * @export\n * @enum {number}\n */\nexport enum SEMANTIC {\n    POSITION = 'POSITION',\n    NORMAL = 'NORMAL',\n    TANGENT = 'TANGENT',\n    BLENDWEIGHT = 'BLENDWEIGHT',\n    BLENDINDICES = 'BLENDINDICES',\n    COLOR = 'COLOR',\n    TEXCOORD0 = 'TEXCOORD0',\n    TEXCOORD1 = 'TEXCOORD1',\n    TEXCOORD2 = 'TEXCOORD2',\n    TEXCOORD3 = 'TEXCOORD3',\n    TEXCOORD4 = 'TEXCOORD4',\n    TEXCOORD5 = 'TEXCOORD5',\n    TEXCOORD6 = 'TEXCOORD6',\n    TEXCOORD7 = 'TEXCOORD7'\n}\n\nexport enum BUFFER {\n    STATIC = 'STATIC',\n    DYNAMIC = 'DYNAMIC',\n    STREAM = 'STREAM',\n    GPUDYNAMIC = 'GPUDYNAMIC'\n}\n\nexport enum CURVE {\n    LINEAR = 'LINEAR',\n    SMOOTHSTEP = 'SMOOTHSTEP',\n    CATMULL = 'CATMULL',\n    CARDINAL = 'CARDINAL'\n}\n\n\nexport enum UNIFORM_TYPE {\n    BOOL,\n    INT,\n    FLOAT,\n    FLOAT_VEC2,\n    FLOAT_VEC3,\n    FLOAT_VEC4,\n    INT_VEC2,\n    INT_VEC3,\n    INT_VEC4,\n    BOOL_VEC2,\n    BOOL_VEC3,\n    BOOL_VEC4,\n    FLOAT_MAT2,\n    FLOAT_MAT3,\n    FLOAT_MAT4,\n    SAMPLER_2D,\n    SAMPLER_CUBE,\n    SAMPLER_2D_SHADOW,\n    SAMPLER_CUBE_SHADOW,\n    SAMPLER_3D,\n    FLOATARRAY\n}\n\nexport enum ADDRESS {\n    /**\n     * 仅使用小数部分忽略纹理坐标的整数部分\n     */\n    REPEAT,\n    /**\n     * 将纹理坐标夹在0到1的范围内\n     */\n    CLAMP_TO_EDGE,\n    /**\n     * 如果整数部分是偶数，则将纹理坐标设置为小数部分;如果整数部分是奇数，则纹理坐标设置为1减去小数部分。\n     */\n    MIRRORED_REPEAT\n}\n\nexport enum FILTER {\n    /**\n     * 在纹理基层上执行线性过滤,从最大的贴图中选择4个像素然后混合\n     */\n    LINEAR,\n    /**\n     * 在mip层之间执行线性插补，并执行线性过滤\n     * 选择最合适的两个贴图，从每个上选择 4 个像素然后混合\n     */\n    LINEAR_MIPMAP_LINEAR,\n    /**\n     * 选择最临近的mip层，并执行线性过滤\n     * 选择最合适的贴图，然后取出 4 个像素进行混合\n     */\n    LINEAR_MIPMAP_NEAREST,\n    /**\n     * 在纹理基层上执行最邻近过滤\n     */\n    NEAREST,\n    /**\n     * 选择最临近的mip层，并执行最临近的过滤,从最大的贴图中选择 1 个像素\n     * 选择最合适的贴图，然后从上面找到一个像素\n     */\n    NEAREST_MIPMAP_NEAREST,\n    /**\n     * 在mip层之间执行线性插补，并执行最临近的过滤\n     *  选择最合适的两个贴图，从每个上面选择 1 个像素然后混合\n     */\n    NEAREST_MIPMAP_LINEAR,\n}\nexport enum PIXELFORMAT {\n    A8,\n    L8,\n    L8_A8,\n    R5_G6_B5,\n    R5_G5_B5_A1,\n    R4_G4_B4_A4,\n    R8_G8_B8,\n    R8_G8_B8_A8,\n    DXT1,\n    DXT3,\n    DXT5,\n    RGB16F,\n    RGBA16F,\n    RGB32F,\n    RGBA32F,\n    ETC1,\n    PVRTC_2BPP_RGB_1,\n    PVRTC_2BPP_RGBA_1,\n    PVRTC_4BPP_RGB_1,\n    PVRTC_4BPP_RGBA_1,\n    _111110F, // 浮点颜色格式，红色和绿色通道为11位，蓝色通道为10位（仅限WebGL2）。\n    SRGB,\n    SRGBA,\n    R32F,\n    DEPTH,\n    DEPTHSTENCIL,\n}\nexport enum FUNC {\n    NEVER = 0,\n    LESS = 1,\n    EQUAL = 2,\n    LESSEQUAL = 3,\n    GREATER = 4,\n    NOTEQUAL = 5,\n    GREATEREQUAL = 6,\n    ALWAYS = 7,\n}\nexport enum TEXHINT {\n    NONE = 0,\n    SHADOWMAP = 1,\n    ASSET = 2,\n    LIGHTMAP = 3,\n}\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\core\\color.ts\n * Created Date: Saturday, August 25th 2018, 4:51:43 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, August 25th 2018, 8:27:36 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { intToBytes32, intToBytes24 } from '../math/math';\nexport class Color {\n    buffer: ArrayBuffer;\n    data: Float32Array;\n    data3: Float32Array;\n    constructor(r?: number, g?: number, b?: number, a?: number) {\n        this.buffer = new ArrayBuffer(4 * 4);\n        this.data = new Float32Array(this.buffer, 0, 4);\n        this.data3 = new Float32Array(this.buffer, 0, 3);\n        this.data[0] = r || 0;\n        this.data[1] = g || 0;\n        this.data[2] = b || 0;\n        this.data[3] = a !== undefined ? a : 1;\n    }\n\n\n    clone() {\n        return new Color(this.data[0], this.data[1], this.data[2], this.data[3]);\n    }\n\n\n    copy({ data }: Color) {\n        // tslint:disable-next-line:one-variable-per-declaration\n        const a = this.data, b = data;\n\n        a[0] = b[0];\n        a[1] = b[1];\n        a[2] = b[2];\n        a[3] = b[3];\n\n        return this;\n    }\n\n    set(r: number, g: number, b: number, a?: number) {\n        const c = this.data;\n\n        c[0] = r;\n        c[1] = g;\n        c[2] = b;\n        c[3] = (a === undefined) ? 1 : a;\n\n        return this;\n    }\n\n    fromString(hex) {\n        const i = parseInt(hex.replace('#', '0x'), 10);\n        let bytes;\n        if (hex.length > 7) {\n            bytes = intToBytes32(i);\n        } else {\n            bytes = intToBytes24(i);\n            bytes[3] = 255;\n        }\n\n        this.set(bytes[0] / 255, bytes[1] / 255, bytes[2] / 255, bytes[3] / 255);\n\n        return this;\n    }\n\n    toString(alpha) {\n        let s = `#${((1 << 24) + (parseInt((this.r * 255).toString(), 10) << 16) + (parseInt((this.g * 255).toString(), 10) << 8) + parseInt((this.b * 255).toString(), 10)).toString(16).slice(1)}`;\n        if (alpha === true) {\n            const a = parseInt((this.a * 255).toString(), 10).toString(16);\n            if (this.a < 16 / 255) {\n                s += `0${a}`;\n            } else {\n                s += a;\n            }\n\n        }\n\n        return s;\n    }\n\n    get r() {\n        return this.data[0];\n    }\n\n    set r(value) {\n        this.data[0] = value;\n    }\n\n    get g() {\n        return this.data[1];\n    }\n\n    set g(value) {\n        this.data[1] = value;\n    }\n\n    get b() {\n        return this.data[2];\n    }\n\n    set b(value) {\n        this.data[2] = value;\n    }\n\n    get a() {\n        return this.data[3];\n    }\n\n    set a(value) {\n        this.data[3] = value;\n    }\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\core\\element.ts\n * Created Date: Saturday, August 18th 2018, 4:23:54 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 1:44:31 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { generateUUID } from '../math/math';\nimport { Nullable } from '../types';\n\nexport class Base {\n    uuid = generateUUID();\n    name: Nullable<string> = null;\n}\n\n\nlet ComponentIdCount = 0;\nexport class IElement extends Base {\n    id = ComponentIdCount++;\n    // uuid = generateUUID();\n    // name: Nullable<string> = null;\n    tag: Nullable<string> = null;\n    enable = true;\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\core\\event.ts\n * Created Date: Wednesday, August 22nd 2018, 1:40:58 am\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, August 22nd 2018, 1:48:02 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nconst _callbacks: {\n    [key: string]: Array<Function>\n} = {};\nexport const event = {\n    on(name: string, callback: any) {\n        if (event.hasEvent(name)) {\n            _callbacks[name].push(callback);\n        } else {\n            _callbacks[name] = [callback];\n        }\n        return event;\n    },\n    off(name: string, callback: any) {\n        if (event.hasEvent(name)) {\n            const index = _callbacks[name].findIndex(x => x === callback);\n            _callbacks[name].splice(index, 1);\n        }\n        return event;\n    },\n    fireOnce(name: string, ...args) {\n        if (event.hasEvent(name)) {\n            const waitMoves: any[] = [];\n            _callbacks[name].forEach((x, index) => {\n                x.apply(window, args);\n                // tslint:disable-next-line:no-unused-expression\n                (x as any).once && waitMoves.push(index);\n            });\n            let t;\n            // tslint:disable-next-line:no-conditional-assignment\n            while (t = waitMoves.pop()) {\n                _callbacks[name].splice(t, 1);\n            }\n        }\n        return event;\n    },\n    fire(name: string, ...args) {\n        if (event.hasEvent(name)) {\n            _callbacks[name].forEach((x, index) => {\n                x.apply(window, args);\n            });\n        }\n        return event;\n    },\n    once(name: string, callback: any) {\n        callback.once = true;\n        this.on(name, callback);\n        return event;\n    },\n    hasEvent(name: string) {\n        return name in _callbacks;\n    }\n};","/*\n * ProjectName: hypergl\n * FilePath: \\src\\component\\entity.ts\n * Created Date: Tuesday, August 28th 2018, 1:21:15 am\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, August 29th 2018, 8:02:05 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { INode } from '../scene/node';\nimport { Mesh } from '../mesh/mesh';\nimport { Material } from '../material/material';\nimport { Shader } from '../graphics/shader';\nexport class Entity extends INode {\n    mesh?: Mesh;\n    _shader?: Shader;\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\ecs\\index.ts\n * Created Date: Wednesday, August 29th 2018, 7:59:40 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, August 29th 2018, 7:59:46 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nexport * from './entity';","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\index.ts\n * Created Date: Saturday, August 18th 2018, 5:29:48 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, August 18th 2018, 11:04:53 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nexport * from './vertexBuffer';\nexport * from './vertexFormat';\nexport * from './indexBuffer';","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\indexBuffer.ts\n * Created Date: Tuesday, August 14th 2018, 5:02:44 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 12:45:34 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { RendererPlatform } from './renderer';\nimport { TypeArray, TypeArrayConstructor } from '../types';\nimport { BUFFER } from '../conf';\nexport class IndexBuffer {\n    buffer!: ArrayBuffer;\n    bufferId?: WebGLBuffer;\n    length = 0;\n    drawFormat!: number;\n    constructor(renderer: RendererPlatform, dataType: TypeArrayConstructor, usage: BUFFER, data: ArrayBuffer, length?: number)\n    constructor(renderer: RendererPlatform, dataType: TypeArrayConstructor, usage: BUFFER, data: Array<number>)\n    constructor(private renderer: RendererPlatform, private dataType: TypeArrayConstructor, private usage: BUFFER = BUFFER.STATIC, data: Array<number> | ArrayBuffer, length?: number) {\n        const gl = renderer.gl;\n        if (dataType === Uint8Array) {\n            this.drawFormat = gl.UNSIGNED_BYTE;\n        } else if (dataType === Uint16Array) {\n            this.drawFormat = gl.UNSIGNED_SHORT;\n        } else if (dataType === Uint32Array) {\n            this.drawFormat = gl.UNSIGNED_INT;\n        }\n        if (Array.isArray(data)) {\n            this.buffer = new (dataType as any)(data).buffer;\n            this.length = data.length;\n        } else {\n            this.buffer = data;\n            this.length = length || new (dataType as any)(data).length;\n        }\n        this.bind();\n    }\n    bind() {\n        let gl = this.renderer.gl;\n        if (!this.bufferId) {\n            this.bufferId = gl.createBuffer() as WebGLBuffer;\n        }\n        let glUsage;\n        switch (this.usage) {\n            case BUFFER.STATIC:\n                glUsage = gl.STATIC_DRAW;\n                break;\n            case BUFFER.DYNAMIC:\n                glUsage = gl.DYNAMIC_DRAW;\n                break;\n            case BUFFER.STREAM:\n                glUsage = gl.STREAM_DRAW;\n                break;\n            case BUFFER.GPUDYNAMIC:\n                if (this.renderer.platform === 'webgl2') {\n                    glUsage = gl.DYNAMIC_COPY;\n                } else {\n                    glUsage = gl.STATIC_DRAW;\n                }\n                break;\n        }\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.bufferId);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.buffer, glUsage);\n    }\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\device.ts\n * Created Date: Wednesday, August 15th 2018, 12:24:29 am\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 9:32:14 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { Log } from '../util';\nimport { UNIFORM_TYPE, PIXELFORMAT, FILTER, ADDRESS, TEXHINT } from '../conf';\nimport { ShaderProgramGenerator } from './shaderProgramGenerator';\nimport { FnVoid, AppOption, Nullable } from '../types';\nimport { Shader } from './shader';\nimport { IndexBuffer } from './indexBuffer';\nimport { VertexBuffer } from './vertexBuffer';\nimport { Entity } from '../ecs';\nimport { Texture } from '../texture/texture';\nexport type Platform = 'webgl' | 'webgl2';\nexport class RendererPlatform {\n    extCompressedTexturePVRTC: any;\n    glFilter!: number[];\n    glAddress!: number[];\n    extTextureFilterAnisotropic: any;\n    glComparison!: number[];\n    maxCubeMapSize: any;\n    maxTextureSize: any;\n    get gl() {\n        return this.webgl2 || this.webgl;\n    }\n    platform!: Platform;\n    AttrbuteType: { [s: string]: number } = {};\n    glTypeToJs: { [s: string]: Nullable<UNIFORM_TYPE> } = {};\n    uniformFunction: { [s: string]: FnVoid; } = {};\n    programGenerator = new ShaderProgramGenerator(this);\n    extTextureHalfFloat!: OES_texture_half_float | true;\n    extCompressedTextureS3TC!: WEBGL_compressed_texture_s3tc;\n    extCompressedTextureETC1: any;\n    activeTexture?: number;\n    textureUnits!: Texture[];\n\n    _vram = {\n        // #ifdef PROFILER\n        texShadow: 0,\n        texAsset: 0,\n        texLightmap: 0,\n        // #endif\n        tex: 0,\n        vb: 0,\n        ib: 0\n    };\n    private maxAniso!: number;\n    get maxAnisotropy() {\n        if (this.maxAniso === undefined) {\n            let maxAniso = 1;\n            let gl = this.gl;\n            let glExt = this.extTextureFilterAnisotropic;\n            if (glExt) {\n                maxAniso = gl.getParameter(glExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n            }\n            this.maxAniso = maxAniso;\n        }\n        return this.maxAniso;\n    }\n    private webgl!: WebGLRenderingContext;\n    private webgl2!: WebGL2RenderingContext;\n    constructor(canvas: HTMLCanvasElement, option?: AppOption) {\n        let webgl2;\n        if (option && !option.webgl1) {\n            webgl2 = canvas.getContext('webgl2') as any;\n        }\n        this.webgl2 = webgl2;\n        // this.webgl2 = canvas.getContext('webgl2') as any;\n        if (this.webgl2) {\n            this.platform = 'webgl2';\n            Log.debug(`platform:${this.platform}`);\n        } else {\n            this.webgl = canvas.getContext('webgl') as any;\n            if (this.webgl) {\n                this.platform = 'webgl';\n                Log.debug(`platform:${this.platform}`);\n            } else {\n                Log.error('你的浏览器不支持webgl');\n            }\n        }\n        this.init();\n        this.initializeExtensions();\n    }\n    init() {\n        let gl = this.gl;\n        let glTypeToJs = this.glTypeToJs;\n        glTypeToJs[gl.BOOL] = UNIFORM_TYPE.BOOL;\n        glTypeToJs[gl.INT] = UNIFORM_TYPE.INT;\n        glTypeToJs[gl.FLOAT] = UNIFORM_TYPE.FLOAT;\n        glTypeToJs[gl.FLOAT_VEC2] = UNIFORM_TYPE.FLOAT_VEC2;\n        glTypeToJs[gl.FLOAT_VEC3] = UNIFORM_TYPE.FLOAT_VEC3;\n        glTypeToJs[gl.FLOAT_VEC4] = UNIFORM_TYPE.FLOAT_VEC4;\n        glTypeToJs[gl.INT_VEC2] = UNIFORM_TYPE.INT_VEC2;\n        glTypeToJs[gl.INT_VEC3] = UNIFORM_TYPE.INT_VEC3;\n        glTypeToJs[gl.INT_VEC4] = UNIFORM_TYPE.INT_VEC4;\n        glTypeToJs[gl.BOOL_VEC2] = UNIFORM_TYPE.BOOL_VEC2;\n        glTypeToJs[gl.BOOL_VEC3] = UNIFORM_TYPE.BOOL_VEC3;\n        glTypeToJs[gl.BOOL_VEC4] = UNIFORM_TYPE.BOOL_VEC4;\n        glTypeToJs[gl.FLOAT_MAT2] = UNIFORM_TYPE.FLOAT_MAT2;\n        glTypeToJs[gl.FLOAT_MAT3] = UNIFORM_TYPE.FLOAT_MAT3;\n        glTypeToJs[gl.FLOAT_MAT4] = UNIFORM_TYPE.FLOAT_MAT4;\n        glTypeToJs[gl.SAMPLER_2D] = UNIFORM_TYPE.SAMPLER_2D;\n        glTypeToJs[gl.SAMPLER_CUBE] = UNIFORM_TYPE.SAMPLER_CUBE;\n        if (this.platform === 'webgl2') {\n            glTypeToJs[gl.SAMPLER_2D_SHADOW] = UNIFORM_TYPE.SAMPLER_2D_SHADOW;\n            glTypeToJs[gl.SAMPLER_CUBE_SHADOW] = UNIFORM_TYPE.SAMPLER_CUBE_SHADOW;\n            glTypeToJs[gl.SAMPLER_3D] = UNIFORM_TYPE.SAMPLER_3D;\n        }\n\n        this.AttrbuteType = {\n            [Int8Array.name]: gl.BYTE,\n            [Uint8Array.name]: gl.UNSIGNED_BYTE,\n            [Int16Array.name]: gl.SHORT,\n            [Uint16Array.name]: gl.UNSIGNED_SHORT,\n            [Int32Array.name]: gl.INT,\n            [Uint32Array.name]: gl.UNSIGNED_INT,\n            [Float32Array.name]: gl.FLOAT,\n            [Float64Array.name]: gl.HIGH_FLOAT\n        };\n        // tslint:disable-next-line:one-variable-per-declaration\n        let uniformValue, scopeX, scopeY, scopeZ, scopeW;\n        this.uniformFunction[UNIFORM_TYPE.BOOL] = (uniform, value) => {\n            if (uniform.value !== value) {\n                gl.uniform1i(uniform.locationId, value);\n                uniform.value = value;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.INT] = this.uniformFunction[UNIFORM_TYPE.BOOL];\n        this.uniformFunction[UNIFORM_TYPE.FLOAT] = (uniform, value) => {\n            if (uniform.value !== value) {\n                gl.uniform1f(uniform.locationId, value);\n                uniform.value = value;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.FLOAT_VEC2] = (uniform, value) => {\n            uniformValue = uniform.value;\n            scopeX = value[0];\n            scopeY = value[1];\n            if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY) {\n                gl.uniform2fv(uniform.locationId, value);\n                uniformValue[0] = scopeX;\n                uniformValue[1] = scopeY;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.FLOAT_VEC3] = (uniform, value) => {\n            uniformValue = uniform.value;\n            scopeX = value[0];\n            scopeY = value[1];\n            scopeZ = value[2];\n            if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ) {\n                gl.uniform3fv(uniform.locationId, value);\n                uniformValue[0] = scopeX;\n                uniformValue[1] = scopeY;\n                uniformValue[2] = scopeZ;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.FLOAT_VEC4] = (uniform, value) => {\n            uniformValue = uniform.value;\n            scopeX = value[0];\n            scopeY = value[1];\n            scopeZ = value[2];\n            scopeW = value[3];\n            if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ || uniformValue[3] !== scopeW) {\n                gl.uniform4fv(uniform.locationId, value);\n                uniformValue[0] = scopeX;\n                uniformValue[1] = scopeY;\n                uniformValue[2] = scopeZ;\n                uniformValue[3] = scopeW;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.INT_VEC2] = (uniform, value) => {\n            uniformValue = uniform.value;\n            scopeX = value[0];\n            scopeY = value[1];\n            if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY) {\n                gl.uniform2iv(uniform.locationId, value);\n                uniformValue[0] = scopeX;\n                uniformValue[1] = scopeY;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.BOOL_VEC2] = this.uniformFunction[UNIFORM_TYPE.INT_VEC2];\n        this.uniformFunction[UNIFORM_TYPE.INT_VEC3] = (uniform, value) => {\n            uniformValue = uniform.value;\n            scopeX = value[0];\n            scopeY = value[1];\n            scopeZ = value[2];\n            if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ) {\n                gl.uniform3iv(uniform.locationId, value);\n                uniformValue[0] = scopeX;\n                uniformValue[1] = scopeY;\n                uniformValue[2] = scopeZ;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.BOOL_VEC3] = this.uniformFunction[UNIFORM_TYPE.INT_VEC3];\n        this.uniformFunction[UNIFORM_TYPE.INT_VEC4] = (uniform, value) => {\n            uniformValue = uniform.value;\n            scopeX = value[0];\n            scopeY = value[1];\n            scopeZ = value[2];\n            scopeW = value[3];\n            if (uniformValue[0] !== scopeX || uniformValue[1] !== scopeY || uniformValue[2] !== scopeZ || uniformValue[3] !== scopeW) {\n                gl.uniform4iv(uniform.locationId, value);\n                uniformValue[0] = scopeX;\n                uniformValue[1] = scopeY;\n                uniformValue[2] = scopeZ;\n                uniformValue[3] = scopeW;\n            }\n        };\n        this.uniformFunction[UNIFORM_TYPE.BOOL_VEC4] = this.uniformFunction[UNIFORM_TYPE.INT_VEC4];\n        this.uniformFunction[UNIFORM_TYPE.FLOAT_MAT2] = (uniform, value) => {\n            gl.uniformMatrix2fv(uniform.locationId, false, value);\n        };\n        this.uniformFunction[UNIFORM_TYPE.FLOAT_MAT3] = (uniform, value) => {\n            gl.uniformMatrix3fv(uniform.locationId, false, value);\n        };\n        this.uniformFunction[UNIFORM_TYPE.FLOAT_MAT4] = (uniform, value) => {\n            gl.uniformMatrix4fv(uniform.locationId, false, value);\n        };\n        this.uniformFunction[UNIFORM_TYPE.FLOATARRAY] = (uniform, value) => {\n            gl.uniform1fv(uniform.locationId, value);\n        };\n        this.glFilter = [\n            gl.LINEAR,\n            gl.LINEAR_MIPMAP_LINEAR,\n            gl.LINEAR_MIPMAP_NEAREST,\n            gl.NEAREST,\n            gl.NEAREST_MIPMAP_NEAREST,\n            gl.NEAREST_MIPMAP_LINEAR\n        ];\n        this.glAddress = [\n            gl.REPEAT,\n            gl.CLAMP_TO_EDGE,\n            gl.MIRRORED_REPEAT\n        ];\n        this.glComparison = [\n            gl.NEVER,\n            gl.LESS,\n            gl.EQUAL,\n            gl.LEQUAL,\n            gl.GREATER,\n            gl.NOTEQUAL,\n            gl.GEQUAL,\n            gl.ALWAYS\n        ];\n        this.maxCubeMapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n        this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n    }\n    initializeExtensions() {\n        let gl = this.gl;\n\n        if (this.webgl2) {\n            this.extTextureHalfFloat = true;\n        } else {\n            this.extTextureHalfFloat = gl.getExtension('OES_texture_half_float') as OES_texture_half_float;\n        }\n        this.extTextureFilterAnisotropic = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n\n        this.extCompressedTextureETC1 = gl.getExtension('WEBGL_compressed_texture_etc1');\n        this.extCompressedTexturePVRTC = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n        this.extCompressedTextureS3TC = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n    }\n    // tslint:disable-next-line:cyclomatic-complexity\n    initializeTexture(texture: Texture) {\n        let gl = this.gl;\n        let ext;\n\n        texture.bufferId = gl.createTexture();\n\n        texture._glTarget = texture.cubemap ? gl.TEXTURE_CUBE_MAP :\n            (texture.volume ? gl.TEXTURE_3D : gl.TEXTURE_2D);\n\n\n        switch (texture.format) {\n            case PIXELFORMAT.A8:\n                texture._glFormat = gl.ALPHA;\n                texture._glInternalFormat = gl.ALPHA;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n            case PIXELFORMAT.L8:\n                texture._glFormat = gl.LUMINANCE;\n                texture._glInternalFormat = gl.LUMINANCE;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n            case PIXELFORMAT.L8_A8:\n                texture._glFormat = gl.LUMINANCE_ALPHA;\n                texture._glInternalFormat = gl.LUMINANCE_ALPHA;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n            case PIXELFORMAT.R5_G6_B5:\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = gl.RGB;\n                texture._glPixelType = gl.UNSIGNED_SHORT_5_6_5;\n                break;\n            case PIXELFORMAT.R5_G5_B5_A1:\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = gl.RGBA;\n                texture._glPixelType = gl.UNSIGNED_SHORT_5_5_5_1;\n                break;\n            case PIXELFORMAT.R4_G4_B4_A4:\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = gl.RGBA;\n                texture._glPixelType = gl.UNSIGNED_SHORT_4_4_4_4;\n                break;\n            case PIXELFORMAT.R8_G8_B8:\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = this.webgl2 ? gl.RGB8 : gl.RGB;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n            case PIXELFORMAT.R8_G8_B8_A8:\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = this.webgl2 ? gl.RGBA8 : gl.RGBA;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n            case PIXELFORMAT.DXT1:\n                ext = this.extCompressedTextureS3TC;\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = ext.COMPRESSED_RGB_S3TC_DXT1_EXT;\n                break;\n            case PIXELFORMAT.DXT3:\n                ext = this.extCompressedTextureS3TC;\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = ext.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n                break;\n            case PIXELFORMAT.DXT5:\n                ext = this.extCompressedTextureS3TC;\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = ext.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n                break;\n            case PIXELFORMAT.ETC1:\n                ext = this.extCompressedTextureETC1;\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = ext.COMPRESSED_RGB_ETC1_WEBGL;\n                break;\n            case PIXELFORMAT.PVRTC_2BPP_RGB_1:\n                ext = this.extCompressedTexturePVRTC;\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = ext.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n                break;\n            case PIXELFORMAT.PVRTC_2BPP_RGBA_1:\n                ext = this.extCompressedTexturePVRTC;\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = ext.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n                break;\n            case PIXELFORMAT.PVRTC_4BPP_RGB_1:\n                ext = this.extCompressedTexturePVRTC;\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = ext.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n                break;\n            case PIXELFORMAT.PVRTC_4BPP_RGBA_1:\n                ext = this.extCompressedTexturePVRTC;\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = ext.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n                break;\n            case PIXELFORMAT.RGB16F:\n                // definition varies between WebGL1 and 2\n                ext = this.extTextureHalfFloat;\n                texture._glFormat = gl.RGB;\n                if (this.webgl2) {\n                    texture._glInternalFormat = gl.RGB16F;\n                    texture._glPixelType = gl.HALF_FLOAT;\n                } else {\n                    texture._glInternalFormat = gl.RGB;\n                    texture._glPixelType = ext.HALF_FLOAT_OES;\n                }\n                break;\n            case PIXELFORMAT.RGBA16F:\n                // definition varies between WebGL1 and 2\n                ext = this.extTextureHalfFloat;\n                texture._glFormat = gl.RGBA;\n                if (this.webgl2) {\n                    texture._glInternalFormat = gl.RGBA16F;\n                    texture._glPixelType = gl.HALF_FLOAT;\n                } else {\n                    texture._glInternalFormat = gl.RGBA;\n                    texture._glPixelType = ext.HALF_FLOAT_OES;\n                }\n                break;\n            case PIXELFORMAT.RGB32F:\n                // definition varies between WebGL1 and 2\n                texture._glFormat = gl.RGB;\n                if (this.webgl2) {\n                    texture._glInternalFormat = gl.RGB32F;\n                } else {\n                    texture._glInternalFormat = gl.RGB;\n                }\n                texture._glPixelType = gl.FLOAT;\n                break;\n            case PIXELFORMAT.RGBA32F:\n                // definition varies between WebGL1 and 2\n                texture._glFormat = gl.RGBA;\n                if (this.webgl2) {\n                    texture._glInternalFormat = gl.RGBA32F;\n                } else {\n                    texture._glInternalFormat = gl.RGBA;\n                }\n                texture._glPixelType = gl.FLOAT;\n                break;\n            case PIXELFORMAT.R32F: // WebGL2 only\n                texture._glFormat = gl.RED;\n                texture._glInternalFormat = gl.R32F;\n                texture._glPixelType = gl.FLOAT;\n                break;\n            case PIXELFORMAT.DEPTH:\n                if (this.webgl2) {\n                    // native WebGL2\n                    texture._glFormat = gl.DEPTH_COMPONENT;\n                    texture._glInternalFormat = gl.DEPTH_COMPONENT32F; // should allow 16/24 bits?\n                    texture._glPixelType = gl.FLOAT;\n                } else {\n                    // using WebGL1 extension\n                    texture._glFormat = gl.DEPTH_COMPONENT;\n                    texture._glInternalFormat = gl.DEPTH_COMPONENT;\n                    texture._glPixelType = gl.UNSIGNED_SHORT; // the only acceptable value?\n                }\n                break;\n            case PIXELFORMAT.DEPTHSTENCIL: // WebGL2 only\n                texture._glFormat = gl.DEPTH_STENCIL;\n                texture._glInternalFormat = gl.DEPTH24_STENCIL8;\n                texture._glPixelType = gl.UNSIGNED_INT_24_8;\n                break;\n            case PIXELFORMAT._111110F: // WebGL2 only\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = gl.R11F_G11F_B10F;\n                texture._glPixelType = gl.FLOAT;\n                break;\n            case PIXELFORMAT.SRGB: // WebGL2 only\n                texture._glFormat = gl.RGB;\n                texture._glInternalFormat = gl.SRGB8;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n            case PIXELFORMAT.SRGBA: // WebGL2 only\n                texture._glFormat = gl.RGBA;\n                texture._glInternalFormat = gl.SRGB8_ALPHA8;\n                texture._glPixelType = gl.UNSIGNED_BYTE;\n                break;\n        }\n    }\n    setShader(shader: Shader) {\n        if (shader.ready === false) {\n            shader.link();\n        }\n        this.gl.useProgram(shader.program as WebGLProgram);\n    }\n    // tslint:disable-next-line:cyclomatic-complexity\n    setTexture(texture: Texture, textureUnit: number) {\n        let gl = this.gl;\n        if (!texture.bufferId) {\n            this.initializeTexture(texture);\n        }\n        let paramDirty = texture._minFilterDirty || texture._magFilterDirty ||\n            texture._addressUDirty || texture._addressVDirty || texture._addressWDirty ||\n            texture._anisotropyDirty || texture._compareModeDirty;\n        if ((this.textureUnits[textureUnit] !== texture) || paramDirty) {\n            if (this.activeTexture !== textureUnit) {\n                gl.activeTexture(gl.TEXTURE0 + textureUnit);\n                this.activeTexture = textureUnit;\n            }\n            gl.bindTexture(texture._glTarget as number, texture.bufferId);\n            this.textureUnits[textureUnit] = texture;\n        }\n\n        if (paramDirty) {\n            if (texture._minFilterDirty) {\n                let filter = texture.minFilter;\n                if (!texture.pot || !texture.mipmaps || (texture.compressed && texture._levels.length === 1)) {\n                    if (filter === FILTER.NEAREST_MIPMAP_NEAREST || filter === FILTER.NEAREST_MIPMAP_LINEAR) {\n                        filter = FILTER.NEAREST;\n                    } else if (filter === FILTER.LINEAR_MIPMAP_NEAREST || filter === FILTER.LINEAR_MIPMAP_LINEAR) {\n                        filter = FILTER.LINEAR;\n                    }\n                }\n                gl.texParameteri(texture._glTarget as number, gl.TEXTURE_MIN_FILTER, this.glFilter[filter]);\n                texture._minFilterDirty = false;\n            }\n            if (texture._magFilterDirty) {\n                gl.texParameteri(texture._glTarget as number, gl.TEXTURE_MAG_FILTER, this.glFilter[texture.magFilter]);\n                texture._magFilterDirty = false;\n            }\n            if (texture._addressUDirty) {\n                if (this.webgl2) {\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_WRAP_S, this.glAddress[texture.addressU]);\n                } else {\n                    // WebGL1 doesn't support all addressing modes with NPOT textures\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_WRAP_S, this.glAddress[texture.pot ? texture.addressU : ADDRESS.CLAMP_TO_EDGE]);\n                }\n                texture._addressUDirty = false;\n            }\n            if (texture._addressVDirty) {\n                if (this.webgl2) {\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_WRAP_T, this.glAddress[texture.addressV]);\n                } else {\n                    // WebGL1 doesn't support all addressing modes with NPOT textures\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_WRAP_T, this.glAddress[texture.pot ? texture.addressV : ADDRESS.CLAMP_TO_EDGE]);\n                }\n                texture._addressVDirty = false;\n            }\n            if (this.webgl2) {\n                if (texture._addressWDirty) {\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_WRAP_R, this.glAddress[texture.addressW]);\n                    texture._addressWDirty = false;\n                }\n                if (texture._compareModeDirty) {\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_COMPARE_MODE, texture._compareOnRead ? gl.COMPARE_REF_TO_TEXTURE : gl.NONE);\n                    gl.texParameteri(texture._glTarget as number, gl.TEXTURE_COMPARE_FUNC, this.glComparison[texture._compareFunc]);\n                    texture._compareModeDirty = false;\n                }\n            }\n            if (texture._anisotropyDirty) {\n                let ext = this.extTextureFilterAnisotropic;\n                if (ext) gl.texParameterf(texture._glTarget as number, ext.TEXTURE_MAX_ANISOTROPY_EXT, Math.max(1, Math.min(Math.round(texture.anisotropy), this.maxAnisotropy)));\n                texture._anisotropyDirty = false;\n            }\n        }\n\n        if (texture._needsUpload || texture._needsMipmapsUpload) {\n            this.uploadTexture(texture);\n            texture._needsUpload = false;\n            texture._needsMipmapsUpload = false;\n        }\n    }\n    // tslint:disable-next-line:cyclomatic-complexity\n    uploadTexture(texture: Texture) {\n        let gl = this.gl;\n\n        if (!texture._needsUpload && ((texture._needsMipmapsUpload && texture._mipmapsUploaded) || !texture.pot)) {\n            return;\n        }\n\n        let mipLevel = 0;\n        let mipObject;\n        let resMult;\n\n        while (texture._levels[mipLevel] || mipLevel === 0) {\n            // Upload all existing mip levels. Initialize 0 mip anyway.\n\n            if (!texture._needsUpload && mipLevel === 0) {\n                mipLevel++;\n                continue;\n            } else if (mipLevel && (!texture._needsMipmapsUpload || !texture.mipmaps)) {\n                break;\n            }\n\n            mipObject = texture._levels[mipLevel];\n\n            if (mipLevel === 1 && !texture.compressed) {\n                // We have more than one mip levels we want to assign, but we need all mips to make\n                // the texture complete. Therefore first generate all mip chain from 0, then assign custom mips.\n                gl.generateMipmap(texture._glTarget as number);\n                texture._mipmapsUploaded = true;\n            }\n\n            if (texture.cubemap) {\n                // ----- CUBEMAP -----\n                let face;\n\n                gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n                gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n\n                if ((mipObject[0] instanceof HTMLCanvasElement) || (mipObject[0] instanceof HTMLImageElement) || (mipObject[0] instanceof HTMLVideoElement)) {\n                    // Upload the image, canvas or video\n                    for (face = 0; face < 6; face++) {\n                        if (!texture.levelsUpdated[0][face]) {\n                            continue;\n                        }\n\n                        let src = mipObject[face];\n                        // Downsize images that are too large to be used as cube maps\n                        if (src instanceof HTMLImageElement) {\n                            if (src.width > this.maxCubeMapSize || src.height > this.maxCubeMapSize) {\n                                src = _downsampleImage(src, this.maxCubeMapSize);\n                                if (mipLevel === 0) {\n                                    texture.width = src.width;\n                                    texture.height = src.height;\n                                }\n                            }\n                        }\n\n                        gl.texImage2D(\n                            gl.TEXTURE_CUBE_MAP_POSITIVE_X + face,\n                            mipLevel,\n                            texture._glInternalFormat as number,\n                            texture._glFormat as number,\n                            texture._glPixelType as number,\n                            src\n                        );\n                    }\n                } else {\n                    // Upload the byte array\n                    resMult = 1 / Math.pow(2, mipLevel);\n                    for (face = 0; face < 6; face++) {\n                        if (!texture.levelsUpdated[0][face]) {\n                            continue;\n                        }\n\n                        let texData = mipObject[face];\n                        if (texture.compressed) {\n                            gl.compressedTexImage2D(\n                                gl.TEXTURE_CUBE_MAP_POSITIVE_X + face,\n                                mipLevel,\n                                texture._glInternalFormat as number,\n                                Math.max(texture.width * resMult, 1),\n                                Math.max(texture.height * resMult, 1),\n                                0,\n                                texData\n                            );\n                        } else {\n                            gl.texImage2D(\n                                gl.TEXTURE_CUBE_MAP_POSITIVE_X + face,\n                                mipLevel,\n                                texture._glInternalFormat as number,\n                                Math.max(texture.width * resMult, 1),\n                                Math.max(texture.height * resMult, 1),\n                                0,\n                                texture._glFormat as number,\n                                texture._glPixelType as number,\n                                texData\n                            );\n                        }\n                    }\n                }\n            } else if (texture.volume) {\n                // ----- 3D -----\n                // Image/canvas/video not supported (yet?)\n                // Upload the byte array\n                gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n                resMult = 1 / Math.pow(2, mipLevel);\n                if (texture.compressed) {\n                    gl.compressedTexImage3D(gl.TEXTURE_3D,\n                        mipLevel,\n                        texture._glInternalFormat as number,\n                        Math.max(texture.width * resMult, 1),\n                        Math.max(texture.height * resMult, 1),\n                        Math.max(texture.depth * resMult, 1),\n                        0,\n                        mipObject);\n                } else {\n                    gl.texImage3D(gl.TEXTURE_3D,\n                        mipLevel,\n                        texture._glInternalFormat as number,\n                        Math.max(texture.width * resMult, 1),\n                        Math.max(texture.height * resMult, 1),\n                        Math.max(texture.depth * resMult, 1),\n                        0,\n                        texture._glFormat as number,\n                        texture._glPixelType as number,\n                        mipObject);\n                }\n            } else {\n                // ----- 2D -----\n                if ((mipObject instanceof HTMLCanvasElement) || (mipObject instanceof HTMLImageElement) || (mipObject instanceof HTMLVideoElement)) {\n                    // Downsize images that are too large to be used as textures\n                    if (mipObject instanceof HTMLImageElement) {\n                        if (mipObject.width > this.maxTextureSize || mipObject.height > this.maxTextureSize) {\n                            mipObject = _downsampleImage(mipObject, this.maxTextureSize);\n                            if (mipLevel === 0) {\n                                texture.width = mipObject.width;\n                                texture.height = mipObject.height;\n                            }\n                        }\n                    }\n\n                    // Upload the image, canvas or video\n                    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n                    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\n                    gl.texImage2D(\n                        gl.TEXTURE_2D,\n                        mipLevel,\n                        texture._glInternalFormat as number,\n                        texture._glFormat as number,\n                        texture._glPixelType as number,\n                        mipObject\n                    );\n                } else {\n                    // Upload the byte array\n                    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n                    resMult = 1 / Math.pow(2, mipLevel);\n                    if (texture.compressed) {\n                        gl.compressedTexImage2D(\n                            gl.TEXTURE_2D,\n                            mipLevel,\n                            texture._glInternalFormat as number,\n                            Math.max(texture.width * resMult, 1),\n                            Math.max(texture.height * resMult, 1),\n                            0,\n                            mipObject\n                        );\n                    } else {\n                        gl.texImage2D(\n                            gl.TEXTURE_2D,\n                            mipLevel,\n                            texture._glInternalFormat as number,\n                            Math.max(texture.width * resMult, 1),\n                            Math.max(texture.height * resMult, 1),\n                            0,\n                            texture._glFormat as number,\n                            texture._glPixelType as number,\n                            mipObject\n                        );\n                    }\n                }\n\n                if (mipLevel === 0) {\n                    texture._mipmapsUploaded = false;\n                } else {\n                    texture._mipmapsUploaded = true;\n                }\n            }\n            mipLevel++;\n        }\n\n        if (texture._needsUpload) {\n            if (texture.cubemap) {\n                for (let i = 0; i < 6; i++) {\n                    texture.levelsUpdated[0][i] = false;\n                }\n            } else {\n                texture.levelsUpdated[0] = false;\n            }\n        }\n\n        if (!texture.compressed && texture.mipmaps && texture._needsMipmapsUpload && texture.pot && texture._levels.length === 1) {\n            gl.generateMipmap(texture._glTarget as number);\n            texture._mipmapsUploaded = true;\n        }\n\n        if (texture._gpuSize) {\n            this._vram.tex -= texture._gpuSize;\n            // #ifdef PROFILER\n            if (texture.profilerHint === TEXHINT.SHADOWMAP) {\n                this._vram.texShadow -= texture._gpuSize;\n            } else if (texture.profilerHint === TEXHINT.ASSET) {\n                this._vram.texAsset -= texture._gpuSize;\n            } else if (texture.profilerHint === TEXHINT.LIGHTMAP) {\n                this._vram.texLightmap -= texture._gpuSize;\n            }\n            // #endif\n        }\n\n        texture._gpuSize = gpuTexSize(gl, texture);\n        this._vram.tex += texture._gpuSize;\n        // #ifdef PROFILER\n        if (texture.profilerHint === TEXHINT.SHADOWMAP) {\n            this._vram.texShadow += texture._gpuSize;\n        } else if (texture.profilerHint === TEXHINT.ASSET) {\n            this._vram.texAsset += texture._gpuSize;\n        } else if (texture.profilerHint === TEXHINT.LIGHTMAP) {\n            this._vram.texLightmap += texture._gpuSize;\n        }\n        // #endif\n    }\n    setVertexBuffer(vertexBuffer: VertexBuffer) {\n        const gl = this.gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer.bufferId as WebGLBuffer);\n        // vertexBuffer.bind();\n    }\n    setIndexBuffer(indexBuffer: IndexBuffer) {\n        const gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer.bufferId as WebGLBuffer);\n        // indexBuffer.bind();\n    }\n    initDraw() {\n        const gl = this.gl;\n        gl.enable(gl.DEPTH_TEST);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n        gl.clearColor(0, 0, 0, 1);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    draw(entity: Entity) {\n        const gl = this.gl;\n        const mesh = entity.mesh;\n        if (mesh == null) { return; }\n        const material = mesh.material;\n        this.setVertexBuffer(mesh.vertexBuffer);\n        this.setIndexBuffer(mesh.indexBuffer);\n        const shader = material.shader as Shader;\n        const samplers = shader.samplers;\n        const uniforms = shader.uniforms;\n        const attributes = shader.attributes;\n        const format = mesh.vertexBuffer.format;\n        shader.setUniformValue('matrix_model', entity.getWorldTransform().data);\n        for (let i = 0; i < attributes.length; i++) {\n            let attrbute = attributes[i];\n            let element;\n            if (attrbute.element) {\n                element = attrbute.element;\n            } else {\n                element = format.elements.find(x => x.semantic === attrbute.name);\n                attrbute.element = element;\n            }\n\n            if (element) {\n                gl.vertexAttribPointer(attrbute.locationId, element.size, this.AttrbuteType[(element.dataType as any).name], element.normalize, element.stride, element.offset);\n                if (attrbute.enable === false) {\n                    gl.enableVertexAttribArray(attrbute.locationId);\n                    attrbute.enable = true;\n                }\n            } else {\n                throw new Error('element 为 null');\n            }\n        }\n        Log.assert(shader.checkUniformScope() === true, 'UniformScopValue not set', shader.uniformScope);\n        for (let i = 0; i < uniforms.length; i++) {\n            let uniform = uniforms[i];\n            this.uniformFunction[uniform.type](uniform, shader.uniformScope[uniform.name]);\n        }\n        let textureUnit = 0;\n        for (let i = 0; i < samplers.length; i++) {\n            let sampler = samplers[i];\n            let samplerValue = sampler.element;\n            if (!samplerValue) {\n                continue; // Because unset constants shouldn't raise random errors\n            }\n\n            if (samplerValue instanceof Texture) {\n                let texture = samplerValue;\n                this.setTexture(texture, textureUnit);\n\n                if (sampler.slot !== textureUnit) {\n                    gl.uniform1i(sampler.locationId, textureUnit);\n                    sampler.slot = textureUnit;\n                }\n                textureUnit++;\n            } else { // Array\n                // sampler.array.length = 0;\n                // numTextures = samplerValue.length;\n                // for (j = 0; j < numTextures; j++) {\n                //     texture = samplerValue[j];\n                //     this.setTexture(texture, textureUnit);\n\n                //     sampler.array[j] = textureUnit;\n                //     textureUnit++;\n                // }\n                // gl.uniform1iv(sampler.locationId, sampler.array);\n            }\n        }\n\n        gl.drawElements(\n            gl.TRIANGLES,\n            mesh.indexBuffer.length,\n            mesh.indexBuffer.drawFormat,\n            0\n        );\n    }\n}\n\nlet _downsampleImage = (image, size) => {\n    let srcW = image.width;\n    let srcH = image.height;\n\n    if ((srcW > size) || (srcH > size)) {\n        let scale = size / Math.max(srcW, srcH);\n        let dstW = Math.floor(srcW * scale);\n        let dstH = Math.floor(srcH * scale);\n\n        console.warn('Image dimensions larger than max supported texture size of ' + size + '. ' +\n            'Resizing from ' + srcW + ', ' + srcH + ' to ' + dstW + ', ' + dstH + '.');\n\n        let canvas = document.createElement('canvas');\n        canvas.width = dstW;\n        canvas.height = dstH;\n\n        let context = canvas.getContext('2d') as CanvasRenderingContext2D;\n        context.drawImage(image, 0, 0, srcW, srcH, 0, 0, dstW, dstH);\n\n        return canvas;\n    }\n\n    return image;\n};\n\nfunction _isIE() {\n    let ua = window.navigator.userAgent;\n    let msie = ua.indexOf('MSIE ');\n    let trident = navigator.userAgent.match(/Trident.*rv:11\\./);\n\n    return (msie > 0 || !!trident);\n}\n\nlet _pixelFormat2Size;\nfunction gpuTexSize(gl, tex: Texture) {\n    if (!_pixelFormat2Size) {\n        _pixelFormat2Size = {};\n        _pixelFormat2Size[PIXELFORMAT.A8] = 1;\n        _pixelFormat2Size[PIXELFORMAT.L8] = 1;\n        _pixelFormat2Size[PIXELFORMAT.L8_A8] = 1;\n        _pixelFormat2Size[PIXELFORMAT.R5_G6_B5] = 2;\n        _pixelFormat2Size[PIXELFORMAT.R5_G5_B5_A1] = 2;\n        _pixelFormat2Size[PIXELFORMAT.R4_G4_B4_A4] = 2;\n        _pixelFormat2Size[PIXELFORMAT.R8_G8_B8] = 4;\n        _pixelFormat2Size[PIXELFORMAT.R8_G8_B8_A8] = 4;\n        _pixelFormat2Size[PIXELFORMAT.RGB16F] = 8;\n        _pixelFormat2Size[PIXELFORMAT.RGBA16F] = 8;\n        _pixelFormat2Size[PIXELFORMAT.RGB32F] = 16;\n        _pixelFormat2Size[PIXELFORMAT.RGBA32F] = 16;\n        _pixelFormat2Size[PIXELFORMAT.R32F] = 4;\n        _pixelFormat2Size[PIXELFORMAT.DEPTH] = 4; // can be smaller using WebGL1 extension?\n        _pixelFormat2Size[PIXELFORMAT.DEPTHSTENCIL] = 4;\n        _pixelFormat2Size[PIXELFORMAT._111110F] = 4;\n        _pixelFormat2Size[PIXELFORMAT.SRGB] = 4;\n        _pixelFormat2Size[PIXELFORMAT.SRGBA] = 4;\n    }\n\n    let mips = 1;\n    if (tex.pot && (tex.mipmaps || tex.minFilter === FILTER.NEAREST_MIPMAP_NEAREST ||\n        tex.minFilter === FILTER.NEAREST_MIPMAP_LINEAR || tex.minFilter === FILTER.LINEAR_MIPMAP_NEAREST ||\n        tex.minFilter === FILTER.LINEAR_MIPMAP_LINEAR) && ! (tex.compressed && tex._levels.length === 1)) {\n\n        mips = Math.round(Math.log2(Math.max(tex.width, tex.height)) + 1);\n    }\n    let mipWidth = tex.width;\n    let mipHeight = tex.height;\n    let mipDepth = tex.depth;\n    let size = 0;\n\n    for (let i = 0; i < mips; i++) {\n        if (! tex.compressed) {\n            size += mipWidth * mipHeight * mipDepth * _pixelFormat2Size[tex.format];\n        } else if (tex.format === PIXELFORMAT.ETC1) {\n            size += Math.floor((mipWidth + 3) / 4) * Math.floor((mipHeight + 3) / 4) * 8 * mipDepth;\n        } else if (tex.format === PIXELFORMAT.PVRTC_2BPP_RGB_1 || tex.format === PIXELFORMAT.PVRTC_2BPP_RGBA_1) {\n            size += Math.max(mipWidth, 16) * Math.max(mipHeight, 8) / 4 * mipDepth;\n        } else if (tex.format === PIXELFORMAT.PVRTC_4BPP_RGB_1 || tex.format === PIXELFORMAT.PVRTC_4BPP_RGBA_1) {\n            size += Math.max(mipWidth, 8) * Math.max(mipHeight, 8) / 2 * mipDepth;\n        } else {\n            let DXT_BLOCK_WIDTH = 4;\n            let DXT_BLOCK_HEIGHT = 4;\n            let blockSize = tex.format === PIXELFORMAT.DXT1 ? 8 : 16;\n            let numBlocksAcross = Math.floor((mipWidth + DXT_BLOCK_WIDTH - 1) / DXT_BLOCK_WIDTH);\n            let numBlocksDown = Math.floor((mipHeight + DXT_BLOCK_HEIGHT - 1) / DXT_BLOCK_HEIGHT);\n            let numBlocks = numBlocksAcross * numBlocksDown;\n            size += numBlocks * blockSize * mipDepth;\n        }\n        mipWidth = Math.max(mipWidth * 0.5, 1);\n        mipHeight = Math.max(mipHeight * 0.5, 1);\n        mipDepth = Math.max(mipDepth * 0.5, 1);\n    }\n\n    if (tex.cubemap) size *= 6;\n    return size;\n}\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\shader.ts\n * Created Date: Saturday, August 25th 2018, 1:38:57 am\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 12:20:01 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { RendererPlatform } from './renderer';\nimport { Log } from '../util';\nimport { ShaderVariable } from './shaderVariable';\nimport { UNIFORM_TYPE } from '../conf';\n\nexport class Shader {\n    program?: WebGLProgram;\n    vshader?: WebGLShader;\n    fshader?: WebGLShader;\n    samplers: ShaderVariable[] = [];\n    uniforms: ShaderVariable[] = [];\n    attributes: ShaderVariable[] = [];\n    uniformScope: { [s: string]: any; } = {};\n    ready = false;\n    constructor(private renderer: RendererPlatform, private definition: {\n        attributes: { [s: string]: any };\n        vshader: string;\n        fshader: string;\n        useTransformFeedback?: boolean;\n    }) {\n        this.compile();\n    }\n    setUniformValue(name, value) {\n        this.uniformScope[name] = value;\n    }\n    checkUniformScope() {\n        // tslint:disable-next-line:forin\n        for (let x in this.uniformScope) {\n            if (this.uniformScope[x] == null) { return false; }\n        }\n        return true;\n    }\n    compile() {\n        let gl = this.renderer.gl;\n        this.vshader = loadShader(gl, gl.VERTEX_SHADER, this.definition.vshader) as WebGLShader;\n        this.fshader = loadShader(gl, gl.FRAGMENT_SHADER, this.definition.fshader) as WebGLShader;\n        this.program = createProgram(gl, this.vshader, this.fshader) as WebGLProgram;\n    }\n    link() {\n        if (this.program == null) {\n            Log.error('link前,必须compile');\n            return;\n        }\n        let gl = this.renderer.gl;\n        if (this.renderer.platform === 'webgl2' && this.definition.useTransformFeedback) {\n            // Collect all \"out_\" attributes and use them for output\n            let attrs = this.definition.attributes;\n            let outNames: string[] = [];\n            // for (let attr in attrs) {\n            //     if (attrs.hasOwnProperty(attr)) {\n            //         outNames.push('out_' + attr);\n            //     }\n            // }\n            attrs.keys().forEach(attr => {\n                outNames.push('out_' + attr);\n            });\n            // webgl2缓存\n            gl.transformFeedbackVaryings(this.program, outNames, gl.INTERLEAVED_ATTRIBS);\n        }\n        gl.linkProgram(this.program);\n        const linked = gl.getProgramParameter(this.program, gl.LINK_STATUS);\n        if (!linked) {\n            Log.error(gl.getProgramInfoLog(this.program) as string);\n        }\n        gl.deleteShader(this.vshader as WebGLShader);\n        gl.deleteShader(this.fshader as WebGLShader);\n\n        let i = 0;\n        // tslint:disable-next-line:one-variable-per-declaration\n\n        let numAttributes = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        while (i < numAttributes) {\n            let info = gl.getActiveAttrib(this.program, i++) as WebGLActiveInfo;\n            let location = gl.getAttribLocation(this.program, info.name);\n            // Check attributes are correctly linked up\n            if (this.definition.attributes[info.name] === undefined) {\n                Log.error('Vertex shader attribute \"' + info.name + '\" is not mapped to a semantic in shader definition.');\n            }\n            // this.attributes.push(new ShaderInput(this.renderer, this.definition.attributes[info.name], this.renderer.glTypeToJs[info.type] as GLType, location));\n            this.attributes.push(new ShaderVariable(this.definition.attributes[info.name], this.renderer.glTypeToJs[info.type] as UNIFORM_TYPE, location));\n        }\n        i = 0;\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        while (i < numUniforms) {\n            let info = gl.getActiveUniform(this.program, i++) as WebGLActiveInfo;\n            let location = gl.getUniformLocation(this.program, info.name) as number;\n            if (info.type === gl.SAMPLER_2D || info.type === gl.SAMPLER_CUBE ||\n                (this.renderer.platform === 'webgl2' && (info.type === gl.SAMPLER_2D_SHADOW || info.type === gl.SAMPLER_CUBE_SHADOW || info.type === gl.SAMPLER_3D))\n            ) {\n                this.samplers.push(new ShaderVariable(info.name, this.renderer.glTypeToJs[info.type] as UNIFORM_TYPE, location));\n            } else {\n                this.uniforms.push(new ShaderVariable(info.name, this.renderer.glTypeToJs[info.type] as UNIFORM_TYPE, location));\n            }\n            this.uniformScope[info.name] = null;\n        }\n        this.ready = true;\n    }\n}\n\n\nexport function createProgram(gl: WebGLRenderingContext | WebGL2RenderingContext, vertexShader: WebGLShader, fragmentShader: WebGLShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    return program;\n}\n\nexport function loadShader(gl: WebGLRenderingContext | WebGL2RenderingContext, type: number, source: string) {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (!compiled) {\n        Log.error(`${gl.VERTEX_SHADER === type ? 'VERTEX_SHADER' : 'FRAGMENT_SHADER'}\\n` + gl.getShaderInfoLog(shader) as string);\n        return false;\n    }\n    return shader;\n}\n\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\generateShader.ts\n * Created Date: Saturday, August 25th 2018, 3:45:20 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 1:38:32 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\n\nimport basicVert from './shaders/basic.vert';\nimport basicFrag from './shaders/basic.frag';\nimport { RendererPlatform } from './renderer';\nimport { Shader } from './shader';\nimport { SEMANTIC } from '../conf';\nimport { Obj } from '../types';\n\n\n\nexport class ShaderProgramGenerator {\n    generator: { [s: string]: any } = {};\n    private _cache: Obj<Shader> = {};\n    constructor(private renderer: RendererPlatform) {\n\n    }\n    getProgram(name: string, options = {}) {\n        let { platform } = this.renderer;\n        options['GL2'] = platform === 'webgl2';\n        const key = generateKey(options);\n        let shader = this._cache[key];\n        if (!shader) {\n            let shaderDefinition = createShaderDefinition(this.renderer, options);\n            shader = this._cache[key] = new Shader(this.renderer, shaderDefinition);\n        }\n        return shader;\n    }\n}\n\nfunction generateKey(options) {\n    return JSON.stringify(options);\n}\n\nfunction createShaderDefinition(renderer: RendererPlatform, options) {\n    const basicVertStr = basicVert(options);\n    const basicFragStr = basicFrag(options);\n    let attributes: any = { vertex_position: SEMANTIC.POSITION };\n    if (options.vertex_color) {\n        attributes.vertex_color = SEMANTIC.COLOR;\n    }\n    if (options.diffuseMap) {\n        attributes.vertex_texCoord0 = SEMANTIC.TEXCOORD0;\n    }\n    return {\n        attributes,\n        vshader: basicVertStr,\n        fshader: basicFragStr\n    };\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\shaderInput.ts\n * Created Date: Wednesday, August 29th 2018, 12:20:47 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 9:32:09 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { RendererPlatform } from './renderer';\nimport { UNIFORM_TYPE } from '../conf';\nimport { VertexAttribData } from './vertexFormat';\nimport { Texture } from '../texture/texture';\nexport class ShaderVariable {\n    enable = false;\n    element?: VertexAttribData | Texture;\n    slot?: number;\n    constructor(public name: string, public type: UNIFORM_TYPE, public locationId: number) {\n\n    }\n}","var Handlebars = require(\"/mnt/c/Users/35327/Githubs/hypergl/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/mnt/c/Users/35327/Githubs/hypergl/src/graphics/shaders/gles3.frag\"),depth0,{\"name\":\"gles3.frag\",\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.GL2 : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\nprecision highp float;\\n#ifdef GL2\\nprecision highp sampler2DShadow;\\n#endif\\nvarying vec4 vColor;\\nvoid main(void)\\n{\\n    gl_FragColor = vColor;\\n}\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/mnt/c/Users/35327/Githubs/hypergl/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/mnt/c/Users/35327/Githubs/hypergl/src/graphics/shaders/gles3.vert\"),depth0,{\"name\":\"gles3.vert\",\"data\":data,\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers[\"if\"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.GL2 : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\nuniform mat4 matrix_model;\\nuniform mat4 matrix_viewProjection;\\nattribute vec4 vertex_color;\\nattribute vec3 vertex_position;\\nvarying vec4 vColor;\\n\\nvec4 getPosition() {\\n    vec4 posW = matrix_model * vec4(vertex_position, 1.0);\\n    return matrix_viewProjection * posW;\\n}\\n\\n\\nvoid main(void) {\\n    gl_Position = getPosition();\\n    vColor = vertex_color;\\n}\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/mnt/c/Users/35327/Githubs/hypergl/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"#version 300 es\\n#define GL2\\n#define varying in\\nout highp vec4 hyper_ragColor;\\n#define gl_FragColor hyper_ragColor\\n#define texture2D texture\\n#define textureCube texture\\n#define texture2DProj textureProj\\n#define texture2DLodEXT textureLod\\n#define texture2DProjLodEXT textureProjLod\\n#define textureCubeLodEXT textureLod\\n#define texture2DGradEXT textureGrad\\n#define texture2DProjGradEXT textureProjGrad\\n#define textureCubeGradEXT textureGrad\\n\";\n},\"useData\":true});","var Handlebars = require(\"/mnt/c/Users/35327/Githubs/hypergl/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"#version 300 es\\n#define GL2\\n#define attribute in\\n#define varying out\\n#define texture2D texture\\n#define VERTEXSHADER\";\n},\"useData\":true});","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\vertexBuffer.ts\n * Created Date: Tuesday, August 14th 2018, 5:02:32 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 12:48:01 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\n\nimport { TypeArray, Obj } from '../types';\nimport { VertexFormat } from './vertexFormat';\nimport { BUFFER } from '../conf';\nimport { RendererPlatform } from './renderer';\nexport class VertexBuffer {\n    buffer!: ArrayBuffer;\n    bufferId?: WebGLBuffer;\n    numBytes!: number;\n    // constructor(renderer: RendererPlatform, format: VertexFormat, usage: BUFFER, data: ArrayBuffer, numVertices: number)\n    constructor(private renderer: RendererPlatform, public format: VertexFormat, public numVertices: number, private usage: BUFFER = BUFFER.STATIC, data?: ArrayBuffer) {\n        let stride = this.format.stride;\n        this.numBytes = stride * numVertices;\n        if (data) {\n            this.buffer = data;\n            this.bind();\n\n        } else {\n            this.buffer = new ArrayBuffer(this.numBytes);\n        }\n        this.numVertices = numVertices;\n    }\n    bind() {\n        let gl = this.renderer.gl;\n        if (!this.bufferId) {\n            this.bufferId = gl.createBuffer() as WebGLBuffer;\n        }\n        let glUsage;\n        switch (this.usage) {\n            case BUFFER.STATIC:\n                glUsage = gl.STATIC_DRAW;\n                break;\n            case BUFFER.DYNAMIC:\n                glUsage = gl.DYNAMIC_DRAW;\n                break;\n            case BUFFER.STREAM:\n                glUsage = gl.STREAM_DRAW;\n                break;\n            case BUFFER.GPUDYNAMIC:\n                if (this.renderer.platform === 'webgl2') {\n                    glUsage = gl.DYNAMIC_COPY;\n                } else {\n                    glUsage = gl.STATIC_DRAW;\n                }\n                break;\n        }\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.bufferId);\n        gl.bufferData(gl.ARRAY_BUFFER, this.buffer, glUsage);\n    }\n    toIterator() {\n        return new Iterator(this);\n    }\n\n}\n\nexport class Iterator {\n    index = 0;\n    done = false;\n    constructor(private vertexBuffer: VertexBuffer) { }\n    get value() {\n        let setter: { [s: string]: Setter } = {};\n        let { format, buffer } = this.vertexBuffer;\n        for (let j = 0; j < format.elements.length; j++) {\n            let element = format.elements[j];\n            let view = new (element.dataType as any)(buffer, this.index + element.offset, element.size);\n            setter[element.semantic as string] = new Setter(view);\n        }\n        return setter;\n    }\n    next() {\n        if (this.done === false) {\n            this.index += this.vertexBuffer.format.stride;\n            if (this.index >= this.vertexBuffer.numBytes) {\n                this.done = true;\n            }\n        }\n    }\n}\n\nexport class Setter {\n    constructor(private view: TypeArray) { }\n    set(a?, b?, c?, d?) {\n        switch (this.view.length) {\n            case 1: this.set1(a); break;\n            case 2: this.set2(a, b); break;\n            case 3: this.set3(a, b, c); break;\n            case 4: this.set4(a, b, c, d); break;\n        }\n    }\n    set1(a) {\n        this.view[0] = a;\n    }\n    set2(a, b) {\n        this.view[0] = a;\n        this.view[1] = b;\n    }\n    set3(a, b, c) {\n        this.view[0] = a;\n        this.view[1] = b;\n        this.view[2] = c;\n    }\n    set4(a, b, c, d) {\n        this.view[0] = a;\n        this.view[1] = b;\n        this.view[2] = c;\n        this.view[3] = d;\n    }\n\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\graphics\\vertexFormat.ts\n * Created Date: Tuesday, August 14th 2018, 5:02:37 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, September 1st 2018, 1:21:22 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport {  SEMANTIC } from '../conf';\nimport { TypeArray, TypeArrayConstructor } from '../types';\nexport interface VertexType {\n    semantic: SEMANTIC,\n    size: 1 | 2 | 3 | 4;\n    dataType: TypeArrayConstructor;\n    normalize?: boolean;\n}\n\nexport interface VertexAttribData extends VertexType {\n    offset: number;\n    stride: number;\n    length: number;\n    normalize: boolean;\n}\n\n\nexport class VertexFormat {\n    elements: VertexAttribData[] = [];\n    sum_size = 0;\n    stride = 0;\n    hasUv0 = false;\n    hasUv1 = false;\n    hasColor = false;\n    constructor(vartexTypes: VertexType[]) {\n        let offset = 0;\n        for (let i = 0; i < vartexTypes.length; i++) {\n            const item = vartexTypes[i];\n            let element: VertexAttribData = {\n                semantic: item.semantic,\n                offset,\n                dataType: item.dataType,\n                size: item.size,\n                length: item.size * item.dataType.BYTES_PER_ELEMENT,\n                normalize: (item.normalize === undefined) ? false : item.normalize,\n                stride: 0\n            };\n            this.elements.push(element);\n            offset += item.size * item.dataType.BYTES_PER_ELEMENT;\n            this.sum_size += item.size;\n            if (item.semantic === SEMANTIC.TEXCOORD0) {\n                this.hasUv0 = true;\n            } else if (item.semantic === SEMANTIC.TEXCOORD1) {\n                this.hasUv1 = true;\n            } else if (item.semantic === SEMANTIC.COLOR) {\n                this.hasColor = true;\n            }\n        }\n        this.stride = offset;\n        this.elements.forEach(item => {\n            item.stride = this.stride;\n        });\n    }\n\n}","/*\r\n * ProjectName: hypergl\r\n * FilePath: \\src\\index.ts\r\n * Created Date: Saturday, August 18th 2018, 4:11:24 pm\r\n * @author: dadigua\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Wednesday, August 29th 2018, 8:00:10 pm\r\n * Modified By: dadigua\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nexport * from './conf';\r\nexport * from './application';\r\nexport * from './graphics';\r\nexport * from './material';\r\nexport * from './ecs';","/*\n * ProjectName: hypergl\n * FilePath: \\src\\material\\basicMaterial.ts\n * Created Date: Saturday, August 25th 2018, 4:46:29 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 9:33:32 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { Color } from '../core/color';\nimport { Material } from './material';\nimport { RendererPlatform } from '../graphics/renderer';\nimport { Shader } from '../graphics/shader';\nexport class BasicMaterial extends Material {\n    color: Color = new Color(1, 1, 1, 1);\n    colorMap; // TODO\n    shader?: Shader;\n    constructor() {\n        super();\n        this.update();\n    }\n    update() {\n        this.setParameter('vertex_color', this.color.data);\n        if (this.colorMap) {\n            this.setParameter('texture_diffuseMap', this.colorMap);\n        }\n    }\n    updateShader(renderer: RendererPlatform) {\n        this.shader = renderer.programGenerator.getProgram('basice', { ...this.parameters });\n    }\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\material\\index.ts\n * Created Date: Saturday, August 25th 2018, 7:13:48 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, August 25th 2018, 7:13:55 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nexport * from './basicMaterial';","/*\n * ProjectName: hypergl\n * FilePath: \\src\\material\\material.ts\n * Created Date: Saturday, August 25th 2018, 5:01:50 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, August 29th 2018, 8:32:49 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nexport class Material {\n    parameters: { [s: string]: any } = {};\n    setParameter(name: string, data: any) {\n        this.parameters[name] = data;\n    }\n    getParameter(name: string) {\n        return this.parameters[name];\n    }\n    deleteParameter() {\n        // x\n        delete this.parameters[name];\n    }\n}","import { Curve } from './curve';\r\nimport { CURVE } from '../conf';\r\n/* tslint:disable */\r\n\r\nexport class CurveSet {\r\n    curves: any[];\r\n    _type: number;\r\n    constructor(...args) {\r\n        let i;\r\n\r\n        this.curves = [];\r\n        this._type = CURVE.SMOOTHSTEP;\r\n\r\n        if (args.length > 1) {\r\n            for (i = 0; i < args.length; i++) {\r\n                this.curves.push(new Curve(args[i]));\r\n            }\r\n        } else {\r\n            if (args.length === 0) {\r\n                this.curves.push(new Curve());\r\n            } else {\r\n                const arg = args[0];\r\n                if (typeof(arg) === 'number') {\r\n                    for (i = 0; i < arg; i++) {\r\n                        this.curves.push(new Curve());\r\n                    }\r\n                } else {\r\n                    for (i = 0; i < arg.length; i++) {\r\n                        this.curves.push(new Curve(arg[i]));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    get(index) {\r\n        return this.curves[index];\r\n    }\r\n\r\n    value(time, result) {\r\n        const length = this.curves.length;\r\n        result = result || [];\r\n        result.length = length;\r\n\r\n        for (let i = 0; i < length; i++) {\r\n            result[i] = this.curves[i].value(time);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    clone() {\r\n        const result = new CurveSet();\r\n\r\n        result.curves = [];\r\n        for (let i = 0; i < this.curves.length; i++) {\r\n            result.curves.push(this.curves[i].clone());\r\n        }\r\n\r\n        result._type = this._type;\r\n\r\n        return result;\r\n    }\r\n\r\n    quantize(precision) {\r\n        precision = Math.max(precision, 2);\r\n\r\n        const numCurves = this.curves.length;\r\n        const values = new Float32Array(precision * numCurves);\r\n        const step = 1.0 / (precision - 1);\r\n        const temp = [];\r\n\r\n        for (let i = 0; i < precision; i++) { // quantize graph to table of interpolated values\r\n            const value = this.value(step * i, temp);\r\n            if (numCurves === 1) {\r\n                values[i] = value[0];\r\n            } else {\r\n                for (let j = 0; j < numCurves; j++) {\r\n                    values[i * numCurves + j] = value[j];\r\n                }\r\n            }\r\n        }\r\n\r\n        return values;\r\n    }\r\n\r\n    get length() {\r\n        return this.curves.length;\r\n    }\r\n\r\n    get type() {\r\n        return this._type;\r\n    }\r\n\r\n    set type(value) {\r\n        this._type = value;\r\n        for (let i = 0; i < this.curves.length; i++) {\r\n            this.curves[i].type = value;\r\n        }\r\n    }\r\n}\r\n","/* tslint:disable */\r\nimport { CURVE } from '../conf';\r\nimport * as math from './math';\r\n\r\nexport class Curve {\r\n    keys: any[];\r\n    type: number;\r\n    tension: number;\r\n    constructor(data?) {\r\n        this.keys = [];\r\n        this.type = CURVE.SMOOTHSTEP;\r\n\r\n        this.tension = 0.5; // used for CURVE_CARDINAL\r\n\r\n        if (data) {\r\n            for (let i = 0; i < data.length - 1; i += 2) {\r\n                this.keys.push([data[i], data[i + 1]]);\r\n            }\r\n        }\r\n\r\n        this.sort();\r\n    }\r\n\r\n    add(time, value) {\r\n        const keys = this.keys;\r\n        const len = keys.length;\r\n        let i = 0;\r\n\r\n        for (; i < len; i++) {\r\n            if (keys[i][0] > time) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        const key = [time, value];\r\n        this.keys.splice(i, 0, key);\r\n        return key;\r\n    }\r\n\r\n    get(index) {\r\n        return this.keys[index];\r\n    }\r\n\r\n    sort() {\r\n        this.keys.sort((a, b) => a[0] - b[0]);\r\n    }\r\n\r\n    value(time) {\r\n        const keys = this.keys;\r\n\r\n        // no keys\r\n        if (!keys.length) {\r\n            return 0;\r\n        }\r\n\r\n        // Clamp values before first and after last key\r\n        if (time < keys[0][0]) {\r\n            return keys[0][1];\r\n        } else if (time > keys[keys.length - 1][0]) {\r\n            return keys[keys.length - 1][1];\r\n        }\r\n\r\n        let leftTime = 0;\r\n        let leftValue = keys.length ? keys[0][1] : 0;\r\n\r\n        let rightTime = 1;\r\n        let rightValue = 0;\r\n        let i = 0;\r\n        for (let i = 0, len = keys.length; i < len; i++) {\r\n            // early exit check\r\n            if (keys[i][0] === time) {\r\n                return keys[i][1];\r\n            }\r\n\r\n            rightValue = keys[i][1];\r\n\r\n            if (time < keys[i][0]) {\r\n                rightTime = keys[i][0];\r\n                break;\r\n            }\r\n\r\n            leftTime = keys[i][0];\r\n            leftValue = keys[i][1];\r\n        }\r\n\r\n        const div = rightTime - leftTime;\r\n        let interpolation = (div === 0 ? 0 : (time - leftTime) / div);\r\n\r\n        if (this.type === CURVE.SMOOTHSTEP) {\r\n            interpolation *= interpolation * (3 - 2 * interpolation);\r\n        } else if (this.type === CURVE.CATMULL || this.type === CURVE.CARDINAL) {\r\n            const p1 = leftValue;\r\n            const p2 = rightValue;\r\n            let p0 = p1 + (p1 - p2); // default control points are extended back/forward from existing points\r\n            let p3 = p2 + (p2 - p1);\r\n\r\n            let dt1 = rightTime - leftTime;\r\n            let dt0 = dt1;\r\n            let dt2 = dt1;\r\n\r\n            // back up index to left key\r\n            if (i > 0) {\r\n                i = i - 1;\r\n            }\r\n\r\n            if (i > 0) {\r\n                p0 = keys[i - 1][1];\r\n                dt0 = keys[i][0] - keys[i - 1][0];\r\n            }\r\n\r\n            if (keys.length > i + 1) {\r\n                dt1 = keys[i + 1][0] - keys[i][0];\r\n            }\r\n\r\n            if (keys.length > i + 2) {\r\n                dt2 = keys[i + 2][0] - keys[i + 1][0];\r\n                p3 = keys[i + 2][1];\r\n            }\r\n\r\n            // normalize p0 and p3 to be equal time with p1->p2\r\n            p0 = p1 + (p0 - p1) * dt1 / dt0;\r\n            p3 = p2 + (p3 - p2) * dt1 / dt2;\r\n\r\n            if (this.type === CURVE.CATMULL) {\r\n                return this._interpolateCatmullRom(p0, p1, p2, p3, interpolation);\r\n            } else {\r\n                return this._interpolateCardinal(p0, p1, p2, p3, interpolation, this.tension);\r\n            }\r\n        }\r\n\r\n        return math.lerp(leftValue, rightValue, interpolation);\r\n    }\r\n\r\n    _interpolateHermite(p0, p1, t0, t1, s) {\r\n        const s2 = s * s;\r\n        const s3 = s * s * s;\r\n        const h0 = 2 * s3 - 3 * s2 + 1;\r\n        const h1 = -2 * s3 + 3 * s2;\r\n        const h2 = s3 - 2 * s2 + s;\r\n        const h3 = s3 - s2;\r\n\r\n        return p0 * h0 + p1 * h1 + t0 * h2 + t1 * h3;\r\n    }\r\n\r\n    _interpolateCardinal(p0, p1, p2, p3, s, t) {\r\n        const t0 = t * (p2 - p0);\r\n        const t1 = t * (p3 - p1);\r\n\r\n        return this._interpolateHermite(p1, p2, t0, t1, s);\r\n    }\r\n\r\n    _interpolateCatmullRom(p0, p1, p2, p3, s) {\r\n        return this._interpolateCardinal(p0, p1, p2, p3, s, 0.5);\r\n    }\r\n\r\n    closest(time) {\r\n        const keys = this.keys;\r\n        const length = keys.length;\r\n        let min = 2;\r\n        let result = null;\r\n\r\n        for (let i = 0; i < length; i++) {\r\n            const diff = Math.abs(time - keys[i][0]);\r\n            if (min >= diff) {\r\n                min = diff;\r\n                result = keys[i];\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    clone() {\r\n        console.log('error');\r\n        const result = new Curve();\r\n        // result.keys = pc.extend(result.keys, this.keys);\r\n        result.type = this.type;\r\n        return result;\r\n    }\r\n\r\n    quantize(precision) {\r\n        precision = Math.max(precision, 2);\r\n\r\n        const values = new Float32Array(precision);\r\n        const step = 1.0 / (precision - 1);\r\n\r\n        // quantize graph to table of interpolated values\r\n        for (let i = 0; i < precision; i++) {\r\n            const value = this.value(step * i);\r\n            values[i] = value;\r\n        }\r\n\r\n        return values;\r\n    }\r\n\r\n    get length() {\r\n        return this.keys.length;\r\n    }\r\n}\r\n\r\n\r\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\math\\index.ts\n * Created Date: Saturday, August 18th 2018, 10:54:23 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, August 18th 2018, 10:55:30 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nexport * from './curve';\nexport * from './curve-set';\nexport * from './mat3';\nexport * from './mat4';\nexport * from './math';\nexport * from './quat';\nexport * from './vec2';\nexport * from './vec3';\nexport * from './vec4';","/* tslint:disable */\r\nconst typeNumber = 'number';\r\n\r\n\r\nexport class Mat3 {\r\n    data: Float32Array;\r\n\r\n    constructor()\r\n    constructor(v0: number, v1: number, v2: number, v3: number, v4: number, v5: number, v6: number, v7: number, v8: number)\r\n    constructor(v0: [number, number, number, number, number, number, number, number, number])\r\n\r\n    constructor(v0?, v1?, v2?, v3?, v4?, v5?, v6?, v7?, v8?) {\r\n        if (v0 && v0.length === 9) {\r\n            this.data = new Float32Array(v0);\r\n            return;\r\n        }\r\n\r\n        this.data = new Float32Array(9);\r\n\r\n        if (typeof (v0) === 'number') {\r\n            this.data[0] = v0;\r\n            this.data[1] = v1;\r\n            this.data[2] = v2;\r\n            this.data[3] = v3;\r\n            this.data[4] = v4;\r\n            this.data[5] = v5;\r\n            this.data[6] = v6;\r\n            this.data[7] = v7;\r\n            this.data[8] = v8;\r\n        } else {\r\n            this.setIdentity();\r\n        }\r\n    }\r\n\r\n\r\n    clone() {\r\n        return new Mat3().copy(this);\r\n    }\r\n\r\n\r\n    copy({ data }) {\r\n        const src = data;\r\n        const dst = this.data;\r\n\r\n        dst[0] = src[0];\r\n        dst[1] = src[1];\r\n        dst[2] = src[2];\r\n        dst[3] = src[3];\r\n        dst[4] = src[4];\r\n        dst[5] = src[5];\r\n        dst[6] = src[6];\r\n        dst[7] = src[7];\r\n        dst[8] = src[8];\r\n\r\n        return this;\r\n    }\r\n\r\n    equals({ data }) {\r\n        const l = this.data;\r\n        const r = data;\r\n\r\n        return ((l[0] === r[0]) &&\r\n            (l[1] === r[1]) &&\r\n            (l[2] === r[2]) &&\r\n            (l[3] === r[3]) &&\r\n            (l[4] === r[4]) &&\r\n            (l[5] === r[5]) &&\r\n            (l[6] === r[6]) &&\r\n            (l[7] === r[7]) &&\r\n            (l[8] === r[8]));\r\n    }\r\n\r\n\r\n    isIdentity() {\r\n        const m = this.data;\r\n        return ((m[0] === 1) &&\r\n            (m[1] === 0) &&\r\n            (m[2] === 0) &&\r\n            (m[3] === 0) &&\r\n            (m[4] === 1) &&\r\n            (m[5] === 0) &&\r\n            (m[6] === 0) &&\r\n            (m[7] === 0) &&\r\n            (m[8] === 1));\r\n    }\r\n\r\n\r\n    setIdentity() {\r\n        const m = this.data;\r\n        m[0] = 1;\r\n        m[1] = 0;\r\n        m[2] = 0;\r\n\r\n        m[3] = 0;\r\n        m[4] = 1;\r\n        m[5] = 0;\r\n\r\n        m[6] = 0;\r\n        m[7] = 0;\r\n        m[8] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    toString() {\r\n        let t = '[';\r\n        for (let i = 0; i < 9; i++) {\r\n            t += this.data[i];\r\n            t += (i !== 9) ? ', ' : '';\r\n        }\r\n        t += ']';\r\n        return t;\r\n    }\r\n\r\n\r\n    transpose() {\r\n        const m = this.data;\r\n\r\n        let tmp;\r\n        tmp = m[1]; m[1] = m[3]; m[3] = tmp;\r\n        tmp = m[2]; m[2] = m[6]; m[6] = tmp;\r\n        tmp = m[5]; m[5] = m[7]; m[7] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    static readonly ZERO = new Mat3(0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n}\r\n\r\n\r\n","/* tslint:disable */\r\nimport { Vec3 } from './vec3';\r\nimport { Vec4 } from './vec4';\r\nimport { Quat } from './quat';\r\nimport * as math from './math';\r\nexport class Mat4 {\r\n    data: Float32Array;\r\n\r\n    constructor(\r\n        v0: number, v1: number, v2: number, v3: number, v4: number, v5: number, v6: number, v7: number, v8: number,\r\n        v9: number, v10: number, v11: number, v12: number, v13: number, v14: number, v15: number\r\n    );\r\n    constructor(v0: [\r\n        number, number, number, number, number, number, number, number,\r\n        number, number, number, number, number, number, number, number\r\n    ]);\r\n    constructor();\r\n    constructor(v0?, v1?, v2?, v3?, v4?, v5?, v6?, v7?, v8?, v9?, v10?, v11?, v12?, v13?, v14?, v15?) {\r\n        if (v0 && v0.length === 16) {\r\n            this.data = new Float32Array(v0);\r\n            return;\r\n        }\r\n\r\n        this.data = new Float32Array(16);\r\n\r\n        if (typeof (v0) === 'number') {\r\n            this.data[0] = v0;\r\n            this.data[1] = v1;\r\n            this.data[2] = v2;\r\n            this.data[3] = v3;\r\n            this.data[4] = v4;\r\n            this.data[5] = v5;\r\n            this.data[6] = v6;\r\n            this.data[7] = v7;\r\n            this.data[8] = v8;\r\n            this.data[9] = v9;\r\n            this.data[10] = v10;\r\n            this.data[11] = v11;\r\n            this.data[12] = v12;\r\n            this.data[13] = v13;\r\n            this.data[14] = v14;\r\n            this.data[15] = v15;\r\n        } else {\r\n            this.setIdentity();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    add2(lhs: Mat4, rhs: Mat4): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + b[0];\r\n        r[1] = a[1] + b[1];\r\n        r[2] = a[2] + b[2];\r\n        r[3] = a[3] + b[3];\r\n        r[4] = a[4] + b[4];\r\n        r[5] = a[5] + b[5];\r\n        r[6] = a[6] + b[6];\r\n        r[7] = a[7] + b[7];\r\n        r[8] = a[8] + b[8];\r\n        r[9] = a[9] + b[9];\r\n        r[10] = a[10] + b[10];\r\n        r[11] = a[11] + b[11];\r\n        r[12] = a[12] + b[12];\r\n        r[13] = a[13] + b[13];\r\n        r[14] = a[14] + b[14];\r\n        r[15] = a[15] + b[15];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    add(rhs: Mat4): this {\r\n        return this.add2(this, rhs);\r\n    }\r\n\r\n\r\n    clone(): Mat4 {\r\n        return new Mat4().copy(this);\r\n    }\r\n\r\n\r\n    copy(rhs: Mat4): this {\r\n        let src = rhs.data,\r\n            dst = this.data;\r\n\r\n        dst[0] = src[0];\r\n        dst[1] = src[1];\r\n        dst[2] = src[2];\r\n        dst[3] = src[3];\r\n        dst[4] = src[4];\r\n        dst[5] = src[5];\r\n        dst[6] = src[6];\r\n        dst[7] = src[7];\r\n        dst[8] = src[8];\r\n        dst[9] = src[9];\r\n        dst[10] = src[10];\r\n        dst[11] = src[11];\r\n        dst[12] = src[12];\r\n        dst[13] = src[13];\r\n        dst[14] = src[14];\r\n        dst[15] = src[15];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    equals(rhs: Mat4): boolean {\r\n        let l = this.data,\r\n            r = rhs.data;\r\n\r\n        return ((l[0] === r[0]) &&\r\n            (l[1] === r[1]) &&\r\n            (l[2] === r[2]) &&\r\n            (l[3] === r[3]) &&\r\n            (l[4] === r[4]) &&\r\n            (l[5] === r[5]) &&\r\n            (l[6] === r[6]) &&\r\n            (l[7] === r[7]) &&\r\n            (l[8] === r[8]) &&\r\n            (l[9] === r[9]) &&\r\n            (l[10] === r[10]) &&\r\n            (l[11] === r[11]) &&\r\n            (l[12] === r[12]) &&\r\n            (l[13] === r[13]) &&\r\n            (l[14] === r[14]) &&\r\n            (l[15] === r[15]));\r\n    }\r\n\r\n\r\n    isIdentity(): boolean {\r\n        return this.equals(Mat4.IDENTITY);\r\n        // var m = this.data;\r\n\r\n        // return ((m[0] === 1) &&\r\n        //     (m[1] === 0) &&\r\n        //     (m[2] === 0) &&\r\n        //     (m[3] === 0) &&\r\n        //     (m[4] === 0) &&\r\n        //     (m[5] === 1) &&\r\n        //     (m[6] === 0) &&\r\n        //     (m[7] === 0) &&\r\n        //     (m[8] === 0) &&\r\n        //     (m[9] === 0) &&\r\n        //     (m[10] === 1) &&\r\n        //     (m[11] === 0) &&\r\n        //     (m[12] === 0) &&\r\n        //     (m[13] === 0) &&\r\n        //     (m[14] === 0) &&\r\n        //     (m[15] === 1));\r\n    }\r\n\r\n\r\n    mul2(lhs: Mat4, rhs: Mat4): this {\r\n        let a00, a01, a02, a03,\r\n            a10, a11, a12, a13,\r\n            a20, a21, a22, a23,\r\n            a30, a31, a32, a33,\r\n            b0, b1, b2, b3,\r\n            a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        a00 = a[0];\r\n        a01 = a[1];\r\n        a02 = a[2];\r\n        a03 = a[3];\r\n        a10 = a[4];\r\n        a11 = a[5];\r\n        a12 = a[6];\r\n        a13 = a[7];\r\n        a20 = a[8];\r\n        a21 = a[9];\r\n        a22 = a[10];\r\n        a23 = a[11];\r\n        a30 = a[12];\r\n        a31 = a[13];\r\n        a32 = a[14];\r\n        a33 = a[15];\r\n\r\n        b0 = b[0];\r\n        b1 = b[1];\r\n        b2 = b[2];\r\n        b3 = b[3];\r\n        r[0] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\r\n        r[1] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\r\n        r[2] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\r\n        r[3] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\r\n\r\n        b0 = b[4];\r\n        b1 = b[5];\r\n        b2 = b[6];\r\n        b3 = b[7];\r\n        r[4] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\r\n        r[5] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\r\n        r[6] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\r\n        r[7] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\r\n\r\n        b0 = b[8];\r\n        b1 = b[9];\r\n        b2 = b[10];\r\n        b3 = b[11];\r\n        r[8] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\r\n        r[9] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\r\n        r[10] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\r\n        r[11] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\r\n\r\n        b0 = b[12];\r\n        b1 = b[13];\r\n        b2 = b[14];\r\n        b3 = b[15];\r\n        r[12] = a00 * b0 + a10 * b1 + a20 * b2 + a30 * b3;\r\n        r[13] = a01 * b0 + a11 * b1 + a21 * b2 + a31 * b3;\r\n        r[14] = a02 * b0 + a12 * b1 + a22 * b2 + a32 * b3;\r\n        r[15] = a03 * b0 + a13 * b1 + a23 * b2 + a33 * b3;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul(rhs: Mat4): this {\r\n        return this.mul2(this, rhs);\r\n    }\r\n\r\n    /**\r\n     * 移动到某个点\r\n     *\r\n     * @param {Vec3} vec\r\n     * @param {Vec3} [res] ref\r\n     * @returns {Vec3} res\r\n     * @memberof Mat4\r\n     */\r\n    transformPoint(vec: Vec3, res?/* ref */: Vec3): Vec3 {\r\n        let x, y, z,\r\n            m = this.data,\r\n            v = vec.data;\r\n\r\n        res = (res === undefined) ? new Vec3() : res;\r\n\r\n        x =\r\n            v[0] * m[0] +\r\n            v[1] * m[4] +\r\n            v[2] * m[8] +\r\n            m[12];\r\n        y =\r\n            v[0] * m[1] +\r\n            v[1] * m[5] +\r\n            v[2] * m[9] +\r\n            m[13];\r\n        z =\r\n            v[0] * m[2] +\r\n            v[1] * m[6] +\r\n            v[2] * m[10] +\r\n            m[14];\r\n\r\n        return res.set(x, y, z);\r\n    }\r\n\r\n\r\n    transformVector(vec: Vec3, res?: Vec3): Vec3 {\r\n        let x, y, z,\r\n            m = this.data,\r\n            v = vec.data;\r\n\r\n        res = (res === undefined) ? new Vec3() : res;\r\n\r\n        x =\r\n            v[0] * m[0] +\r\n            v[1] * m[4] +\r\n            v[2] * m[8];\r\n        y =\r\n            v[0] * m[1] +\r\n            v[1] * m[5] +\r\n            v[2] * m[9];\r\n        z =\r\n            v[0] * m[2] +\r\n            v[1] * m[6] +\r\n            v[2] * m[10];\r\n\r\n        return res.set(x, y, z);\r\n    }\r\n\r\n\r\n    transformVec4(vec: Vec4, res: Vec4): Vec4 {\r\n        let x, y, z, w,\r\n            m = this.data,\r\n            v = vec.data;\r\n\r\n        res = (res === undefined) ? new Vec4() : res;\r\n\r\n        x =\r\n            v[0] * m[0] +\r\n            v[1] * m[4] +\r\n            v[2] * m[8] +\r\n            v[3] * m[12];\r\n        y =\r\n            v[0] * m[1] +\r\n            v[1] * m[5] +\r\n            v[2] * m[9] +\r\n            v[3] * m[13];\r\n        z =\r\n            v[0] * m[2] +\r\n            v[1] * m[6] +\r\n            v[2] * m[10] +\r\n            v[3] * m[14];\r\n\r\n        w =\r\n            v[0] * m[3] +\r\n            v[1] * m[7] +\r\n            v[2] * m[11] +\r\n            v[3] * m[15];\r\n\r\n        return res.set(x, y, z, w);\r\n    }\r\n\r\n\r\n    setLookAt = (() => {\r\n        let x:Vec3, y:Vec3, z: Vec3;\r\n\r\n        x = new Vec3();\r\n        y = new Vec3();\r\n        z = new Vec3();\r\n\r\n        return (position: Vec3, target: Vec3, up: Vec3): this => {\r\n            z.sub2(position, target).normalize();\r\n            y.copy(up).normalize();\r\n            x.cross(y, z).normalize();\r\n            y.cross(z, x);\r\n\r\n            let r = this.data;\r\n\r\n            r[0] = x.x;\r\n            r[1] = x.y;\r\n            r[2] = x.z;\r\n            r[3] = 0;\r\n            r[4] = y.x;\r\n            r[5] = y.y;\r\n            r[6] = y.z;\r\n            r[7] = 0;\r\n            r[8] = z.x;\r\n            r[9] = z.y;\r\n            r[10] = z.z;\r\n            r[11] = 0;\r\n            r[12] = position.x;\r\n            r[13] = position.y;\r\n            r[14] = position.z;\r\n            r[15] = 1;\r\n\r\n            return this;\r\n        };\r\n    })();\r\n\r\n\r\n    setFrustum(left: number, right: number, bottom: number, top: number, znear: number, zfar: number): this {\r\n        let temp1, temp2, temp3, temp4, r;\r\n\r\n        temp1 = 2 * znear;\r\n        temp2 = right - left;\r\n        temp3 = top - bottom;\r\n        temp4 = zfar - znear;\r\n\r\n        r = this.data;\r\n        r[0] = temp1 / temp2;\r\n        r[1] = 0;\r\n        r[2] = 0;\r\n        r[3] = 0;\r\n        r[4] = 0;\r\n        r[5] = temp1 / temp3;\r\n        r[6] = 0;\r\n        r[7] = 0;\r\n        r[8] = (right + left) / temp2;\r\n        r[9] = (top + bottom) / temp3;\r\n        r[10] = (-zfar - znear) / temp4;\r\n        r[11] = -1;\r\n        r[12] = 0;\r\n        r[13] = 0;\r\n        r[14] = (-temp1 * zfar) / temp4;\r\n        r[15] = 0;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setPerspective(fovy: number, aspect: number, znear: number, zfar: number, fovIsHorizontal?: boolean): this {\r\n        let xmax, ymax;\r\n\r\n        if (!fovIsHorizontal) {\r\n            ymax = znear * Math.tan(fovy * Math.PI / 360);\r\n            xmax = ymax * aspect;\r\n        } else {\r\n            xmax = znear * Math.tan(fovy * Math.PI / 360);\r\n            ymax = xmax / aspect;\r\n        }\r\n\r\n        return this.setFrustum(-xmax, xmax, -ymax, ymax, znear, zfar);\r\n    }\r\n\r\n\r\n    setOrtho(left: number, right: number, bottom: number, top: number, near: number, far: number): this {\r\n        let r = this.data;\r\n\r\n        r[0] = 2 / (right - left);\r\n        r[1] = 0;\r\n        r[2] = 0;\r\n        r[3] = 0;\r\n        r[4] = 0;\r\n        r[5] = 2 / (top - bottom);\r\n        r[6] = 0;\r\n        r[7] = 0;\r\n        r[8] = 0;\r\n        r[9] = 0;\r\n        r[10] = -2 / (far - near);\r\n        r[11] = 0;\r\n        r[12] = -(right + left) / (right - left);\r\n        r[13] = -(top + bottom) / (top - bottom);\r\n        r[14] = -(far + near) / (far - near);\r\n        r[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setFromAxisAngle(axis: Vec3, angle: number): this {\r\n        let x, y, z, c, s, t, tx, ty, m;\r\n\r\n        angle *= math.DEG_TO_RAD;\r\n\r\n        x = axis.x;\r\n        y = axis.y;\r\n        z = axis.z;\r\n        c = Math.cos(angle);\r\n        s = Math.sin(angle);\r\n        t = 1 - c;\r\n        tx = t * x;\r\n        ty = t * y;\r\n        m = this.data;\r\n\r\n        m[0] = tx * x + c;\r\n        m[1] = tx * y + s * z;\r\n        m[2] = tx * z - s * y;\r\n        m[3] = 0;\r\n        m[4] = tx * y - s * z;\r\n        m[5] = ty * y + c;\r\n        m[6] = ty * z + s * x;\r\n        m[7] = 0;\r\n        m[8] = tx * z + s * y;\r\n        m[9] = ty * z - x * s;\r\n        m[10] = t * z * z + c;\r\n        m[11] = 0;\r\n        m[12] = 0;\r\n        m[13] = 0;\r\n        m[14] = 0;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setTranslate(x: number, y: number, z: number): this {\r\n        let m = this.data;\r\n\r\n        m[0] = 1;\r\n        m[1] = 0;\r\n        m[2] = 0;\r\n        m[3] = 0;\r\n        m[4] = 0;\r\n        m[5] = 1;\r\n        m[6] = 0;\r\n        m[7] = 0;\r\n        m[8] = 0;\r\n        m[9] = 0;\r\n        m[10] = 1;\r\n        m[11] = 0;\r\n        m[12] = x;\r\n        m[13] = y;\r\n        m[14] = z;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setScale(x: number, y: number, z: number): this {\r\n        let m = this.data;\r\n\r\n        m[0] = x;\r\n        m[1] = 0;\r\n        m[2] = 0;\r\n        m[3] = 0;\r\n        m[4] = 0;\r\n        m[5] = y;\r\n        m[6] = 0;\r\n        m[7] = 0;\r\n        m[8] = 0;\r\n        m[9] = 0;\r\n        m[10] = z;\r\n        m[11] = 0;\r\n        m[12] = 0;\r\n        m[13] = 0;\r\n        m[14] = 0;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * 修改自身，逆矩阵\r\n     *\r\n     * @returns {this} this\r\n     * @memberof Mat4\r\n     */\r\n    invert(): this {\r\n        let a00, a01, a02, a03,\r\n            a10, a11, a12, a13,\r\n            a20, a21, a22, a23,\r\n            a30, a31, a32, a33,\r\n            b00, b01, b02, b03,\r\n            b04, b05, b06, b07,\r\n            b08, b09, b10, b11,\r\n            det, invDet, m;\r\n\r\n        m = this.data;\r\n        a00 = m[0];\r\n        a01 = m[1];\r\n        a02 = m[2];\r\n        a03 = m[3];\r\n        a10 = m[4];\r\n        a11 = m[5];\r\n        a12 = m[6];\r\n        a13 = m[7];\r\n        a20 = m[8];\r\n        a21 = m[9];\r\n        a22 = m[10];\r\n        a23 = m[11];\r\n        a30 = m[12];\r\n        a31 = m[13];\r\n        a32 = m[14];\r\n        a33 = m[15];\r\n\r\n        b00 = a00 * a11 - a01 * a10;\r\n        b01 = a00 * a12 - a02 * a10;\r\n        b02 = a00 * a13 - a03 * a10;\r\n        b03 = a01 * a12 - a02 * a11;\r\n        b04 = a01 * a13 - a03 * a11;\r\n        b05 = a02 * a13 - a03 * a12;\r\n        b06 = a20 * a31 - a21 * a30;\r\n        b07 = a20 * a32 - a22 * a30;\r\n        b08 = a20 * a33 - a23 * a30;\r\n        b09 = a21 * a32 - a22 * a31;\r\n        b10 = a21 * a33 - a23 * a31;\r\n        b11 = a22 * a33 - a23 * a32;\r\n\r\n        det = (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);\r\n        if (det === 0) {\r\n            // #ifdef DEBUG\r\n            console.warn(\"pc.Mat4#invert: Can't invert matrix, determinant is 0\");\r\n            // #endif\r\n            this.setIdentity();\r\n        } else {\r\n            invDet = 1 / det;\r\n\r\n            m[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;\r\n            m[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;\r\n            m[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;\r\n            m[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;\r\n            m[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;\r\n            m[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;\r\n            m[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;\r\n            m[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;\r\n            m[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;\r\n            m[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;\r\n            m[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;\r\n            m[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;\r\n            m[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;\r\n            m[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;\r\n            m[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;\r\n            m[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;\r\n        }\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    set(src: [\r\n        number, number, number, number,\r\n        number, number, number, number,\r\n        number, number, number, number,\r\n        number, number, number, number\r\n    ]): this {\r\n        let dst = this.data;\r\n        dst[0] = src[0];\r\n        dst[1] = src[1];\r\n        dst[2] = src[2];\r\n        dst[3] = src[3];\r\n        dst[4] = src[4];\r\n        dst[5] = src[5];\r\n        dst[6] = src[6];\r\n        dst[7] = src[7];\r\n        dst[8] = src[8];\r\n        dst[9] = src[9];\r\n        dst[10] = src[10];\r\n        dst[11] = src[11];\r\n        dst[12] = src[12];\r\n        dst[13] = src[13];\r\n        dst[14] = src[14];\r\n        dst[15] = src[15];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setIdentity(): this {\r\n        let m = this.data;\r\n        m[0] = 1;\r\n        m[1] = 0;\r\n        m[2] = 0;\r\n        m[3] = 0;\r\n        m[4] = 0;\r\n        m[5] = 1;\r\n        m[6] = 0;\r\n        m[7] = 0;\r\n        m[8] = 0;\r\n        m[9] = 0;\r\n        m[10] = 1;\r\n        m[11] = 0;\r\n        m[12] = 0;\r\n        m[13] = 0;\r\n        m[14] = 0;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setTRS(t: Vec3, r: Quat, s: Vec3): this {\r\n        let tx, ty, tz, qx, qy, qz, qw, sx, sy, sz,\r\n            x2, y2, z2, xx, xy, xz, yy, yz, zz, wx, wy, wz, m;\r\n\r\n        tx = t.x;\r\n        ty = t.y;\r\n        tz = t.z;\r\n\r\n        qx = r.x;\r\n        qy = r.y;\r\n        qz = r.z;\r\n        qw = r.w;\r\n\r\n        sx = s.x;\r\n        sy = s.y;\r\n        sz = s.z;\r\n\r\n        x2 = qx + qx;\r\n        y2 = qy + qy;\r\n        z2 = qz + qz;\r\n        xx = qx * x2;\r\n        xy = qx * y2;\r\n        xz = qx * z2;\r\n        yy = qy * y2;\r\n        yz = qy * z2;\r\n        zz = qz * z2;\r\n        wx = qw * x2;\r\n        wy = qw * y2;\r\n        wz = qw * z2;\r\n\r\n        m = this.data;\r\n\r\n        m[0] = (1 - (yy + zz)) * sx;\r\n        m[1] = (xy + wz) * sx;\r\n        m[2] = (xz - wy) * sx;\r\n        m[3] = 0;\r\n\r\n        m[4] = (xy - wz) * sy;\r\n        m[5] = (1 - (xx + zz)) * sy;\r\n        m[6] = (yz + wx) * sy;\r\n        m[7] = 0;\r\n\r\n        m[8] = (xz + wy) * sz;\r\n        m[9] = (yz - wx) * sz;\r\n        m[10] = (1 - (xx + yy)) * sz;\r\n        m[11] = 0;\r\n\r\n        m[12] = tx;\r\n        m[13] = ty;\r\n        m[14] = tz;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    transpose(): this {\r\n        let tmp, m = this.data;\r\n\r\n        tmp = m[1];\r\n        m[1] = m[4];\r\n        m[4] = tmp;\r\n\r\n        tmp = m[2];\r\n        m[2] = m[8];\r\n        m[8] = tmp;\r\n\r\n        tmp = m[3];\r\n        m[3] = m[12];\r\n        m[12] = tmp;\r\n\r\n        tmp = m[6];\r\n        m[6] = m[9];\r\n        m[9] = tmp;\r\n\r\n        tmp = m[7];\r\n        m[7] = m[13];\r\n        m[13] = tmp;\r\n\r\n        tmp = m[11];\r\n        m[11] = m[14];\r\n        m[14] = tmp;\r\n\r\n        return this;\r\n    }\r\n\r\n    invertTo3x3(res: Mat4): this {\r\n        let a11, a21, a31, a12, a22, a32, a13, a23, a33,\r\n            m, r, det, idet;\r\n\r\n        m = this.data;\r\n        r = res.data;\r\n\r\n        let m0 = m[0];\r\n        let m1 = m[1];\r\n        let m2 = m[2];\r\n\r\n        let m4 = m[4];\r\n        let m5 = m[5];\r\n        let m6 = m[6];\r\n\r\n        let m8 = m[8];\r\n        let m9 = m[9];\r\n        let m10 = m[10];\r\n\r\n        a11 = m10 * m5 - m6 * m9;\r\n        a21 = -m10 * m1 + m2 * m9;\r\n        a31 = m6 * m1 - m2 * m5;\r\n        a12 = -m10 * m4 + m6 * m8;\r\n        a22 = m10 * m0 - m2 * m8;\r\n        a32 = -m6 * m0 + m2 * m4;\r\n        a13 = m9 * m4 - m5 * m8;\r\n        a23 = -m9 * m0 + m1 * m8;\r\n        a33 = m5 * m0 - m1 * m4;\r\n\r\n        det = m0 * a11 + m1 * a12 + m2 * a13;\r\n        if (det === 0) { // no inverse\r\n            // #ifdef DEBUG\r\n            console.warn(\"pc.Mat4#invertTo3x3: Can't invert matrix, determinant is 0\");\r\n            // #endif\r\n            return this;\r\n        }\r\n\r\n        idet = 1 / det;\r\n\r\n        r[0] = idet * a11;\r\n        r[1] = idet * a21;\r\n        r[2] = idet * a31;\r\n        r[3] = idet * a12;\r\n        r[4] = idet * a22;\r\n        r[5] = idet * a32;\r\n        r[6] = idet * a13;\r\n        r[7] = idet * a23;\r\n        r[8] = idet * a33;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    getTranslation(t?/* ref */: Vec3): Vec3 {\r\n        t = (t === undefined) ? new Vec3() : t;\r\n\r\n        return t.set(this.data[12], this.data[13], this.data[14]);\r\n    }\r\n\r\n\r\n    getX(x?: Vec3): Vec3 {\r\n        x = (x === undefined) ? new Vec3() : x;\r\n\r\n        return x.set(this.data[0], this.data[1], this.data[2]);\r\n    }\r\n\r\n\r\n    getY(y?/*ref and return*/: Vec3): Vec3 {\r\n        y = (y === undefined) ? new Vec3() : y;\r\n\r\n        return y.set(this.data[4], this.data[5], this.data[6]);\r\n    }\r\n\r\n\r\n    getZ(z?: Vec3): Vec3 {\r\n        z = (z === undefined) ? new Vec3() : z;\r\n\r\n        return z.set(this.data[8], this.data[9], this.data[10]);\r\n    }\r\n\r\n\r\n    getScale = (() => {\r\n        let x, y, z;\r\n\r\n        x = new Vec3();\r\n        y = new Vec3();\r\n        z = new Vec3();\r\n\r\n        return (scale?: Vec3) => {\r\n            scale = (scale === undefined) ? new Vec3() : scale;\r\n\r\n            this.getX(x);\r\n            this.getY(y);\r\n            this.getZ(z);\r\n            scale.set(x.length(), y.length(), z.length());\r\n\r\n            return scale;\r\n        };\r\n    })();\r\n\r\n\r\n    // http://en.wikipedia.org/wiki/Rotation_matrix#Conversion_from_and_to_axis-angle\r\n    // The 3D space is right-handed, so the rotation around each axis will be counterclockwise\r\n    // for an observer placed so that the axis goes in his or her direction (Right-hand rule).\r\n    setFromEulerAngles(ex: number, ey: number, ez: number): this {\r\n        let s1, c1, s2, c2, s3, c3, m;\r\n\r\n        ex *= math.DEG_TO_RAD;\r\n        ey *= math.DEG_TO_RAD;\r\n        ez *= math.DEG_TO_RAD;\r\n\r\n        // Solution taken from http://en.wikipedia.org/wiki/Euler_angles#Matrix_orientation\r\n        s1 = Math.sin(-ex);\r\n        c1 = Math.cos(-ex);\r\n        s2 = Math.sin(-ey);\r\n        c2 = Math.cos(-ey);\r\n        s3 = Math.sin(-ez);\r\n        c3 = Math.cos(-ez);\r\n\r\n        m = this.data;\r\n\r\n        // Set rotation elements\r\n        m[0] = c2 * c3;\r\n        m[1] = -c2 * s3;\r\n        m[2] = s2;\r\n        m[3] = 0;\r\n\r\n        m[4] = c1 * s3 + c3 * s1 * s2;\r\n        m[5] = c1 * c3 - s1 * s2 * s3;\r\n        m[6] = -c2 * s1;\r\n        m[7] = 0;\r\n\r\n        m[8] = s1 * s3 - c1 * c3 * s2;\r\n        m[9] = c3 * s1 + c1 * s2 * s3;\r\n        m[10] = c1 * c2;\r\n        m[11] = 0;\r\n\r\n        m[12] = 0;\r\n        m[13] = 0;\r\n        m[14] = 0;\r\n        m[15] = 1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    getEulerAngles = (() => {\r\n        let scale = new Vec3();\r\n\r\n        return (eulers: Vec3): Vec3 => {\r\n            let x, y, z, sx, sy, sz, m, halfPi;\r\n\r\n            eulers = (eulers === undefined) ? new Vec3() : eulers;\r\n\r\n            this.getScale(scale);\r\n            sx = scale.x;\r\n            sy = scale.y;\r\n            sz = scale.z;\r\n\r\n            m = this.data;\r\n\r\n            y = Math.asin(-m[2] / sx);\r\n            halfPi = Math.PI * 0.5;\r\n\r\n            if (y < halfPi) {\r\n                if (y > -halfPi) {\r\n                    x = Math.atan2(m[6] / sy, m[10] / sz);\r\n                    z = Math.atan2(m[1] / sx, m[0] / sx);\r\n                } else {\r\n                    // Not a unique solution\r\n                    z = 0;\r\n                    x = -Math.atan2(m[4] / sy, m[5] / sy);\r\n                }\r\n            } else {\r\n                // Not a unique solution\r\n                z = 0;\r\n                x = Math.atan2(m[4] / sy, m[5] / sy);\r\n            }\r\n\r\n            return eulers.set(x, y, z).scale(math.RAD_TO_DEG);\r\n        };\r\n    })();\r\n\r\n\r\n    toString(): string {\r\n        let i, t;\r\n\r\n        t = '[';\r\n        for (i = 0; i < 16; i += 1) {\r\n            t += this.data[i];\r\n            t += (i !== 15) ? ', ' : '';\r\n        }\r\n        t += ']';\r\n        return t;\r\n    }\r\n\r\n\r\n    static readonly IDENTITY: Mat4 = new Mat4();\r\n\r\n\r\n    static readonly ZERO: Mat4 = new Mat4(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n}\r\n\r\n","/* tslint:disable */\r\nexport const generateUUID = (function _() {\r\n\r\n    // http://www.broofa.com/Tools/Math.uuid.htm\r\n\r\n    let chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n    let uuid = new Array(36);\r\n    let rnd = 0;\r\n    let r;\r\n\r\n    return function generateUUID() {\r\n\r\n        for (let i = 0; i < 36; i++) {\r\n\r\n            if (i === 8 || i === 13 || i === 18 || i === 23) {\r\n\r\n                uuid[i] = '-';\r\n\r\n            } else if (i === 14) {\r\n\r\n                uuid[i] = '4';\r\n\r\n            } else {\r\n\r\n                if (rnd <= 0x02) rnd = 0x2000000 + (Math.random() * 0x1000000) | 0;\r\n                // tslint:disable-next-line:number-literal-format\r\n                r = rnd & 0xf;\r\n                rnd = rnd >> 4;\r\n                uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\r\n\r\n            }\r\n        }\r\n\r\n        return uuid.join('');\t//返回36位的uuid通用唯一识别码 (Universally Unique Identifier).\r\n\r\n    };\r\n\r\n})();\r\n\r\n\r\n\r\nexport function intToBytes24(i) {\r\n    let r, g, b;\r\n\r\n    r = (i >> 16) & 0xff;\r\n    g = (i >> 8) & 0xff;\r\n    b = (i) & 0xff;\r\n\r\n    return [r, g, b];\r\n}\r\n\r\nexport function intToBytes32(i) {\r\n    let r, g, b, a;\r\n\r\n    r = (i >> 24) & 0xff;\r\n    g = (i >> 16) & 0xff;\r\n    b = (i >> 8) & 0xff;\r\n    a = (i) & 0xff;\r\n\r\n    return [r, g, b, a];\r\n}\r\n\r\n\r\nexport function bytesToInt24(r, g, b) {\r\n    if (r.length) {\r\n        b = r[2];\r\n        g = r[1];\r\n        r = r[0];\r\n    }\r\n    return ((r << 16) | (g << 8) | b);\r\n}\r\n\r\nexport function bytesToInt32(r, g, b, a) {\r\n    if (r.length) {\r\n        a = r[3];\r\n        b = r[2];\r\n        g = r[1];\r\n        r = r[0];\r\n    }\r\n    // Why ((r << 24)>>>32)?\r\n    // << operator uses signed 32 bit numbers, so 128<<24 is negative.\r\n    // >>> used unsigned so >>>32 converts back to an unsigned.\r\n    // See http://stackoverflow.com/questions/1908492/unsigned-integer-in-javascript\r\n    return ((r << 24) | (g << 16) | (b << 8) | a) >>> 32;\r\n}\r\n\r\nexport const DEG_TO_RAD = Math.PI / 180;\r\nexport const RAD_TO_DEG = 180 / Math.PI;\r\nexport const INV_LOG2 = 1 / Math.log(2);\r\n\r\nexport function clamp(value, min, max) {\r\n    if (value >= max) return max;\r\n    if (value <= min) return min;\r\n    return value;\r\n}\r\n\r\nexport function lerp(a, b, alpha) {\r\n    return a + (b - a) * clamp(alpha, 0, 1);\r\n}\r\n\r\nexport function lerpAngle(a, b, alpha) {\r\n    if (b - a > 180) {\r\n        b -= 360;\r\n    }\r\n    if (b - a < -180) {\r\n        b += 360;\r\n    }\r\n    return lerp(a, b, clamp(alpha, 0, 1));\r\n}\r\n\r\nexport function powerOfTwo(x) {\r\n    return ((x !== 0) && !(x & (x - 1)));\r\n}\r\n\r\nexport function nextPowerOfTwo(val) {\r\n    val--;\r\n    val = (val >> 1) | val;\r\n    val = (val >> 2) | val;\r\n    val = (val >> 4) | val;\r\n    val = (val >> 8) | val;\r\n    val = (val >> 16) | val;\r\n    val++;\r\n    return val;\r\n}\r\n\r\nexport function random(min, max) {\r\n    const diff = max - min;\r\n    return Math.random() * diff + min;\r\n}\r\n\r\nexport function smoothstep(min, max, x) {\r\n    if (x <= min) return 0;\r\n    if (x >= max) return 1;\r\n\r\n    x = (x - min) / (max - min);\r\n\r\n    return x * x * (3 - 2 * x);\r\n}\r\n\r\nexport function smootherstep(min, max, x) {\r\n    if (x <= min) return 0;\r\n    if (x >= max) return 1;\r\n\r\n    x = (x - min) / (max - min);\r\n\r\n    return x * x * x * (x * (x * 6 - 15) + 10);\r\n}\r\n\r\nexport const intToBytes = intToBytes32;\r\nexport const bytesToInt = bytesToInt32;\r\n\r\nif (!Math.log2) {\r\n    Math.log2 = x => Math.log(x) * INV_LOG2;\r\n}\r\n","/* tslint:disable */\r\nimport { Vec3 } from './vec3';\r\nimport * as math from './math';\r\nexport class Quat {\r\n\r\n    x: number;\r\n    y: number;\r\n    z: number;\r\n    w: number;\r\n    constructor(x: number, y: number, z: number, w: number)\r\n    constructor(x: [number, number, number, number])\r\n    constructor()\r\n    constructor(x?, y?, z?, w?) {\r\n        if (x && x.length === 4) {\r\n            this.x = x[0];\r\n            this.y = x[1];\r\n            this.z = x[2];\r\n            this.w = x[3];\r\n        } else {\r\n            this.x = (x === undefined) ? 0 : x;\r\n            this.y = (y === undefined) ? 0 : y;\r\n            this.z = (z === undefined) ? 0 : z;\r\n            this.w = (w === undefined) ? 1 : w;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    clone() {\r\n        return new Quat(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    conjugate() {\r\n        this.x *= -1;\r\n        this.y *= -1;\r\n        this.z *= -1;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    copy({ x, y, z, w }: Quat) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    equals({ x, y, z, w }: Quat) {\r\n        return (this.x === x) && (this.y === y) && (this.z === z) && (this.w === w);\r\n    }\r\n\r\n\r\n    getAxisAngle(axis) {\r\n        let rad = Math.acos(this.w) * 2;\r\n        const s = Math.sin(rad / 2);\r\n        if (s !== 0) {\r\n            axis.x = this.x / s;\r\n            axis.y = this.y / s;\r\n            axis.z = this.z / s;\r\n            if (axis.x < 0 || axis.y < 0 || axis.z < 0) {\r\n                // Flip the sign\r\n                axis.x *= -1;\r\n                axis.y *= -1;\r\n                axis.z *= -1;\r\n                rad *= -1;\r\n            }\r\n        } else {\r\n            // If s is zero, return any axis (no rotation - axis does not matter)\r\n            axis.x = 1;\r\n            axis.y = 0;\r\n            axis.z = 0;\r\n        }\r\n        return rad * math.RAD_TO_DEG;\r\n    }\r\n\r\n\r\n    getEulerAngles(eulers?/*ref*/) {\r\n        let x, y, z, qx, qy, qz, qw, a2;\r\n\r\n        eulers = (eulers === undefined) ? new Vec3() : eulers;\r\n\r\n        qx = this.x;\r\n        qy = this.y;\r\n        qz = this.z;\r\n        qw = this.w;\r\n\r\n        a2 = 2 * (qw * qy - qx * qz);\r\n        if (a2 <= -0.99999) {\r\n            x = 2 * Math.atan2(qx, qw);\r\n            y = -Math.PI / 2;\r\n            z = 0;\r\n        } else if (a2 >= 0.99999) {\r\n            x = 2 * Math.atan2(qx, qw);\r\n            y = Math.PI / 2;\r\n            z = 0;\r\n        } else {\r\n            x = Math.atan2(2 * (qw * qx + qy * qz), 1 - 2 * (qx * qx + qy * qy));\r\n            y = Math.asin(a2);\r\n            z = Math.atan2(2 * (qw * qz + qx * qy), 1 - 2 * (qy * qy + qz * qz));\r\n        }\r\n\r\n        return eulers.set(x, y, z).scale(math.RAD_TO_DEG);\r\n    }\r\n\r\n\r\n    invert() {\r\n        return this.conjugate().normalize();\r\n    }\r\n\r\n\r\n    length() {\r\n        let x, y, z, w;\r\n\r\n        x = this.x;\r\n        y = this.y;\r\n        z = this.z;\r\n        w = this.w;\r\n\r\n        return Math.sqrt(x * x + y * y + z * z + w * w);\r\n    }\r\n\r\n\r\n    lengthSq() {\r\n        let x, y, z, w;\r\n        return x * x + y * y + z * z + w * w;\r\n    }\r\n\r\n\r\n    mul({ x, y, z, w }: Quat) {\r\n        let q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w;\r\n\r\n        q1x = this.x;\r\n        q1y = this.y;\r\n        q1z = this.z;\r\n        q1w = this.w;\r\n\r\n        q2x = x;\r\n        q2y = y;\r\n        q2z = z;\r\n        q2w = w;\r\n\r\n        this.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\r\n        this.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\r\n        this.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\r\n        this.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul2(lhs: Quat, rhs: Quat): Quat {\r\n        let q1x, q1y, q1z, q1w, q2x, q2y, q2z, q2w;\r\n\r\n        q1x = lhs.x;\r\n        q1y = lhs.y;\r\n        q1z = lhs.z;\r\n        q1w = lhs.w;\r\n\r\n        q2x = rhs.x;\r\n        q2y = rhs.y;\r\n        q2z = rhs.z;\r\n        q2w = rhs.w;\r\n\r\n        this.x = q1w * q2x + q1x * q2w + q1y * q2z - q1z * q2y;\r\n        this.y = q1w * q2y + q1y * q2w + q1z * q2x - q1x * q2z;\r\n        this.z = q1w * q2z + q1z * q2w + q1x * q2y - q1y * q2x;\r\n        this.w = q1w * q2w - q1x * q2x - q1y * q2y - q1z * q2z;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    normalize() {\r\n        let len = this.length();\r\n        if (len === 0) {\r\n            this.x = this.y = this.z = 0;\r\n            this.w = 1;\r\n        } else {\r\n            len = 1 / len;\r\n            this.x *= len;\r\n            this.y *= len;\r\n            this.z *= len;\r\n            this.w *= len;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    set(x, y, z, w) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setFromAxisAngle({ x, y, z }, angle) {\r\n        let sa, ca;\r\n\r\n        angle *= 0.5 * math.DEG_TO_RAD;\r\n\r\n        sa = Math.sin(angle);\r\n        ca = Math.cos(angle);\r\n\r\n        this.x = sa * x;\r\n        this.y = sa * y;\r\n        this.z = sa * z;\r\n        this.w = ca;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setFromEulerAngles(ex, ey, ez) {\r\n        let sx, cx, sy, cy, sz, cz, halfToRad;\r\n\r\n        halfToRad = 0.5 * math.DEG_TO_RAD;\r\n        ex *= halfToRad;\r\n        ey *= halfToRad;\r\n        ez *= halfToRad;\r\n\r\n        sx = Math.sin(ex);\r\n        cx = Math.cos(ex);\r\n        sy = Math.sin(ey);\r\n        cy = Math.cos(ey);\r\n        sz = Math.sin(ez);\r\n        cz = Math.cos(ez);\r\n\r\n        this.x = sx * cy * cz - cx * sy * sz;\r\n        this.y = cx * sy * cz + sx * cy * sz;\r\n        this.z = cx * cy * sz - sx * sy * cz;\r\n        this.w = cx * cy * cz + sx * sy * sz;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setFromMat4(m) {\r\n        let m00, m01, m02, m10, m11, m12, m20, m21, m22, tr, s, rs, lx, ly, lz;\r\n\r\n        m = m.data;\r\n\r\n        // Cache matrix values for super-speed\r\n        m00 = m[0];\r\n        m01 = m[1];\r\n        m02 = m[2];\r\n        m10 = m[4];\r\n        m11 = m[5];\r\n        m12 = m[6];\r\n        m20 = m[8];\r\n        m21 = m[9];\r\n        m22 = m[10];\r\n\r\n        // Remove the scale from the matrix\r\n        lx = 1 / Math.sqrt(m00 * m00 + m01 * m01 + m02 * m02);\r\n        ly = 1 / Math.sqrt(m10 * m10 + m11 * m11 + m12 * m12);\r\n        lz = 1 / Math.sqrt(m20 * m20 + m21 * m21 + m22 * m22);\r\n\r\n        m00 *= lx;\r\n        m01 *= lx;\r\n        m02 *= lx;\r\n        m10 *= ly;\r\n        m11 *= ly;\r\n        m12 *= ly;\r\n        m20 *= lz;\r\n        m21 *= lz;\r\n        m22 *= lz;\r\n\r\n        // http://www.cs.ucr.edu/~vbz/resources/quatut.pdf\r\n\r\n        tr = m00 + m11 + m22;\r\n        if (tr >= 0) {\r\n            s = Math.sqrt(tr + 1);\r\n            this.w = s * 0.5;\r\n            s = 0.5 / s;\r\n            this.x = (m12 - m21) * s;\r\n            this.y = (m20 - m02) * s;\r\n            this.z = (m01 - m10) * s;\r\n        } else {\r\n            if (m00 > m11) {\r\n                if (m00 > m22) {\r\n                    // XDiagDomMatrix\r\n                    rs = (m00 - (m11 + m22)) + 1;\r\n                    rs = Math.sqrt(rs);\r\n\r\n                    this.x = rs * 0.5;\r\n                    rs = 0.5 / rs;\r\n                    this.w = (m12 - m21) * rs;\r\n                    this.y = (m01 + m10) * rs;\r\n                    this.z = (m02 + m20) * rs;\r\n                } else {\r\n                    // ZDiagDomMatrix\r\n                    rs = (m22 - (m00 + m11)) + 1;\r\n                    rs = Math.sqrt(rs);\r\n\r\n                    this.z = rs * 0.5;\r\n                    rs = 0.5 / rs;\r\n                    this.w = (m01 - m10) * rs;\r\n                    this.x = (m20 + m02) * rs;\r\n                    this.y = (m21 + m12) * rs;\r\n                }\r\n            } else if (m11 > m22) {\r\n                // YDiagDomMatrix\r\n                rs = (m11 - (m22 + m00)) + 1;\r\n                rs = Math.sqrt(rs);\r\n\r\n                this.y = rs * 0.5;\r\n                rs = 0.5 / rs;\r\n                this.w = (m20 - m02) * rs;\r\n                this.z = (m12 + m21) * rs;\r\n                this.x = (m10 + m01) * rs;\r\n            } else {\r\n                // ZDiagDomMatrix\r\n                rs = (m22 - (m00 + m11)) + 1;\r\n                rs = Math.sqrt(rs);\r\n\r\n                this.z = rs * 0.5;\r\n                rs = 0.5 / rs;\r\n                this.w = (m01 - m10) * rs;\r\n                this.x = (m20 + m02) * rs;\r\n                this.y = (m21 + m12) * rs;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    slerp(lhs: Quat, rhs: Quat, alpha: number): this {\r\n        let lx, ly, lz, lw, rx, ry, rz, rw;\r\n        lx = lhs.x;\r\n        ly = lhs.y;\r\n        lz = lhs.z;\r\n        lw = lhs.w;\r\n        rx = rhs.x;\r\n        ry = rhs.y;\r\n        rz = rhs.z;\r\n        rw = rhs.w;\r\n\r\n        // Calculate angle between them.\r\n        let cosHalfTheta = lw * rw + lx * rx + ly * ry + lz * rz;\r\n\r\n        if (cosHalfTheta < 0) {\r\n            rw = -rw;\r\n            rx = -rx;\r\n            ry = -ry;\r\n            rz = -rz;\r\n            cosHalfTheta = -cosHalfTheta;\r\n        }\r\n\r\n        // If lhs == rhs or lhs == -rhs then theta == 0 and we can return lhs\r\n        if (Math.abs(cosHalfTheta) >= 1) {\r\n            this.w = lw;\r\n            this.x = lx;\r\n            this.y = ly;\r\n            this.z = lz;\r\n            return this;\r\n        }\r\n\r\n        // Calculate temporary values.\r\n        let halfTheta = Math.acos(cosHalfTheta);\r\n        let sinHalfTheta = Math.sqrt(1 - cosHalfTheta * cosHalfTheta);\r\n\r\n        // If theta = 180 degrees then result is not fully defined\r\n        // we could rotate around any axis normal to qa or qb\r\n        if (Math.abs(sinHalfTheta) < 0.001) {\r\n            this.w = (lw * 0.5 + rw * 0.5);\r\n            this.x = (lx * 0.5 + rx * 0.5);\r\n            this.y = (ly * 0.5 + ry * 0.5);\r\n            this.z = (lz * 0.5 + rz * 0.5);\r\n            return this;\r\n        }\r\n\r\n        let ratioA = Math.sin((1 - alpha) * halfTheta) / sinHalfTheta;\r\n        let ratioB = Math.sin(alpha * halfTheta) / sinHalfTheta;\r\n\r\n        // Calculate Quaternion.\r\n        this.w = (lw * ratioA + rw * ratioB);\r\n        this.x = (lx * ratioA + rx * ratioB);\r\n        this.y = (ly * ratioA + ry * ratioB);\r\n        this.z = (lz * ratioA + rz * ratioB);\r\n        return this;\r\n    }\r\n\r\n\r\n    transformVector(vec, res) {\r\n        if (res === undefined) {\r\n            res = new Vec3();\r\n        }\r\n\r\n        const x = vec.x, y = vec.y, z = vec.z;\r\n        const qx = this.x, qy = this.y, qz = this.z, qw = this.w;\r\n\r\n        // calculate quat * vec\r\n        const ix = qw * x + qy * z - qz * y;\r\n        const iy = qw * y + qz * x - qx * z;\r\n        const iz = qw * z + qx * y - qy * x;\r\n        const iw = -qx * x - qy * y - qz * z;\r\n\r\n        // calculate result * inverse quat\r\n        res.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n        res.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n        res.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n\r\n        return res;\r\n    }\r\n    static readonly TEMP = new Quat();\r\n\r\n    static readonly IDENTITY: Quat = new Quat();\r\n\r\n\r\n    static readonly ZERO: Quat = new Quat(0, 0, 0, 0);\r\n}\r\n\r\n\r\n","/* tslint:disable */\r\nexport class Vec2 {\r\n    data: Float32Array;\r\n\r\n    constructor();\r\n    constructor(x: number, y: number);\r\n    constructor(x: [number, number]);\r\n    constructor(x?, y?) {\r\n        if (x && x.length === 2) {\r\n            this.data = new Float32Array(x);\r\n            return;\r\n        }\r\n\r\n        this.data = new Float32Array(2);\r\n\r\n        this.data[0] = x || 0;\r\n        this.data[1] = y || 0;\r\n    }\r\n\r\n\r\n    add(rhs: Vec2): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] += b[0];\r\n        a[1] += b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    add2(lhs: Vec2, rhs: Vec2): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + b[0];\r\n        r[1] = a[1] + b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    clone(): Vec2 {\r\n        return new Vec2().copy(this);\r\n    }\r\n\r\n\r\n    copy(rhs: Vec2): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] = b[0];\r\n        a[1] = b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    dot(rhs: Vec2): number {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        return a[0] * b[0] + a[1] * b[1];\r\n    }\r\n\r\n\r\n    equals(rhs: Vec2): boolean {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        return a[0] === b[0] && a[1] === b[1];\r\n    }\r\n\r\n\r\n    length(): number {\r\n        let v = this.data;\r\n\r\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\r\n    }\r\n\r\n\r\n    lengthSq(): number {\r\n        let v = this.data;\r\n\r\n        return v[0] * v[0] + v[1] * v[1];\r\n    }\r\n\r\n\r\n    lerp(lhs: Vec2, rhs: Vec2, alpha: number): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + alpha * (b[0] - a[0]);\r\n        r[1] = a[1] + alpha * (b[1] - a[1]);\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul(rhs: Vec2): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] *= b[0];\r\n        a[1] *= b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul2(lhs: Vec2, rhs: Vec2): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] * b[0];\r\n        r[1] = a[1] * b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    normalize(): this {\r\n        let v = this.data;\r\n\r\n        let lengthSq = v[0] * v[0] + v[1] * v[1];\r\n        if (lengthSq > 0) {\r\n            let invLength = 1 / Math.sqrt(lengthSq);\r\n            v[0] *= invLength;\r\n            v[1] *= invLength;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    scale(scalar: number): this {\r\n        let v = this.data;\r\n\r\n        v[0] *= scalar;\r\n        v[1] *= scalar;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    set(x: number, y: number): this {\r\n        let v = this.data;\r\n\r\n        v[0] = x;\r\n        v[1] = y;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    sub(rhs: Vec2): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] -= b[0];\r\n        a[1] -= b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    sub2(lhs: Vec2, rhs: Vec2): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] - b[0];\r\n        r[1] = a[1] - b[1];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    toString(): string {\r\n        return '[' + this.data[0] + ', ' + this.data[1] + ']';\r\n    }\r\n\r\n\r\n\r\n    get x(): number {\r\n        return this.data[0];\r\n    }\r\n    set x(value: number) {\r\n        this.data[0] = value;\r\n    }\r\n\r\n\r\n    get y(): number {\r\n        return this.data[1];\r\n    }\r\n    set y(value: number) {\r\n        this.data[1] = value;\r\n    }\r\n\r\n\r\n    static readonly ONE: Vec2 = new Vec2(1, 1);\r\n\r\n\r\n    static readonly RIGHT: Vec2 = new Vec2(1, 0);\r\n\r\n\r\n    static readonly UP: Vec2 = new Vec2(0, 1);\r\n\r\n\r\n    static readonly ZERO: Vec2 = new Vec2(0, 0);\r\n}\r\n","\r\n\r\n/* tslint:disable */\r\nexport class Vec3 {\r\n    addSelf(arg0: any): any {\r\n        throw new Error('Method not implemented.');\r\n    }\r\n    data: Float32Array;\r\n    constructor();\r\n    constructor(x: number, y: number, z: number)\r\n    constructor(x: [number, number, number])\r\n    constructor(x?, y?, z?) {\r\n        if (x && x.length === 3) {\r\n            this.data = new Float32Array(x);\r\n            return;\r\n        }\r\n\r\n        this.data = new Float32Array(3);\r\n\r\n        this.data[0] = x || 0;\r\n        this.data[1] = y || 0;\r\n        this.data[2] = z || 0;\r\n    }\r\n\r\n\r\n    add(rhs: Vec3): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] += b[0];\r\n        a[1] += b[1];\r\n        a[2] += b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    add2(lhs: Vec3, rhs: Vec3): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + b[0];\r\n        r[1] = a[1] + b[1];\r\n        r[2] = a[2] + b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    clone(): Vec3 {\r\n        return new Vec3().copy(this);\r\n    }\r\n\r\n\r\n    copy(rhs: Vec3): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] = b[0];\r\n        a[1] = b[1];\r\n        a[2] = b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    cross(lhs: Vec3, rhs: Vec3): this {\r\n        let a, b, r, ax, ay, az, bx, by, bz;\r\n\r\n        a = lhs.data;\r\n        b = rhs.data;\r\n        r = this.data;\r\n\r\n        ax = a[0];\r\n        ay = a[1];\r\n        az = a[2];\r\n        bx = b[0];\r\n        by = b[1];\r\n        bz = b[2];\r\n\r\n        r[0] = ay * bz - by * az;\r\n        r[1] = az * bx - bz * ax;\r\n        r[2] = ax * by - bx * ay;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    dot(rhs: Vec3): number {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n    }\r\n\r\n\r\n    equals(rhs: Vec3): boolean {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\r\n    }\r\n\r\n\r\n    length(): number {\r\n        let v = this.data;\r\n\r\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\r\n    }\r\n\r\n\r\n    lengthSq(): number {\r\n        let v = this.data;\r\n\r\n        return v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\r\n    }\r\n\r\n\r\n    lerp(lhs: Vec3, rhs: Vec3, alpha: number): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + alpha * (b[0] - a[0]);\r\n        r[1] = a[1] + alpha * (b[1] - a[1]);\r\n        r[2] = a[2] + alpha * (b[2] - a[2]);\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul(rhs: Vec3): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] *= b[0];\r\n        a[1] *= b[1];\r\n        a[2] *= b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul2(lhs: Vec3, rhs: Vec3): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] * b[0];\r\n        r[1] = a[1] * b[1];\r\n        r[2] = a[2] * b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    normalize(): this {\r\n        let v = this.data;\r\n\r\n        let lengthSq = v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\r\n        if (lengthSq > 0) {\r\n            let invLength = 1 / Math.sqrt(lengthSq);\r\n            v[0] *= invLength;\r\n            v[1] *= invLength;\r\n            v[2] *= invLength;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    project(rhs: Vec3): this {\r\n        let a = this.data;\r\n        let b = rhs.data;\r\n        let a_dot_b = a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n        let b_dot_b = b[0] * b[0] + b[1] * b[1] + b[2] * b[2];\r\n        let s = a_dot_b / b_dot_b;\r\n        a[0] = b[0] * s;\r\n        a[1] = b[1] * s;\r\n        a[2] = b[2] * s;\r\n        return this;\r\n    }\r\n\r\n\r\n    scale(scalar: number): this {\r\n        let v = this.data;\r\n\r\n        v[0] *= scalar;\r\n        v[1] *= scalar;\r\n        v[2] *= scalar;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    set(x: number, y: number, z: number): this {\r\n        let v = this.data;\r\n\r\n        v[0] = x;\r\n        v[1] = y;\r\n        v[2] = z;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    sub(rhs: Vec3): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] -= b[0];\r\n        a[1] -= b[1];\r\n        a[2] -= b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    sub2(lhs: Vec3, rhs: Vec3): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] - b[0];\r\n        r[1] = a[1] - b[1];\r\n        r[2] = a[2] - b[2];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    toString(): string {\r\n        return '[' + this.data[0] + ', ' + this.data[1] + ', ' + this.data[2] + ']';\r\n    }\r\n\r\n\r\n    get x(): number {\r\n        return this.data[0];\r\n    }\r\n    set x(value: number) {\r\n        this.data[0] = value;\r\n    }\r\n\r\n\r\n    get y(): number {\r\n        return this.data[1];\r\n    }\r\n    set y(value: number) {\r\n        this.data[1] = value;\r\n    }\r\n\r\n\r\n    get z(): number {\r\n        return this.data[2];\r\n    }\r\n    set z(value: number) {\r\n        this.data[2] = value;\r\n    }\r\n\r\n\r\n    static readonly BACK: Vec3 = new Vec3(0, 0, 1);\r\n\r\n\r\n    static readonly DOWN: Vec3 = new Vec3(0, -1, 0);\r\n\r\n\r\n    static readonly FORWARD: Vec3 = new Vec3(0, 0, -1);\r\n\r\n\r\n    static readonly LEFT: Vec3 = new Vec3(-1, 0, 0);\r\n\r\n\r\n    static readonly ONE: Vec3 = new Vec3(1, 1, 1);\r\n\r\n\r\n    static readonly RIGHT: Vec3 = new Vec3(1, 0, 0);\r\n\r\n\r\n    static readonly UP: Vec3 = new Vec3(0, 1, 0);\r\n\r\n\r\n    static readonly ZERO: Vec3 = new Vec3(0, 0, 0);\r\n}\r\n\r\n\r\n","/* tslint:disable */\r\nexport class Vec4 {\r\n    data: Float32Array;\r\n    constructor();\r\n    constructor(x: number, y: number, z: number, w: number)\r\n    constructor(x: [number, number, number, number])\r\n    constructor(x?, y?, z?, w?) {\r\n        if (x && x.length === 4) {\r\n            this.data = new Float32Array(x);\r\n            return;\r\n        }\r\n\r\n        this.data = new Float32Array(4);\r\n\r\n        this.data[0] = x || 0;\r\n        this.data[1] = y || 0;\r\n        this.data[2] = z || 0;\r\n        this.data[3] = w || 0;\r\n    }\r\n\r\n\r\n\r\n    add(rhs: Vec4): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] += b[0];\r\n        a[1] += b[1];\r\n        a[2] += b[2];\r\n        a[3] += b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    add2(lhs: Vec4, rhs: Vec4): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + b[0];\r\n        r[1] = a[1] + b[1];\r\n        r[2] = a[2] + b[2];\r\n        r[3] = a[3] + b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    clone(): Vec4 {\r\n        return new Vec4().copy(this);\r\n    }\r\n\r\n\r\n    copy(rhs: Vec4): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] = b[0];\r\n        a[1] = b[1];\r\n        a[2] = b[2];\r\n        a[3] = b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    dot(rhs: Vec4): Number {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\r\n    }\r\n\r\n\r\n    equals(rhs: Vec4): boolean {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\r\n    }\r\n\r\n\r\n    length(): number {\r\n        let v = this.data;\r\n\r\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3]);\r\n    }\r\n\r\n\r\n    lengthSq(): number {\r\n        let v = this.data;\r\n\r\n        return v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3];\r\n    }\r\n\r\n\r\n    lerp(lhs: Vec4, rhs: Vec4, alpha: number): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] + alpha * (b[0] - a[0]);\r\n        r[1] = a[1] + alpha * (b[1] - a[1]);\r\n        r[2] = a[2] + alpha * (b[2] - a[2]);\r\n        r[3] = a[3] + alpha * (b[3] - a[3]);\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul(rhs: Vec4): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] *= b[0];\r\n        a[1] *= b[1];\r\n        a[2] *= b[2];\r\n        a[3] *= b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    mul2(lhs: Vec4, rhs: Vec4): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] * b[0];\r\n        r[1] = a[1] * b[1];\r\n        r[2] = a[2] * b[2];\r\n        r[3] = a[3] * b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    normalize(): this {\r\n        let v = this.data;\r\n\r\n        let lengthSq = v[0] * v[0] + v[1] * v[1] + v[2] * v[2] + v[3] * v[3];\r\n        if (lengthSq > 0) {\r\n            let invLength = 1 / Math.sqrt(lengthSq);\r\n            v[0] *= invLength;\r\n            v[1] *= invLength;\r\n            v[2] *= invLength;\r\n            v[3] *= invLength;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    scale(scalar: number): this {\r\n        let v = this.data;\r\n\r\n        v[0] *= scalar;\r\n        v[1] *= scalar;\r\n        v[2] *= scalar;\r\n        v[3] *= scalar;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    set(x: number, y: number, z: number, w: number): this {\r\n        let v = this.data;\r\n\r\n        v[0] = x;\r\n        v[1] = y;\r\n        v[2] = z;\r\n        v[3] = w;\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    sub(rhs: Vec4): this {\r\n        let a = this.data,\r\n            b = rhs.data;\r\n\r\n        a[0] -= b[0];\r\n        a[1] -= b[1];\r\n        a[2] -= b[2];\r\n        a[3] -= b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    sub2(lhs: Vec4, rhs: Vec4): this {\r\n        let a = lhs.data,\r\n            b = rhs.data,\r\n            r = this.data;\r\n\r\n        r[0] = a[0] - b[0];\r\n        r[1] = a[1] - b[1];\r\n        r[2] = a[2] - b[2];\r\n        r[3] = a[3] - b[3];\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    toString(): string {\r\n        return '[' + this.data[0] + ', ' + this.data[1] + ', ' + this.data[2] + ', ' + this.data[3] + ']';\r\n    }\r\n\r\n\r\n    get x(): number {\r\n        return this.data[0];\r\n    }\r\n    set x(value: number) {\r\n        this.data[0] = value;\r\n    }\r\n\r\n\r\n    get y(): number {\r\n        return this.data[1];\r\n    }\r\n    set y(value: number) {\r\n        this.data[1] = value;\r\n    }\r\n\r\n\r\n    get z(): number {\r\n        return this.data[2];\r\n    }\r\n    set z(value: number) {\r\n        this.data[2] = value;\r\n    }\r\n\r\n\r\n    get w(): number {\r\n        return this.data[2];\r\n    }\r\n    set w(value: number) {\r\n        this.data[2] = value;\r\n    }\r\n\r\n\r\n    static readonly ONE: Vec4;\r\n\r\n\r\n    static readonly ZERO: Vec4;\r\n}\r\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\mesh\\mesh.ts\n * Created Date: Tuesday, August 14th 2018, 5:02:26 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 12:48:49 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { VertexBuffer } from '../graphics/vertexBuffer';\nimport { IndexBuffer } from '../graphics/indexBuffer';\nimport { BasicMaterial } from '../material';\nimport { SEMANTIC, BUFFER } from '../conf';\nimport { VertexType, VertexFormat } from '../graphics/vertexFormat';\nimport { Nullable, CreateMeshOption } from '../types';\nimport { RendererPlatform } from '../graphics/renderer';\n\nexport class Mesh {\n    static defaultMaterial = new BasicMaterial();\n    vertexBuffer!: VertexBuffer;\n    indexBuffer!: IndexBuffer;\n    _material = Mesh.defaultMaterial;\n    get material() {\n        return this._material;\n    }\n    set material(x) {\n        this._material = x;\n    }\n    constructor() {\n        // TODO\n    }\n    // tslint:disable-next-line:cyclomatic-complexity\n    static createMesh(renderer: RendererPlatform, opts: CreateMeshOption) {\n        // Check the supplied options and provide defaults for unspecified ones\n        let positions = opts.positions;\n        let normals = opts && opts.normals !== undefined ? opts.normals : null;\n        let indices = opts.indices;\n        let tangents = opts && opts.tangents !== undefined ? opts.tangents : null;\n        let colors = opts && opts.colors !== undefined ? opts.colors : null;\n        let uvs = opts && opts.uvs !== undefined ? opts.uvs : null;\n        let uvs1 = opts && opts.uvs1 !== undefined ? opts.uvs1 : null;\n        let blendIndices = opts && opts.blendIndices !== undefined ? opts.blendIndices : null;\n        let blendWeights = opts && opts.blendWeights !== undefined ? opts.blendWeights : null;\n\n        let vertexDesc: VertexType[] = [\n            { semantic: SEMANTIC.POSITION, size: 3, dataType: Float32Array }\n        ];\n        if (normals !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.NORMAL, size: 3, dataType: Float32Array });\n        }\n        if (tangents !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.TANGENT, size: 4, dataType: Float32Array });\n        }\n        if (colors !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.COLOR, size: 4, dataType: Uint8Array, normalize: false });\n        }\n        if (uvs !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.TEXCOORD0, size: 2, dataType: Float32Array });\n        }\n        if (uvs1 !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.TEXCOORD1, size: 2, dataType: Float32Array });\n        }\n        if (blendIndices !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.BLENDINDICES, size: 2, dataType: Uint8Array });\n        }\n        if (blendWeights !== null) {\n            vertexDesc.push({ semantic: SEMANTIC.BLENDWEIGHT, size: 2, dataType: Float32Array });\n        }\n\n        let vertexFormat = new VertexFormat(vertexDesc);\n\n        // Create the vertex buffer\n        let numVertices = positions.length / 3;\n        let vertexBuffer = new VertexBuffer(renderer, vertexFormat, numVertices);\n        let iterator = vertexBuffer.toIterator();\n\n        for (let i = 0; i < numVertices; i++) {\n            let setter = iterator.value;\n            setter[SEMANTIC.POSITION].set(positions[i * 3], positions[i * 3 + 1], positions[i * 3 + 2]);\n            if (normals !== null) {\n                setter[SEMANTIC.NORMAL].set(normals[i * 3], normals[i * 3 + 1], normals[i * 3 + 2]);\n            }\n            if (tangents !== null) {\n                setter[SEMANTIC.TANGENT].set(tangents[i * 4], tangents[i * 4 + 1], tangents[i * 4 + 2], tangents[i * 4 + 3]);\n            }\n            if (colors !== null) {\n                setter[SEMANTIC.COLOR].set(colors[i * 4], colors[i * 4 + 1], colors[i * 4 + 2], colors[i * 4 + 3]);\n            }\n            if (uvs !== null) {\n                setter[SEMANTIC.TEXCOORD0].set(uvs[i * 2], uvs[i * 2 + 1]);\n            }\n            if (uvs1 !== null) {\n                setter[SEMANTIC.TEXCOORD1].set(uvs1[i * 2], uvs1[i * 2 + 1]);\n            }\n            if (blendIndices !== null) {\n                setter[SEMANTIC.BLENDINDICES].set(blendIndices[i * 2], blendIndices[i * 2 + 1]);\n            }\n            if (blendWeights !== null) {\n                setter[SEMANTIC.BLENDWEIGHT].set(blendWeights[i * 2], blendWeights[i * 2 + 1]);\n            }\n            iterator.next();\n        }\n        vertexBuffer.bind();\n\n        // Create the index buffer\n        let indexBuffer = new IndexBuffer(renderer, Uint16Array, BUFFER.STATIC, indices);\n        // let aabb = new pc.BoundingBox();\n        // aabb.compute(positions);\n\n        let mesh = new Mesh();\n        mesh.vertexBuffer = vertexBuffer;\n        mesh.indexBuffer = indexBuffer;\n        return mesh;\n    }\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\scene\\camera.ts\n * Created Date: Tuesday, August 21st 2018, 6:51:36 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Monday, August 27th 2018, 12:12:01 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { Vec3, Quat, Mat4 } from '../math';\nimport { INode } from './node';\nexport class Camera {\n    worldMatrixInverse = new Mat4().setLookAt(new Vec3(0, 0, 0), new Vec3(0, 0, 1), new Vec3(0, 1, 0)).invert();\n    position: Vec3;\n    // quaternion: Quat = new Quat();\n    // scala: Vec3 = new Vec3();\n    projectionMatrix = new Mat4();\n\n    constructor(\n        fov: number,\t\t\t// 相机视野的角度。一般是以Y轴\n        aspect: number,\t\t\t// 相机的纵横比（宽度除以高度）\n        near: number,\t\t\t// 相机渲染最近的距离，小于这距离的不会进行渲染\n        far: number\t\t\t// 相机渲染最远的距离，大于这距离的不会进行渲染\n    ) {\n        // TODO\n        this.projectionMatrix.setPerspective(fov, aspect, near, far);\n        this.position = this.worldMatrixInverse.getTranslation();\n    }\n    lookAt(target: Vec3) {\n        // TODO\n        this.worldMatrixInverse.setLookAt(this.position, target, new Vec3(0, 1, 0)).invert();\n    }\n    get PVMatrix() {\n        return new Mat4().mul(this.projectionMatrix).mul(this.worldMatrixInverse);\n    }\n\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\scene\\node.ts\n * Created Date: Saturday, August 18th 2018, 10:49:00 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 1:06:23 am\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { IElement } from '../core/element';\nimport { Vec3, Quat, Mat4, Vec2 } from '../math';\nimport { Log } from '../util';\nimport { Scene } from './scene';\nimport { Entity } from '../ecs/entity';\n\nlet scaleCompensatePosTransform = new Mat4();\nlet scaleCompensatePos = new Vec3();\nlet scaleCompensateRot = new Quat();\nlet scaleCompensateRot2 = new Quat();\nlet scaleCompensateScale = new Vec3();\nlet scaleCompensateScaleForParent = new Vec3();\n\nexport class INode extends IElement {\n    // local\n    localPosition = new Vec3(0, 0, 0);\n    localRotation = new Quat(0, 0, 0, 1);\n    localScale = new Vec3(1, 1, 1);\n    localEulerAngles = new Vec3(0, 0, 0);\n    localTransform = new Mat4();\n    parent?: INode;\n    readonly children: INode[] = [];\n    scene!: Scene;\n    // World-space\n    position = new Vec3(0, 0, 0);\n    rotation = new Quat(0, 0, 0, 1);\n    eulerAngles = new Vec3(0, 0, 0);\n    worldTransform = new Mat4();\n    dirtyNormal = true;\n    scaleCompensation = false;\n    private _dirtyLocal = false;\n    private _dirtyWorld = false;\n    private _up = new Vec3();\n\n    constructor() {\n        super();\n    }\n    lookAt(target: INode) {\n        // TODO\n        let targetLocation = target.getPosition();\n        let up = target.up;\n        let mat4 = new Mat4().setLookAt(this.getPosition(), targetLocation, up);\n        let quat = new Quat().setFromMat4(mat4);\n        this.setRotation(quat);\n    }\n    addChild(child: Entity) {\n        this.children.push(child);\n        child.parent = this;\n        child.scene = this.scene;\n        this.scene.layer.push(child);\n    }\n    setPosition(x: Vec3);\n    setPosition(x: number, y: number, z: number);\n    setPosition(x?, y?, z?) {\n        let position = new Vec3();\n        if (x instanceof Vec3) {\n            position.copy(x);\n        } else {\n            position.set(x, y, z);\n        }\n        if (this.parent == null) {\n            this.localPosition = position;\n        } else {\n            let invParentWtm = new Mat4().copy(this.parent.getWorldTransform()).invert();\n            invParentWtm.transformPoint(position, this.localPosition);\n        }\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    /**\n     * 获取世界坐标\n     * @returns\n     * @memberof INode\n     */\n    getPosition() {\n        this.getWorldTransform().getTranslation(this.position);\n        return this.position;\n    }\n    setLocalEulerAngles(x: Vec3);\n    setLocalEulerAngles(x: number, y: number, z: number);\n    setLocalEulerAngles(x?, y?, z?) {\n        if (x instanceof Vec3) {\n            this.localRotation.setFromEulerAngles(x.data[0], x.data[1], x.data[2]);\n        } else {\n            this.localRotation.setFromEulerAngles(x, y, z);\n        }\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    getLocalEulerAngles() {\n        this.localRotation.getEulerAngles(this.localEulerAngles);\n        return this.localEulerAngles;\n    }\n    setEulerAngles(x: Vec3);\n    setEulerAngles(x: number, y: number, z: number);\n    setEulerAngles(x?, y?, z?) {\n        if (x instanceof Vec3) {\n            this.localRotation.setFromEulerAngles(x.data[0], x.data[1], x.data[2]);\n        } else {\n            this.localRotation.setFromEulerAngles(x, y, z);\n        }\n        if (this.parent != null) {\n            let parentRot = this.parent.getRotation();\n            let invParentRot = new Quat().copy(parentRot).invert();\n            this.localRotation.mul2(invParentRot, this.localRotation);\n        }\n\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n\n    }\n    getEulerAngles() {\n        this.getWorldTransform().getEulerAngles(this.eulerAngles);\n        return this.eulerAngles;\n    }\n    setLocalPosition(x: Vec3);\n    setLocalPosition(x: number, y: number, z: number);\n    setLocalPosition(x?, y?, z?) {\n        if (x instanceof Vec3) {\n            this.localPosition.copy(x);\n        } else {\n            this.localPosition.set(x, y, z);\n        }\n        // this.localPosition.copy(vec3);\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    getLocalPosition() {\n        return this.localPosition;\n    }\n\n\n    setRotation(x: Quat);\n    setRotation(x: number, y: number, z: number, w: number);\n    setRotation(x?, y?, z?, w?) {\n        let rotation: Quat;\n        if (x instanceof Quat) {\n            rotation = x;\n        } else {\n            rotation = new Quat(x, y, z, w);\n        }\n        if (this.parent == null) {\n            this.localRotation.copy(rotation);\n        } else {\n            let parentRot = this.parent.getRotation();\n            let invParentRot = new Quat().copy(parentRot).invert();\n            this.localRotation.copy(invParentRot).mul(rotation);\n        }\n\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    getRotation() {\n        this.rotation.setFromMat4(this.getWorldTransform());\n        return this.rotation;\n    }\n    getWorldTransform() {\n        if (!this._dirtyLocal && !this._dirtyWorld) {\n            return this.worldTransform;\n        }\n        if (this.parent) {\n            this.parent.getWorldTransform();\n        }\n        this._sync();\n        return this.worldTransform;\n    }\n    setLocalScale(x: Vec3);\n    setLocalScale(x: number, y: number, z: number);\n    setLocalScale(x?, y?, z?) {\n        if (x instanceof Vec3) {\n            this.localScale.copy(x);\n        } else {\n            this.localScale.set(x, y, z);\n        }\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    getLocalScale() {\n        return this.localScale;\n    }\n    rotate(x: Vec3);\n    rotate(x: number, y: number, z: number);\n    rotate(x?, y?, z?) {\n        let quaternion = new Quat();\n        let invParentRot = new Quat();\n        if (x instanceof Vec3) {\n            quaternion.setFromEulerAngles(x.data[0], x.data[1], x.data[2]);\n        } else {\n            quaternion.setFromEulerAngles(x, y, z);\n        }\n\n        if (this.parent == null) {\n            this.localRotation.mul2(quaternion, this.localRotation);\n        } else {\n            let rot = this.getRotation();\n            let parentRot = this.parent.getRotation();\n\n            invParentRot.copy(parentRot).invert();\n            quaternion.mul2(invParentRot, quaternion);\n            this.localRotation.mul2(quaternion, rot);\n        }\n\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    rotateLocal(x: Vec3);\n    rotateLocal(x: number, y: number, z: number);\n    rotateLocal(x?, y?, z?) {\n        let quaternion = new Quat();\n        if (x instanceof Vec3) {\n            quaternion.setFromEulerAngles(x.data[0], x.data[1], x.data[2]);\n        } else {\n            quaternion.setFromEulerAngles(x, y, z);\n        }\n\n        this.localRotation.mul(quaternion);\n\n        if (!this._dirtyLocal) {\n            this._dirtify(true);\n        }\n    }\n    // 更新此节点及其所有后代的世界转换矩阵。\n    syncHierarchy() {\n        if (!this.enable) {\n            return;\n        }\n        if (this._dirtyLocal || this._dirtyWorld) {\n            this._sync();\n        }\n        for (let i = 0; i < this.children.length; i++) {\n            this.children[i].syncHierarchy();\n        }\n    }\n    private _sync() {\n        if (this._dirtyLocal) {\n            this.localTransform.setTRS(this.localPosition, this.localRotation, this.localScale);\n            this._dirtyLocal = false;\n        }\n        if (this._dirtyWorld) {\n            if (this.parent == null) {\n\n                this.worldTransform.copy(this.localTransform);\n            } else {\n                if (this.scaleCompensation) {\n                    let parentWorldScale!: Vec3;\n                    let parent = this.parent;\n\n                    // Find a parent of the first uncompensated node up in the hierarchy and use its scale * localScale\n                    let scale = this.localScale;\n                    let parentToUseScaleFrom: INode | undefined = parent; // current parent\n                    if (parentToUseScaleFrom) {\n                        while (parentToUseScaleFrom && parentToUseScaleFrom.scaleCompensation) {\n                            parentToUseScaleFrom = parentToUseScaleFrom.parent;\n                        }\n                        // topmost node with scale compensation\n                        if (parentToUseScaleFrom) {\n                            parentToUseScaleFrom = parentToUseScaleFrom.parent;\n                        } // node without scale compensation\n                        if (parentToUseScaleFrom) {\n                            parentWorldScale = parentToUseScaleFrom.worldTransform.getScale();\n                            scaleCompensateScale.mul2(parentWorldScale, this.localScale);\n                            scale = scaleCompensateScale;\n                        }\n                    }\n\n\n                    // Rotation is as usual\n                    scaleCompensateRot2.setFromMat4(parent.worldTransform);\n                    scaleCompensateRot.mul2(scaleCompensateRot2, this.localRotation);\n\n                    // Find matrix to transform position\n                    let tmatrix = parent.worldTransform;\n                    if (parent.scaleCompensation) {\n                        Log.assert(parentWorldScale, 'parentWorldScale 不能是null');\n                        scaleCompensateScaleForParent.mul2(parentWorldScale, parent.getLocalScale());\n                        scaleCompensatePosTransform.setTRS(parent.worldTransform.getTranslation(scaleCompensatePos),\n                            scaleCompensateRot2,\n                            scaleCompensateScaleForParent);\n                        tmatrix = scaleCompensatePosTransform;\n                    }\n                    tmatrix.transformPoint(this.localPosition, scaleCompensatePos);\n\n                    this.worldTransform.setTRS(scaleCompensatePos, scaleCompensateRot, scale);\n\n                } else {\n                    this.worldTransform.mul2(this.parent.worldTransform, this.localTransform);\n                }\n            }\n\n            this._dirtyWorld = false;\n        }\n    }\n\n    get root() {\n        let parent = this.parent;\n        if (!parent) {\n            return this;\n        }\n        while (parent.parent) {\n            parent = parent.parent;\n        }\n        return parent;\n    }\n    /**\n     * 标记自己和儿子“脏” 需要重新获取位置\n     *\n     * @private\n     * @param {boolean} [local]\n     * @returns\n     * @memberof INode\n     */\n    private _dirtify(local?: boolean) {\n        if ((!local || (local && this._dirtyLocal)) && this._dirtyWorld) {\n            return;\n        }\n        if (local) {\n            this._dirtyLocal = true;\n        }\n        if (!this._dirtyWorld) {\n            this._dirtyWorld = true;\n\n            let i = this.children.length;\n            while (i--) {\n                if (this.children[i]._dirtyWorld) {\n                    continue;\n                }\n                this.children[i]._dirtify();\n            }\n        }\n        this.dirtyNormal = true;\n        // this._aabbVer++;\n        // TODO\n    }\n    get up() {\n        return this.getWorldTransform().getY(this._up).normalize();\n    }\n\n}\n","/*\r\n * ProjectName: hypergl\r\n * FilePath: \\src\\scene\\forward-renderer.ts\r\n * Created Date: Saturday, August 18th 2018, 10:15:48 pm\r\n * @author: dadigua\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Saturday, September 1st 2018, 5:20:46 pm\r\n * Modified By: dadigua\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nimport { INode } from './node';\r\nimport { Entity } from '../ecs/entity';\r\nimport { BasicMaterial } from '../material/basicMaterial';\r\nimport { Scene } from './scene';\r\nimport { Mesh } from '../mesh/mesh';\r\nimport { Shader } from '../graphics/shader';\r\nexport function renderScence(scene: Scene) {\r\n    let entitys = scene.layer;\r\n    let camera = scene.activeCamera;\r\n\r\n    let renderer = scene.app.rendererPlatform;\r\n    renderer.initDraw();\r\n    // TODO\r\n    for (let i = 0; i < entitys.length; i++) {\r\n        let entity = entitys[i];\r\n        const mesh = entity.mesh;\r\n        if (mesh == null) { return; }\r\n        const material = mesh.material;\r\n        material.updateShader(renderer);\r\n        let shader = mesh.material.shader as Shader;\r\n        renderer.setShader(shader as Shader);\r\n        shader.setUniformValue('matrix_viewProjection', camera.PVMatrix.data);\r\n        renderer.draw(entity);\r\n    }\r\n}\r\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\scene.ts\n * Created Date: Saturday, August 18th 2018, 4:22:49 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, September 1st 2018, 3:42:35 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { IElement } from '../core/element';\nimport { Application } from '../application';\nimport { INode } from './node';\nimport { renderScence } from './renderScence';\nimport { Camera } from './camera';\nimport { Entity } from '../ecs/entity';\nexport class Scene extends IElement {\n    fog;\n    baseMaterial;\n    readonly lights = [];\n    readonly layer: Entity[] = [];\n    root: Entity = new Entity();\n    readonly cameras: Camera[] = [];\n    private _activeCamera!: Camera;\n    get activeCamera() {\n        return this._activeCamera || this.cameras[0];\n    }\n    set activeCamera(x) {\n        this._activeCamera = x;\n    }\n    constructor(public app: Application) {\n        super();\n        this.root.scene = this;\n    }\n    render() {\n        this.root.syncHierarchy();\n        renderScence(this);\n    }\n    get [Symbol.toStringTag]() {\n        return 'Scene';\n    }\n}","/*\n * ProjectName: hypergl\n * FilePath: \\src\\texture\\texture.ts\n * Created Date: Sunday, September 2nd 2018, 1:30:12 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 9:14:50 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { Base } from '../core/element';\nimport { ADDRESS, FILTER, PIXELFORMAT, FUNC } from '../conf';\nimport { RendererPlatform } from '../graphics/renderer';\nimport { powerOfTwo } from '../math';\nimport { Log } from '../util';\nexport class Texture extends Base {\n    static DEFAULT_IMAGE = null;\n    /*\n        Mipmap\n            在三维世界中,显示一张图的大小与摄象机的位置有关,近的地方,图片实际象素就大一些,远的地方图片实际象\n        素就会小一些,就要进行一些压缩,例如一张64*64的图,在近处,显示出来可能是50*50,在远处可能显示出来是20*20.\n        如果只限于简单的支掉某些像素,将会使缩小后的图片损失很多细节,图片变得很粗糙,因此,图形学有很多复杂的方\n        法来处理缩小图片的问题,使得缩小后的图片依然清晰,然而,这些计算都会耗费一定的时间.\n\n        Mipmap纹理技术是目前解决纹理分辨率与视点距离关系的最有效途径,它会先将图片压缩成很多逐渐缩小的图片,\n        例如一张64*64的图片,会产生64*64,32*32,16*16,8*8,4*4,2*2,1*1的7张图片,当屏幕上需要绘制像素点为20*20 时，\n        程序只是利用 32*32 和 16*16 这两张图片来计算出即将显示为 20*20 大小的一个图片，这比单独利用 32*32 的\n        那张原始片计算出来的图片效果要好得多，速度也更快.\n    */\n    bufferId;\n    _glTarget?: number;\n    _glFormat?: number;\n    _glInternalFormat?: number;\n    _glPixelType?: number;\n    mipmaps = false;\n    _levels: Array<Array<any>> | Array<any>;\n    width = 4;\n    height = 4;\n    depth = 1;\n    addressU = ADDRESS.REPEAT; // 要水平应用于纹理的寻址模式。\n    addressV = ADDRESS.REPEAT; // 垂直应用于纹理的寻址模式\n    addressW = ADDRESS.REPEAT; // 要应用于3D纹理深度的寻址模式（仅限WebGL2）\n\n    minFilter = FILTER.LINEAR_MIPMAP_LINEAR; // 纹理在缩小时的过滤方式\n    magFilter = FILTER.LINEAR; // 纹理在放大时的过滤方式\n    anisotropy = 1; // 各向异性,取值范围0.0-1.0,经常用来通过这个值,产生不同的表面效果,木材和金属都发光,但是发光的特点是有区别的\n    format = PIXELFORMAT.R8_G8_B8_A8;\n    cubemap = false; // 是否为立方体贴图\n    volume = false; // 指定纹理是否为3D体积（仅限WebGL2）。默认为false。\n    flipY = true; // 文理是否需要垂直翻转,默认为false\n    rgbm = false; // 指定纹理是否包含RGBM编码的HDR数据。默认为false。\n    _invalid = false;\n    _gpuSize = 0;\n    pot;\n    glTextureId: undefined;\n    levelsUpdated!: boolean[] | boolean[][];\n    _compareOnRead = false;\n    _compareFunc = FUNC.LESS;\n    _needsUpload!: boolean;\n    _needsMipmapsUpload: boolean = false;\n    _compareModeDirty!: boolean;\n    _anisotropyDirty!: boolean;\n    _addressWDirty!: boolean;\n    _magFilterDirty!: boolean;\n    _mipmapsUploaded!: boolean;\n    _addressVDirty!: boolean;\n    _addressUDirty!: boolean;\n    _minFilterDirty!: boolean;\n    compressed = false;\n    // #ifdef PROFILER\n    profilerHint = 0;\n    // #endif\n    private _lockedLevel = -1;\n\n    // tslint:disable-next-line:cyclomatic-complexity\n    constructor(private renderer: RendererPlatform, options) {\n        super();\n        if (options !== undefined) {\n            this.width = options.width !== undefined ? options.width : this.width;\n            this.height = options.height !== undefined ? options.height : this.height;\n            this.pot = powerOfTwo(this.width) && powerOfTwo(this.height);\n            this.format = options.format !== undefined ? options.format : this.format;\n            this.rgbm = options.rgbm !== undefined ? options.rgbm : this.rgbm;\n            if (options.mipmaps !== undefined) {\n                this.mipmaps = options.mipmaps;\n            } else {\n                this.mipmaps = options.autoMipmap !== undefined ? options.autoMipmap : this.mipmaps;\n            }\n            this.cubemap = options.cubemap !== undefined ? options.cubemap : this.cubemap;\n            // this.fixCubemapSeams = options.fixCubemapSeams !== undefined ? options.fixCubemapSeams : this.fixCubemapSeams;\n            this.minFilter = options.minFilter !== undefined ? options.minFilter : this.minFilter;\n            this.magFilter = options.magFilter !== undefined ? options.magFilter : this.magFilter;\n            this.anisotropy = options.anisotropy !== undefined ? options.anisotropy : this.anisotropy;\n            this.addressU = options.addressU !== undefined ? options.addressU : this.addressU;\n            this.addressV = options.addressV !== undefined ? options.addressV : this.addressV;\n            this._compareOnRead = (options.compareOnRead !== undefined) ? options.compareOnRead : this._compareOnRead;\n            this._compareFunc = (options._compareFunc !== undefined) ? options._compareFunc : this._compareFunc;\n            this.flipY = options.flipY !== undefined ? options.flipY : this.flipY;\n            if (renderer.platform === 'webgl2') {\n                this.depth = options.depth !== undefined ? options.depth : this.depth;\n                this.volume = options.volume !== undefined ? options.volume : this.volume;\n                this.addressW = options.addressW !== undefined ? options.addressW : this.addressW;\n            }\n            // #ifdef PROFILER\n            this.profilerHint = (options.profilerHint !== undefined) ? options.profilerHint : this.profilerHint;\n            // #endif\n        }\n        this.compressed = (this.format === PIXELFORMAT.DXT1 ||\n            this.format === PIXELFORMAT.DXT3 ||\n            this.format === PIXELFORMAT.DXT5 ||\n            this.format >= PIXELFORMAT.ETC1);\n\n\n        this._levels = this.cubemap ? [[null, null, null, null, null, null]] : [null];\n\n        this.dirtyAll();\n    }\n    // tslint:disable-next-line:cyclomatic-complexity\n    setSource(source: HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | Array<HTMLCanvasElement | HTMLImageElement | HTMLVideoElement>) {\n        let i;\n        let invalid = false;\n        // tslint:disable-next-line:one-variable-per-declaration\n        let width, height;\n\n        if (this.cubemap) {\n            Log.assert(Array.isArray(source), '立方体纹理时，source必须是长度为6的数组');\n            if (source[0]) {\n                // rely on first face sizes\n                width = source[0].width || 0;\n                height = source[0].height || 0;\n\n                for (i = 0; i < 6; i++) {\n                    // cubemap becomes invalid if any condition is not satisfied\n                    if (!source[i] || // face is missing\n                        source[i].width !== width || // face is different width\n                        source[i].height !== height || // face is different height\n                        (!(source[i] instanceof HTMLImageElement) && // not image and\n                            !(source[i] instanceof HTMLCanvasElement) && // not canvas and\n                            !(source[i] instanceof HTMLVideoElement))) { // not video\n\n                        invalid = true;\n                        break;\n                    }\n                }\n            } else {\n                // first face is missing\n                invalid = true;\n            }\n\n            if (!invalid) {\n                // mark levels as updated\n                for (i = 0; i < 6; i++) {\n                    if (this._levels[0][i] !== source[i]) {\n                        this.levelsUpdated[0][i] = true;\n                    }\n                }\n            }\n        } else {\n            if (Array.isArray(source)) { return; }\n            // check if source is valid type of element\n            if (!(source instanceof HTMLImageElement) && !(source instanceof HTMLCanvasElement) && !(source instanceof HTMLVideoElement)) {\n                invalid = true;\n            }\n\n            if (!invalid) {\n                // mark level as updated\n                if (source !== this._levels[0]) {\n                    this.levelsUpdated[0] = true;\n                }\n\n                width = source.width;\n                height = source.height;\n            }\n        }\n\n        if (invalid) {\n            // invalid texture\n\n            // default sizes\n            this.width = 4;\n            this.height = 4;\n            this.pot = true;\n\n            // remove levels\n            if (this.cubemap) {\n                for (i = 0; i < 6; i++) {\n                    this._levels[0][i] = null;\n                    this.levelsUpdated[0][i] = true;\n                }\n            } else {\n                this._levels[0] = null;\n                this.levelsUpdated[0] = true;\n            }\n        } else {\n            // valid texture\n            this.width = width;\n            this.height = height;\n            this.pot = powerOfTwo(this.width) && powerOfTwo(this.height);\n\n            this._levels[0] = source;\n        }\n\n        // valid or changed state of validity\n        if (this._invalid !== invalid || !invalid) {\n            this._invalid = invalid;\n\n            // reupload\n            this.upload();\n        }\n    }\n    dirtyAll(): any {\n        this.glTextureId = undefined;\n        this.levelsUpdated = this.cubemap ? [[true, true, true, true, true, true]] : [true];\n\n        this._needsUpload = true;\n        this._needsMipmapsUpload = this.mipmaps;\n        this._mipmapsUploaded = false;\n\n        this._magFilterDirty = true;\n        this._minFilterDirty = true;\n        this._addressUDirty = true;\n        this._addressVDirty = true;\n        this._addressWDirty = this.volume;\n        this._anisotropyDirty = true;\n        this._compareModeDirty = true;\n    }\n    upload() {\n        this._needsUpload = true;\n        this._needsMipmapsUpload = this.mipmaps;\n    }\n}\n\n","/*\n * ProjectName: hypergl\n * FilePath: \\src\\util.ts\n * Created Date: Tuesday, August 14th 2018, 5:01:35 pm\n * @author: dadigua\n * @summary: short description for the file\n * -----\n * Last Modified: Sunday, September 2nd 2018, 12:44:12 pm\n * Modified By: dadigua\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\n\n/**\n * 日志\n */\n// tslint:disable-next-line:no-namespace\nexport namespace Log {\n    export function assert(condition: any, message: string, log?: any) {\n        if (!condition) {\n            // tslint:disable-next-line:no-unused-expression\n            log && console.error(log);\n            throw new Error(message);\n        }\n    }\n    export function warning(condition: any, message: string) {\n        if (condition) {\n            console.warn(message);\n        }\n    }\n    export function warn(condition: any, message: string) {\n        console.warn(message);\n    }\n    export function error(message: string) {\n        throw new Error(message);\n    }\n    export function log(message: any) {\n        console.log(message);\n    }\n    export function debug(message: any) {\n        console.debug(message);\n    }\n}\n\n\nexport function loadImage(url: string) {\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n        const image = new Image();\n        image.onload = () => {\n            resolve(image);\n        };\n        image.src = url;\n    });\n}"],"sourceRoot":""}