{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./demo/index.ts","webpack:///./src/application/application.ts","webpack:///./src/core/color.ts","webpack:///./src/core/element.ts","webpack:///./src/graphics/device.ts","webpack:///./src/graphics/program/basic.ts","webpack:///./src/graphics/program/chunks.ts","webpack:///./src/graphics/program/program-library.ts","webpack:///./src/graphics/program/scope-id.ts","webpack:///./src/graphics/program/scope-space.ts","webpack:///./src/graphics/program/shader-help.ts","webpack:///./src/graphics/program/shader-input.ts","webpack:///./src/graphics/program/shader.ts","webpack:///./src/graphics/program/shaders/alphaTest.frag","webpack:///./src/graphics/program/shaders/base.vert","webpack:///./src/graphics/program/shaders/fogExp.frag","webpack:///./src/graphics/program/shaders/fogExp2.frag","webpack:///./src/graphics/program/shaders/fogLinear.frag","webpack:///./src/graphics/program/shaders/fogNone.frag","webpack:///./src/graphics/program/shaders/packDepth.frag","webpack:///./src/graphics/program/shaders/transform.vert","webpack:///./src/graphics/program/shaders/transformDecl.vert","webpack:///./src/graphics/program/version.ts","webpack:///./src/graphics/program/versioned-object.ts","webpack:///./src/graphics/vertexBuffer.ts","webpack:///./src/graphics/vertexFormat.ts","webpack:///./src/hgl.ts","webpack:///./src/index.ts","webpack:///./src/materials/basic-material.ts","webpack:///./src/materials/material.ts","webpack:///./src/math/math.ts","webpack:///./src/scene/scene.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./demo/index.ts\");\n","/**\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\demo\\index.ts\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\n * Created Date: Friday, July 13th 2018, 8:44:13 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, July 28th 2018, 12:04:19 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport * as HGL from '../src/index';\n// tslint:disable-next-line:no-duplicate-imports\nimport { VertexBuffer, VertexFormat, Application, BasicMaterial } from '../src/index';\n\nconst canvas = document.getElementById('canvas') as HTMLCanvasElement;\n\nconst app = new Application(canvas);\nconst device = app.device;\n\nconst format = new VertexFormat(device, [{\n    semantic: HGL.SEMANTIC.POSITION,\n    length: 3,\n    dataType: HGL.DataType.FLOAT32,\n    normalize: true\n}, {\n    semantic: HGL.SEMANTIC.COLOR,\n    length: 3,\n    dataType: HGL.DataType.FLOAT32,\n    normalize: true\n}]);\n\nconst vertices = new Float32Array([\n    0, 0.5, -0.4, 0.4, 1, 0.4,\n    -0.5, -0.5, -0.4, 0.4, 1, 0.4,\n    0.5, -0.5, -0.4, 1, 0.4, 0.4,\n\n    0.5, 0.4, -0.2, 1, 0.4, 0.4,\n    -0.5, 0.4, -0.2, 1, 1, 0.4,\n    0, -0.6, -0.2, 1, 1, 0.4,\n\n    0, 0.5, 0, 0.4, 0.4, 1,\n    -0.5, -0.5, 0, 0.4, 0.4, 1,\n    0.5, -0.5, 0, 1, 0.4, 0.4\n]);\n\nconst buffer = new VertexBuffer(device, format, 9, HGL.BUFFER_STATIC, vertices.buffer);\n\nlet a = new BasicMaterial();\nconsole.log(a);","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\application\\application.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Thursday, July 12th 2018, 7:51:04 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Sunday, July 15th 2018, 3:49:02 pm\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nimport { Scene } from '../scene/scene';\r\nimport { GraphicsDevice } from '../graphics/device';\r\n\r\nexport class Application {\r\n    sceneInstances: Scene[];\r\n    activeIndex = 0;\r\n    device: GraphicsDevice;\r\n    constructor(canvas: HTMLCanvasElement, option?: any) {\r\n        this.device = new GraphicsDevice(canvas);\r\n    }\r\n    start() {\r\n        let scene = this.sceneInstances[this.activeIndex];\r\n    }\r\n    add(scene: Scene) {\r\n        this.sceneInstances.push(scene);\r\n    }\r\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\core\\color.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Friday, July 27th 2018, 1:06:46 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Friday, July 27th 2018, 1:12:02 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n/* tslint:disable */\nimport { intToBytes32, intToBytes24 } from '../math/math';\nexport class Color {\n    buffer: ArrayBuffer;\n    data: Float32Array;\n    data3: Float32Array;\n    constructor(r?, g?, b?, a?) {\n        this.buffer = new ArrayBuffer(4 * 4);\n\n        this.data = new Float32Array(this.buffer, 0, 4);\n        this.data3 = new Float32Array(this.buffer, 0, 3);\n\n        const length = r && r.length;\n        if (length === 3 || length === 4) {\n            this.data[0] = r[0];\n            this.data[1] = r[1];\n            this.data[2] = r[2];\n            this.data[3] = r[3] !== undefined ? r[3] : 1.0;\n        } else {\n            this.data[0] = r || 0;\n            this.data[1] = g || 0;\n            this.data[2] = b || 0;\n            this.data[3] = a !== undefined ? a : 1.0;\n        }\n    }\n\n\n    clone() {\n        return new Color(this.data[0], this.data[1], this.data[2], this.data[3]);\n    }\n\n\n    copy({ data }) {\n        const a = this.data, b = data;\n\n        a[0] = b[0];\n        a[1] = b[1];\n        a[2] = b[2];\n        a[3] = b[3];\n\n        return this;\n    }\n\n    set(r, g, b, a?) {\n        const c = this.data;\n\n        c[0] = r;\n        c[1] = g;\n        c[2] = b;\n        c[3] = (a === undefined) ? 1 : a;\n\n        return this;\n    }\n\n    fromString(hex) {\n        const i = parseInt(hex.replace('#', '0x'));\n        let bytes;\n        if (hex.length > 7) {\n            bytes = intToBytes32(i);\n        } else {\n            bytes = intToBytes24(i);\n            bytes[3] = 255;\n        }\n\n        this.set(bytes[0] / 255, bytes[1] / 255, bytes[2] / 255, bytes[3] / 255);\n\n        return this;\n    }\n\n    toString(alpha) {\n        let s = `#${((1 << 24) + (parseInt((this.r * 255).toString()) << 16) + (parseInt((this.g * 255).toString()) << 8) + parseInt((this.b * 255).toString())).toString(16).slice(1)}`;\n        if (alpha === true) {\n            const a = parseInt((this.a * 255).toString()).toString(16);\n            if (this.a < 16 / 255) {\n                s += `0${a}`;\n            } else {\n                s += a;\n            }\n\n        }\n\n        return s;\n    }\n\n    get r() {\n        return this.data[0];\n    }\n\n    set r(value) {\n        this.data[0] = value;\n    }\n\n    get g() {\n        return this.data[1];\n    }\n\n    set g(value) {\n        this.data[1] = value;\n    }\n\n    get b() {\n        return this.data[2];\n    }\n\n    set b(value) {\n        this.data[2] = value;\n    }\n\n    get a() {\n        return this.data[3];\n    }\n\n    set a(value) {\n        this.data[3] = value;\n    }\n}","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\core\\component.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Wednesday, July 11th 2018, 9:02:00 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Friday, July 13th 2018, 6:55:36 pm\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nimport { generateUUID } from '../math/math';\r\n\r\n\r\n\r\nlet ComponentIdCount = 0;\r\nexport class IElement {\r\n    id = ComponentIdCount++;\r\n    uuid = generateUUID();\r\n    name = '';\r\n    tag = '';\r\n    parent?: IElement;\r\n    childrne: IElement[];\r\n    enable = true;\r\n}","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\graphics\\device.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Thursday, July 12th 2018, 7:49:57 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Friday, July 27th 2018, 12:06:59 am\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nimport { ScopeSpace } from './program/scope-space';\r\nimport { ProgramLibrary } from './program/program-library';\r\nimport { generators } from './program/shader-help';\r\ntype precision = 'highp' | 'mediump' | 'lowp';\r\ntype version = 'webgl' | 'webgl2';\r\nexport class GraphicsDevice {\r\n    gl: WebGLRenderingContext;\r\n    webgl2: boolean = false;\r\n    buffers = [];\r\n    scope: ScopeSpace;\r\n    precision: precision = 'mediump';\r\n    _shaderStats = {\r\n        vsCompiled: 0,\r\n        fsCompiled: 0,\r\n        linked: 0,\r\n        materialShaders: 0,\r\n        compileTime: 0\r\n    };\r\n    boneLimit = 128;\r\n    supportsBoneTextures: any;\r\n    extBlendMinmax: any;\r\n    extDrawBuffers: any;\r\n    extInstancing: any;\r\n    extStandardDerivatives: any;\r\n    extTextureFloat: any;\r\n    extTextureHalfFloatLinear: any;\r\n    extTextureHalfFloat: any;\r\n    extUintElement: any;\r\n    extRendererInfo: WEBGL_debug_renderer_info;\r\n    extTextureLod: EXT_shader_texture_lod;\r\n    extTextureFloatLinear: OES_texture_float_linear;\r\n    extColorBufferFloat: any;\r\n    extTextureFilterAnisotropic: any;\r\n    extCompressedTextureETC1: any;\r\n    extCompressedTexturePVRTC: any;\r\n    extCompressedTextureS3TC: any;\r\n    programLib: ProgramLibrary;\r\n    constructor(private canvas: HTMLCanvasElement) {\r\n        this.gl = canvas.getContext('webgl');\r\n        this.scope = new ScopeSpace('Device');\r\n        this.programLib = new ProgramLibrary(this);\r\n        // tslint:disable-next-line:forin\r\n        for (const generator in generators) {\r\n            this.programLib.register(generator, generators[generator]);\r\n        }\r\n    }\r\n    initializeExtensions() {\r\n        const gl = this.gl;\r\n\r\n        if (this.webgl2) {\r\n            this.extBlendMinmax = true;\r\n            this.extDrawBuffers = true;\r\n            this.extInstancing = true;\r\n            this.extStandardDerivatives = true;\r\n            this.extTextureFloat = true;\r\n            this.extTextureHalfFloat = true;\r\n            this.extTextureHalfFloatLinear = true;\r\n            this.extTextureFloat = true;\r\n            this.extUintElement = true;\r\n        } else {\r\n            this.extBlendMinmax = gl.getExtension('EXT_blend_minmax');\r\n            this.extDrawBuffers = gl.getExtension('EXT_draw_buffers');\r\n            this.extInstancing = gl.getExtension('ANGLE_instanced_arrays');\r\n            this.extStandardDerivatives = gl.getExtension('OES_standard_derivatives');\r\n            this.extTextureFloat = gl.getExtension('OES_texture_float');\r\n            this.extTextureHalfFloat = gl.getExtension('OES_texture_half_float');\r\n            this.extTextureHalfFloatLinear = gl.getExtension('OES_texture_half_float_linear');\r\n            this.extTextureLod = gl.getExtension('EXT_shader_texture_lod');\r\n            this.extUintElement = gl.getExtension('OES_element_index_uint');\r\n        }\r\n\r\n        this.extRendererInfo = gl.getExtension('WEBGL_debug_renderer_info');\r\n\r\n        this.extTextureFloatLinear = gl.getExtension('OES_texture_float_linear');\r\n\r\n        this.extColorBufferFloat = gl.getExtension('EXT_color_buffer_float');\r\n\r\n        this.extTextureFilterAnisotropic = gl.getExtension('EXT_texture_filter_anisotropic') ||\r\n            gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\r\n\r\n        this.extCompressedTextureETC1 = gl.getExtension('WEBGL_compressed_texture_etc1');\r\n\r\n        this.extCompressedTexturePVRTC = gl.getExtension('WEBGL_compressed_texture_pvrtc') ||\r\n            gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\r\n\r\n        this.extCompressedTextureS3TC = gl.getExtension('WEBGL_compressed_texture_s3tc') ||\r\n            gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\r\n\r\n        // IE 11 can't use mip maps with S3TC\r\n        if (this.extCompressedTextureS3TC && _isIE()) {\r\n            this.extCompressedTextureS3TC = null;\r\n        }\r\n    }\r\n    getBoneLimit() {\r\n        return this.boneLimit;\r\n    }\r\n}\r\n\r\nfunction _isIE() {\r\n    const ua = window.navigator.userAgent;\r\n    const msie = ua.indexOf('MSIE ');\r\n    const trident = navigator.userAgent.match(/Trident.*rv:11\\./);\r\n\r\n    return (msie > 0 || !!trident);\r\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\basic.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Wednesday, July 25th 2018, 11:44:50 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Thursday, July 26th 2018, 12:37:14 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n/* tslint:disable */\nimport { programlib } from './shader-help';\nimport { shaderChunks } from './chunks';\nimport { SEMANTIC, SHADER } from '../../hgl';\nimport { GraphicsDevice } from '../device';\n\nexport interface ShaderGenerate{\n    generateKey?(device: GraphicsDevice, options);\n    createShaderDefinition?(device: GraphicsDevice, options) \n}\n\nexport const basic = {\n    generateKey(device: GraphicsDevice, options) {\n        let key = 'basic';\n        if (options.fog) key += '_fog';\n        if (options.alphaTest) key += '_atst';\n        if (options.vertexColors) key += '_vcol';\n        if (options.diffuseMap) key += '_diff';\n        key += `_${options.pass}`;\n        return key;\n    },\n\n    createShaderDefinition(device: GraphicsDevice, options) {\n        /////////////////////////\n        // GENERATE ATTRIBUTES //\n        /////////////////////////\n        const attributes: any = {\n            vertex_position: SEMANTIC.POSITION\n        };\n        if (options.skin) {\n            attributes.vertex_boneWeights = SEMANTIC.BLENDWEIGHT;\n            attributes.vertex_boneIndices = SEMANTIC.BLENDINDICES;\n        }\n        if (options.vertexColors) {\n            attributes.vertex_color = SEMANTIC.COLOR;\n        }\n        if (options.diffuseMap) {\n            attributes.vertex_texCoord0 = SEMANTIC.TEXCOORD0;\n        }\n\n        const chunks = shaderChunks;\n\n        ////////////////////////////\n        // GENERATE VERTEX SHADER //\n        ////////////////////////////\n        let code = '';\n\n        // VERTEX SHADER DECLARATIONS\n        code += chunks.transformDeclVS;\n\n        if (options.skin) {\n            code += programlib.skinCode(device);\n            code += chunks.transformSkinnedVS;\n        } else {\n            code += chunks.transformVS;\n        }\n\n        if (options.vertexColors) {\n            code += 'attribute vec4 vertex_color;\\n';\n            code += 'varying vec4 vColor;\\n';\n        }\n        if (options.diffuseMap) {\n            code += 'attribute vec2 vertex_texCoord0;\\n';\n            code += 'varying vec2 vUv0;\\n';\n        }\n\n        if (options.pass === SHADER.DEPTH) {\n            code += 'varying float vDepth;\\n';\n            code += '#ifndef VIEWMATRIX\\n';\n            code += '#define VIEWMATRIX\\n';\n            code += 'uniform mat4 matrix_view;\\n';\n            code += '#endif\\n';\n            code += '#ifndef CAMERAPLANES\\n';\n            code += '#define CAMERAPLANES\\n';\n            code += 'uniform vec4 camera_params;\\n\\n';\n            code += '#endif\\n';\n        }\n\n        // VERTEX SHADER BODY\n        code += programlib.begin();\n\n        code += '   gl_Position = getPosition();\\n';\n\n        if (options.pass === SHADER.DEPTH) {\n            code += '    vDepth = -(matrix_view * vec4(getWorldPosition(),1.0)).z * camera_params.x;\\n';\n        }\n\n        if (options.vertexColors) {\n            code += '    vColor = vertex_color;\\n';\n        }\n        if (options.diffuseMap) {\n            code += '    vUv0 = vertex_texCoord0;\\n';\n        }\n\n        code += programlib.end();\n\n        const vshader = code;\n\n        //////////////////////////////\n        // GENERATE FRAGMENT SHADER //\n        //////////////////////////////\n        code = programlib.precisionCode(device);\n\n        // FRAGMENT SHADER DECLARATIONS\n        if (options.vertexColors) {\n            code += 'varying vec4 vColor;\\n';\n        } else {\n            code += 'uniform vec4 uColor;\\n';\n        }\n        if (options.diffuseMap) {\n            code += 'varying vec2 vUv0;\\n';\n            code += 'uniform sampler2D texture_diffuseMap;\\n';\n        }\n        if (options.fog) {\n            code += programlib.fogCode(options.fog);\n        }\n        if (options.alphatest) {\n            code += chunks.alphaTestPS;\n        }\n\n        if (options.pass === SHADER.DEPTH) {\n            // ##### SCREEN DEPTH PASS #####\n            code += 'varying float vDepth;\\n';\n            code += chunks.packDepthPS;\n        }\n\n        // FRAGMENT SHADER BODY\n        code += programlib.begin();\n\n        // Read the map texels that the shader needs\n        if (options.vertexColors) {\n            code += '    gl_FragColor = vColor;\\n';\n        } else {\n            code += '    gl_FragColor = uColor;\\n';\n        }\n        if (options.diffuseMap) {\n            code += '    gl_FragColor *= texture2D(texture_diffuseMap, vUv0);\\n';\n        }\n\n        if (options.alphatest) {\n            code += '   alphaTest(gl_FragColor.a);\\n';\n        }\n\n        if (options.pass === SHADER.PICK) {\n            // ##### PICK PASS #####\n        } else if (options.pass === SHADER.DEPTH) {\n            // ##### SCREEN DEPTH PASS #####\n            code += '    gl_FragColor = packFloat(vDepth);\\n';\n        } else {\n            // ##### FORWARD PASS #####\n            if (options.fog) {\n                code += '   glFragColor.rgb = addFog(gl_FragColor.rgb);\\n';\n            }\n        }\n\n        code += programlib.end();\n\n        const fshader = code;\n\n        return {\n            attributes,\n            vshader,\n            fshader\n        };\n    }\n};","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\shaders\\chunks.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Sunday, July 15th 2018, 6:20:58 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Friday, July 27th 2018, 11:51:59 pm\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n// module shaderChunks\nimport * as  HGl from '../../hgl';\nimport { Shader } from './shader';\nimport { programlib } from './shader-help';\nimport * as base from './shaders/base.vert';\nimport * as fogLinearPS from './shaders/fogLinear.frag';\nimport * as fogExpPS from './shaders/fogExp.frag';\nimport * as fogExp2PS from './shaders/fogExp2.frag';\nimport * as fogNonePS from './shaders/fogNone.frag';\nimport * as transformDeclVS from './shaders/transformDecl.vert';\nimport * as transformVS from './shaders/transform.vert';\n// import * as transformVS from './shaders/transform.vert';\nimport * as alphaTestPS from './shaders/alphaTest.frag';\nimport * as packDepthPS from './shaders/packDepth.frag';\n\n\nconst attrib2Semantic = {\n    vertex_position: HGl.SEMANTIC.POSITION,\n    vertex_normal: HGl.SEMANTIC.NORMAL,\n    vertex_tangent: HGl.SEMANTIC.TANGENT,\n    vertex_texCoord0: HGl.SEMANTIC.TEXCOORD0,\n    vertex_texCoord1: HGl.SEMANTIC.TEXCOORD1,\n    vertex_texCoord2: HGl.SEMANTIC.TEXCOORD2,\n    vertex_texCoord3: HGl.SEMANTIC.TEXCOORD3,\n    vertex_texCoord4: HGl.SEMANTIC.TEXCOORD4,\n    vertex_texCoord5: HGl.SEMANTIC.TEXCOORD5,\n    vertex_texCoord6: HGl.SEMANTIC.TEXCOORD6,\n    vertex_texCoord7: HGl.SEMANTIC.TEXCOORD7,\n    vertex_color: HGl.SEMANTIC.COLOR,\n    vertex_boneIndices: HGl.SEMANTIC.BLENDINDICES,\n    vertex_boneWeights: HGl.SEMANTIC.BLENDWEIGHT\n};\n\n\nconst transformSkinnedVS = `#define SKIN\\n${transformVS}`;\nexport const shaderChunks = {\n    base,\n    fogLinearPS,\n    fogExpPS,\n    fogExp2PS,\n    fogNonePS,\n    transformDeclVS,\n    transformVS,\n    transformSkinnedVS,\n    alphaTestPS,\n    packDepthPS\n};\n\nexport function collectAttribs(vsCode) {\n    let attribs = {};\n    let attrs = 0;\n\n    let found = vsCode.indexOf('attribute');\n    while (found >= 0) {\n        if (found > 0 && vsCode[found - 1] === '/') break;\n        let endOfLine = vsCode.indexOf(';', found);\n        let startOfAttribName = vsCode.lastIndexOf(' ', endOfLine);\n        let attribName = vsCode.substr(startOfAttribName + 1, endOfLine - (startOfAttribName + 1));\n\n        let semantic = attrib2Semantic[attribName];\n        if (semantic !== undefined) {\n            attribs[attribName] = semantic;\n        } else {\n            attribs[attribName] = 'ATTR' + attrs;\n            attrs++;\n        }\n\n        found = vsCode.indexOf('attribute', found + 1);\n    }\n    return attribs;\n}\n\n\nexport function createShader(device, vsName, psName, useTransformFeedback) {\n    let vsCode = shaderChunks[vsName];\n    let psCode = programlib.precisionCode(device) + '\\n' + shaderChunks[psName];\n    let attribs = collectAttribs(vsCode);\n\n    if (device.webgl2) {\n        vsCode = programlib.versionCode(device) + this.gles3VS + vsCode;\n        psCode = programlib.versionCode(device) + this.gles3PS + psCode;\n    }\n\n    return new Shader(device, {\n        attributes: attribs,\n        vshader: vsCode,\n        fshader: psCode,\n        useTransformFeedback\n    });\n}\n\nexport function createShaderFromCode(device, vsCode, psCode, uName, useTransformFeedback) {\n    let shaderCache = device.programLib._cache;\n    let cached = shaderCache[uName];\n    if (cached !== undefined) return cached;\n\n    // tslint:disable-next-line:no-parameter-reassignment\n    psCode = programlib.precisionCode(device) + '\\n' + (psCode || programlib.dummyFragmentCode());\n    let attribs = collectAttribs(vsCode);\n\n    if (device.webgl2) {\n        // tslint:disable-next-line:no-parameter-reassignment\n        vsCode = programlib.versionCode(device) + this.gles3VS + vsCode;\n        // tslint:disable-next-line:no-parameter-reassignment\n        psCode = programlib.versionCode(device) + this.gles3PS + psCode;\n    }\n\n    shaderCache[uName] = new Shader(device, {\n        attributes: attribs,\n        vshader: vsCode,\n        fshader: psCode,\n        useTransformFeedback\n    });\n    return shaderCache[uName];\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\program-library.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Thursday, July 26th 2018, 12:28:45 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Friday, July 27th 2018, 12:05:58 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\nimport { Shader } from './shader';\nimport { ShaderGenerate } from './basic';\nimport { GraphicsDevice } from '../device';\nimport { generators } from './shader-help';\n\n\nexport class ProgramLibrary {\n    _cache = {};\n    _generators: {\n        [x: string]: ShaderGenerate\n    } = {};\n    _isClearingCache = false;\n    private _device: GraphicsDevice;\n    constructor(device: GraphicsDevice) {\n        this._device = device;\n    }\n\n    register(name: string, generator: ShaderGenerate) {\n        if (!this.isRegistered(name)) {\n            this._generators[name] = generator;\n        }\n    }\n\n    unregister(name: string) {\n        if (this.isRegistered(name)) {\n            delete this._generators[name];\n        }\n    }\n\n    isRegistered(name: string) {\n        const generator = this._generators[name];\n        return (generator !== undefined);\n    }\n\n    getProgram(name: string, options): Shader {\n        const generator = this._generators[name];\n        if (generator === undefined) {\n            console.error(`No program library functions registered for: ${name}`);\n            return null;\n        }\n        const gd = this._device;\n        const key = generator.generateKey(gd, options); // TODO: gd is never used in generateKey(), remove?\n        let shader = this._cache[key];\n        if (!shader) {\n            const shaderDefinition = generator.createShaderDefinition(gd, options);\n            shader = this._cache[key] = new Shader(gd, shaderDefinition);\n        }\n        return shader;\n    }\n\n    clearCache() {\n        const cache = this._cache;\n        this._isClearingCache = true;\n        for (const key in cache) {\n            if (cache.hasOwnProperty(key)) {\n                cache[key].destroy();\n            }\n        }\n        this._cache = {};\n        this._isClearingCache = false;\n    }\n\n    removeFromCache(shader: Shader) {\n        if (this._isClearingCache) return; // don't delete by one when clearing whole cache\n        const cache = this._cache;\n        for (const key in cache) {\n            if (cache.hasOwnProperty(key)) {\n                if (cache[key] === shader) {\n                    delete cache[key];\n                    break;\n                }\n            }\n        }\n    }\n}","\n\n/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\scope-id.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Wednesday, July 25th 2018, 12:50:16 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, July 25th 2018, 12:51:34 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { VersionedObject } from './versioned-object';\nexport class ScopeId {\n    name: any;\n    value: any;\n    versionObject: any;\n    constructor(name) {\n        // Set the name\n        this.name = name;\n\n        // Set the default value\n        this.value = null;\n\n        // Create the version object\n        this.versionObject = new VersionedObject();\n    }\n\n    setValue(value) {\n        // Set the new value\n        this.value = value;\n\n        // Increment the revision\n        this.versionObject.increment();\n    }\n\n    getValue(value) {\n        return this.value;\n    }\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\scope-space.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Wednesday, July 25th 2018, 12:48:54 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, July 25th 2018, 12:50:42 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { ScopeId } from './scope-id';\nexport class ScopeSpace {\n    name: any;\n    variables: {};\n    namespaces: {};\n    constructor(name) {\n        // Store the name\n        this.name = name;\n\n        // Create the empty tables\n        this.variables = {};\n        this.namespaces = {};\n    }\n\n    resolve(name) {\n        // Check if the ScopeId already exists\n        if (this.variables.hasOwnProperty(name) === false) {\n\n            // Create and add to the table\n            this.variables[name] = new ScopeId(name);\n        }\n\n        // Now return the ScopeId instance\n        return this.variables[name];\n    }\n\n    getSubSpace(name) {\n        // Check if the nested namespace already exists\n        if (this.namespaces.hasOwnProperty(name) === false) {\n\n            // Create and add to the table\n            this.namespaces[name] = new ScopeSpace(name);\n\n            console.log(`Added ScopeSpace: ${name}`);\n        }\n\n        // Now return the ScopeNamespace instance\n        return this.namespaces[name];\n    }\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\shader-help.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Sunday, July 15th 2018, 4:05:06 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Friday, July 27th 2018, 12:05:47 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\nimport { shaderChunks } from './chunks';\nimport { GraphicsDevice } from '../device';\nimport { basic } from './basic';\nexport const programlib = {\n    fogCode(value) {\n        if (value === 'linear') {\n            return shaderChunks.fogLinearPS;\n        } else if (value === 'exp') {\n            return shaderChunks.fogExpPS;\n        } else if (value === 'exp2') {\n            return shaderChunks.fogExp2PS;\n        } else {\n            return shaderChunks.fogNonePS;\n        }\n    },\n    skinCode(device: GraphicsDevice, chunks?) {\n        // tslint:disable-next-line:no-parameter-reassignment\n        if (!chunks) chunks = shaderChunks;\n        if (device.supportsBoneTextures) {\n            return chunks.skinTexVS;\n        } else {\n            return `#define BONE_LIMIT ${device.getBoneLimit()}\\n${chunks.skinConstVS}`;\n        }\n    },\n    precisionCode(device: GraphicsDevice) {\n        let pcode = 'precision ' + device.precision + ' float;\\n';\n        if (device.webgl2) {\n            pcode += '#ifdef GL2\\nprecision ' + device.precision + ' sampler2DShadow;\\n#endif\\n';\n        }\n        return pcode;\n    },\n\n    versionCode(device: GraphicsDevice) {\n        return device.webgl2 ? '#version 300 es\\n' : '';\n    },\n    dummyFragmentCode() {\n        return 'void main(void) {gl_FragColor = vec4(0.0);}';\n    },\n    begin() {\n        return 'void main(void)\\n{\\n';\n    },\n    end() {\n        return '}\\n';\n    }\n};\n\nexport const generators = {\n    basic\n};\n\n","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\shader-input.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Sunday, July 22nd 2018, 8:17:19 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, July 25th 2018, 12:46:23 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { GraphicsDevice } from '../device';\nimport { UNIFORMTYPE } from '../../hgl';\nimport { Version } from './version';\n\nexport class ShaderInput {\n    scopeId;\n    version: Version;\n    dataType: UNIFORMTYPE;\n    value = [null, null, null, null];\n    // Array to hold texture unit ids\n    array = [];\n    constructor(graphicsDevice: GraphicsDevice, name: number, type: UNIFORMTYPE, public locationId: number) {\n        this.dataType = type;\n        this.version = new Version();\n        this.scopeId = graphicsDevice.scope.resolve(name);\n        // if (type === UNIFORMTYPE.FLOAT) {\n        //     // tslint:disable-next-line:no-parameter-reassignment\n        //     if (name.substr(name.length - 3) === '[0]') { type = UNIFORMTYPE.FLOATARRAY; }\n        // }\n    }\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\shader.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Sunday, July 15th 2018, 6:08:20 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n<<<<<<< HEAD\n * Last Modified: Friday, July 27th 2018, 1:18:19 am\n=======\n * Last Modified: Wednesday, July 25th 2018, 12:24:42 am\n>>>>>>> a59a1a480c976e9f2165e74cf2fca136d87fc14f\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { GraphicsDevice } from '../device';\nimport { SHADERTAG_MATERIAL, UNIFORMTYPE } from '../../hgl';\nimport { ShaderInput } from './shader-input';\n\nfunction addLineNumbers(src) {\n    let chunks = src.split('\\n');\n\n    // Chrome reports shader errors on lines indexed from 1\n    for (let i = 0, len = chunks.length; i < len; i++) {\n        chunks[i] = (i + 1) + ':\\t' + chunks[i];\n    }\n\n    return chunks.join('\\n');\n}\n\nfunction createShader(gl: WebGLRenderingContext, type, src): WebGLShader {\n    let shader = gl.createShader(type);\n\n    gl.shaderSource(shader, src);\n    gl.compileShader(shader);\n\n    return shader;\n}\n\nfunction createProgram(gl: WebGLRenderingContext, vertexShader, fragmentShader): WebGLProgram {\n    let program = gl.createProgram();\n\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n\n    return program;\n}\n\ninterface Definition {\n    attributes: {\n        [key: string]: number\n    };\n    vshader: string;\n    fshader: string;\n    tag?;\n    useTransformFeedback?: boolean;\n}\nexport class Shader {\n    vshader: WebGLShader;\n    fshader: WebGLShader;\n    program: WebGLProgram;\n    attributes;\n    uniforms;\n    samplers;\n    constructor(private device: GraphicsDevice, private definition: Definition) {\n\n    }\n    compile() {\n        let gl = this.device.gl;\n        let startTime = new Date().getTime();\n\n        this.vshader = createShader(gl, gl.VERTEX_SHADER, this.definition.vshader);\n        this.fshader = createShader(gl, gl.FRAGMENT_SHADER, this.definition.fshader);\n        this.program = createProgram(gl, this.vshader, this.fshader);\n        this.device._shaderStats.vsCompiled++;\n        this.device._shaderStats.fsCompiled++;\n        this.device._shaderStats.linked++;\n        if (this.definition.tag === SHADERTAG_MATERIAL) {\n            this.device._shaderStats.materialShaders++;\n        }\n        this.device._shaderStats.compileTime += new Date().getTime() - startTime;\n    }\n    link() {\n        let gl = this.device.gl;\n        let retValue = true;\n\n        let startTime = new Date().getTime();\n\n        if (this.device.webgl2 && this.definition.useTransformFeedback) {\n            // Collect all \"out_\" attributes and use them for output\n            let attrs = this.definition.attributes;\n            let outNames = [];\n            for (let attr in attrs) {\n                if (attrs.hasOwnProperty(attr)) {\n                    outNames.push('out_' + attr);\n                }\n            }\n            // gl.transformFeedbackVaryings(this.program, outNames, gl.INTERLEAVED_ATTRIBS);\n        }\n\n        gl.linkProgram(this.program);\n\n        // check for errors\n        // vshader\n        if (!gl.getShaderParameter(this.vshader, gl.COMPILE_STATUS)) {\n            console.error('Failed to compile vertex shader:\\n\\n' + addLineNumbers(this.definition.vshader) + '\\n\\n' + gl.getShaderInfoLog(this.vshader));\n            retValue = false;\n        }\n        // fshader\n        if (!gl.getShaderParameter(this.fshader, gl.COMPILE_STATUS)) {\n            console.error('Failed to compile fragment shader:\\n\\n' + addLineNumbers(this.definition.fshader) + '\\n\\n' + gl.getShaderInfoLog(this.fshader));\n            retValue = false;\n        }\n        // program\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            console.error('Failed to link shader program. Error: ' + gl.getProgramInfoLog(this.program));\n            retValue = false;\n        }\n\n        gl.deleteShader(this.vshader);\n        gl.deleteShader(this.fshader);\n\n        this.attributes = [];\n        this.uniforms = [];\n        this.samplers = [];\n\n        let i = 0;\n        // tslint:disable-next-line:one-variable-per-declaration\n        let info, location;\n\n        let _typeToPc = {};\n        _typeToPc[gl.BOOL] = UNIFORMTYPE.BOOL;\n        _typeToPc[gl.INT] = UNIFORMTYPE.INT;\n        _typeToPc[gl.FLOAT] = UNIFORMTYPE.FLOAT;\n        _typeToPc[gl.FLOAT_VEC2] = UNIFORMTYPE.FLOAT_VEC2;\n        _typeToPc[gl.FLOAT_VEC3] = UNIFORMTYPE.FLOAT_VEC3;\n        _typeToPc[gl.FLOAT_VEC4] = UNIFORMTYPE.FLOAT_VEC4;\n        _typeToPc[gl.INT_VEC2] = UNIFORMTYPE.INT_VEC2;\n        _typeToPc[gl.INT_VEC3] = UNIFORMTYPE.INT_VEC3;\n        _typeToPc[gl.INT_VEC4] = UNIFORMTYPE.INT_VEC4;\n        _typeToPc[gl.BOOL_VEC2] = UNIFORMTYPE.BOOL_VEC2;\n        _typeToPc[gl.BOOL_VEC3] = UNIFORMTYPE.BOOL_VEC3;\n        _typeToPc[gl.BOOL_VEC4] = UNIFORMTYPE.BOOL_VEC4;\n        _typeToPc[gl.FLOAT_MAT2] = UNIFORMTYPE.FLOAT_MAT2;\n        _typeToPc[gl.FLOAT_MAT3] = UNIFORMTYPE.FLOAT_MAT3;\n        _typeToPc[gl.FLOAT_MAT4] = UNIFORMTYPE.FLOAT_MAT4;\n        _typeToPc[gl.SAMPLER_2D] = UNIFORMTYPE.SAMPLER_2D;\n        _typeToPc[gl.SAMPLER_CUBE] = UNIFORMTYPE.SAMPLER_CUBE;\n        // if (this.device.webgl2) {\n        //     _typeToPc[gl.SAMPLER_2D_SHADOW]   = UNIFORMTYPE.TEXTURE2D_SHADOW;\n        //     _typeToPc[gl.SAMPLER_CUBE_SHADOW] = UNIFORMTYPE.TEXTURECUBE_SHADOW;\n        //     _typeToPc[gl.SAMPLER_3D]          = UNIFORMTYPE.TEXTURE3D;\n        // }\n\n        let numAttributes = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        while (i < numAttributes) {\n            info = gl.getActiveAttrib(this.program, i++);\n            location = gl.getAttribLocation(this.program, info.name);\n\n            // Check attributes are correctly linked up\n            if (this.definition.attributes[info.name] === undefined) {\n                console.error('Vertex shader attribute \"' + info.name + '\" is not mapped to a semantic in shader definition.');\n            }\n\n            this.attributes.push(new ShaderInput(this.device, this.definition.attributes[info.name], _typeToPc[info.type], location));\n        }\n\n        // Query the program for each shader state (GLSL 'uniform')\n        i = 0;\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        while (i < numUniforms) {\n            info = gl.getActiveUniform(this.program, i++);\n            location = gl.getUniformLocation(this.program, info.name);\n            //     if (info.type === gl.SAMPLER_2D || info.type === gl.SAMPLER_CUBE ||\n            //         (this.device.webgl2 && (info.type === gl.SAMPLER_2D_SHADOW || info.type === gl.SAMPLER_CUBE_SHADOW || info.type === gl.SAMPLER_3D))\n            //     ) {\n            //         this.samplers.push(new pc.ShaderInput(this.device, info.name, _typeToPc[info.type], location));\n            //     } else {\n            //         this.uniforms.push(new pc.ShaderInput(this.device, info.name, _typeToPc[info.type], location));\n            //     }\n            // }\n\n\n            // this.ready = true;\n\n            // #ifdef PROFILER\n            let endTime = new Date().getTime();\n\n            this.device._shaderStats.compileTime += endTime - startTime;\n            // #endif\n\n            return retValue;\n        }\n    }\n}","module.exports = \"uniform float alpha_ref;\\r\\nvoid alphaTest(float a) {\\r\\n    if (a < alpha_ref) discard;\\r\\n}\\r\\n\\r\\n\"","module.exports = \"\\r\\nattribute vec3 vertex_position;\\r\\nattribute vec3 vertex_normal;\\r\\nattribute vec4 vertex_tangent;\\r\\nattribute vec2 vertex_texCoord0;\\r\\nattribute vec2 vertex_texCoord1;\\r\\nattribute vec4 vertex_color;\\r\\n\\r\\nuniform mat4 matrix_viewProjection;\\r\\nuniform mat4 matrix_model;\\r\\nuniform mat3 matrix_normal;\\r\\n\\r\\nvec3 dPositionW;\\r\\nmat4 dModelMatrix;\\r\\nmat3 dNormalMatrix;\\r\\nvec3 dLightPosW;\\r\\nvec3 dLightDirNormW;\\r\\nvec3 dNormalW;\\r\\n\\r\\n\"","module.exports = \"uniform vec3 fog_color;\\r\\nuniform float fog_density;\\r\\nvec3 addFog(vec3 color) {\\r\\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\\r\\n    float fogFactor = exp(-depth * fog_density);\\r\\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\\r\\n    return mix(fog_color, color, fogFactor);\\r\\n}\\r\\n\"","module.exports = \"uniform vec3 fog_color;\\r\\nuniform float fog_density;\\r\\nvec3 addFog(vec3 color) {\\r\\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\\r\\n    float fogFactor = exp(-depth * depth * fog_density * fog_density);\\r\\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\\r\\n    return mix(fog_color, color, fogFactor);\\r\\n}\\r\\n\"","module.exports = \"uniform vec3 fog_color;\\r\\nuniform float fog_start;\\r\\nuniform float fog_end;\\r\\nvec3 addFog(vec3 color) {\\r\\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\\r\\n    float fogFactor = (fog_end - depth) / (fog_end - fog_start);\\r\\n    fogFactor = clamp(fogFactor, 0.0, 1.0);\\r\\n    fogFactor = gammaCorrectInput(fogFactor);\\r\\n    return mix(fog_color, color, fogFactor);\\r\\n}\\r\\n\"","module.exports = \"vec3 addFog(vec3 color) {\\r\\n    return color;\\r\\n}\\r\\n\\r\\n\\r\\n\"","module.exports = \"// Packing a float in GLSL with multiplication and mod\\r\\n// http://blog.gradientstudios.com/2012/08/23/shadow-map-improvement\\r\\nvec4 packFloat(float depth) {\\r\\n    const vec4 bit_shift = vec4(256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0);\\r\\n    const vec4 bit_mask  = vec4(0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0);\\r\\n\\r\\n    // combination of mod and multiplication and division works better\\r\\n    vec4 res = mod(depth * bit_shift * vec4(255), vec4(256) ) / vec4(255);\\r\\n    res -= res.xxyz * bit_mask;\\r\\n    return res;\\r\\n}\\r\\n\\r\\n\\r\\n\"","module.exports = \"#ifdef PIXELSNAP\\r\\n    uniform vec4 uScreenSize;\\r\\n#endif\\r\\n\\r\\n#ifdef NINESLICED\\r\\n    #ifndef NINESLICE\\r\\n    #define NINESLICE\\r\\n    uniform vec4 innerOffset;\\r\\n    uniform vec2 outerScale;\\r\\n    uniform vec4 atlasRect;\\r\\n    varying vec2 vTiledUv;\\r\\n    #endif\\r\\n#endif\\r\\n\\r\\nmat4 getModelMatrix() {\\r\\n    #ifdef DYNAMICBATCH\\r\\n        return getBoneMatrix(vertex_boneIndices);\\r\\n    #elif defined(SKIN)\\r\\n        return matrix_model * (getBoneMatrix(vertex_boneIndices.x) * vertex_boneWeights.x +\\r\\n               getBoneMatrix(vertex_boneIndices.y) * vertex_boneWeights.y +\\r\\n               getBoneMatrix(vertex_boneIndices.z) * vertex_boneWeights.z +\\r\\n               getBoneMatrix(vertex_boneIndices.w) * vertex_boneWeights.w);\\r\\n    #elif defined(INSTANCING)\\r\\n        return mat4(instance_line1, instance_line2, instance_line3, instance_line4);\\r\\n    #else\\r\\n        return matrix_model;\\r\\n    #endif\\r\\n}\\r\\n\\r\\nvec4 getPosition() {\\r\\n    dModelMatrix = getModelMatrix();\\r\\n    vec3 localPos = vertex_position;\\r\\n\\r\\n    #ifdef NINESLICED\\r\\n        // outer and inner vertices are at the same position, scale both\\r\\n        localPos.xz *= outerScale;\\r\\n\\r\\n        // offset inner vertices inside\\r\\n        // (original vertices must be in [-1;1] range)\\r\\n        vec2 positiveUnitOffset = clamp(vertex_position.xz, vec2(0.0), vec2(1.0));\\r\\n        vec2 negativeUnitOffset = clamp(-vertex_position.xz, vec2(0.0), vec2(1.0));\\r\\n        localPos.xz += (-positiveUnitOffset * innerOffset.xy + negativeUnitOffset * innerOffset.zw) * vertex_texCoord0.xy;\\r\\n\\r\\n        vTiledUv = (localPos.xz - outerScale + innerOffset.xy) * -0.5 + 1.0; // uv = local pos - inner corner\\r\\n\\r\\n        localPos.xz *= -0.5; // move from -1;1 to -0.5;0.5\\r\\n        localPos = localPos.xzy;\\r\\n    #endif\\r\\n\\r\\n    vec4 posW = dModelMatrix * vec4(localPos, 1.0);\\r\\n    #ifdef SCREENSPACE\\r\\n        posW.zw = vec2(0.0, 1.0);\\r\\n    #endif\\r\\n    dPositionW = posW.xyz;\\r\\n\\r\\n    vec4 screenPos;\\r\\n    #ifdef UV1LAYOUT\\r\\n        screenPos = vec4(vertex_texCoord1.xy * 2.0 - 1.0, 0.5, 1);\\r\\n    #else\\r\\n        #ifdef SCREENSPACE\\r\\n            screenPos = posW;\\r\\n        #else\\r\\n            screenPos = matrix_viewProjection * posW;\\r\\n        #endif\\r\\n\\r\\n        #ifdef PIXELSNAP\\r\\n            // snap vertex to a pixel boundary\\r\\n            screenPos.xy = (screenPos.xy * 0.5) + 0.5;\\r\\n            screenPos.xy *= uScreenSize.xy;\\r\\n            screenPos.xy = floor(screenPos.xy);\\r\\n            screenPos.xy *= uScreenSize.zw;\\r\\n            screenPos.xy = (screenPos.xy * 2.0) - 1.0;\\r\\n        #endif\\r\\n    #endif\\r\\n\\r\\n    return screenPos;\\r\\n}\\r\\n\\r\\nvec3 getWorldPosition() {\\r\\n    return dPositionW;\\r\\n}\\r\\n\"","module.exports = \"attribute vec3 vertex_position;\\r\\nuniform mat4 matrix_model;\\r\\nuniform mat4 matrix_viewProjection;\\r\\n\\r\\nvec3 dPositionW;\\r\\nmat4 dModelMatrix;\\r\\n\\r\\n\"","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\version.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Wednesday, July 25th 2018, 12:39:30 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, July 25th 2018, 12:41:02 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nexport class Version {\n    globalId = 0;\n    revision = 0;\n    equals(other: Version) {\n        return this.globalId === other.globalId &&\n            this.revision === other.revision;\n    }\n\n    notequals(other: Version) {\n        return this.globalId !== other.globalId ||\n            this.revision !== other.revision;\n    }\n\n    copy(other: Version) {\n        this.globalId = other.globalId;\n        this.revision = other.revision;\n    }\n\n    reset() {\n        this.globalId = 0;\n        this.revision = 0;\n    }\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\graphics\\program\\versioned-object.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Wednesday, July 25th 2018, 12:51:01 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Wednesday, July 25th 2018, 12:51:18 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\n\nimport { Version } from './version';\nlet idCounter = 0;\n\nexport class VersionedObject {\n    version: Version;\n    constructor() {\n        // Increment the global object ID counter\n        idCounter++;\n\n        // Create a version for this object\n        this.version = new Version();\n\n        // Set the unique object ID\n        this.version.globalId = idCounter;\n    }\n\n    increment() {\n        // Increment the revision number\n        this.version.revision++;\n    }\n}","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\graphics\\vertexBuffer.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Thursday, July 12th 2018, 8:02:55 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Thursday, July 26th 2018, 12:40:00 am\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nimport { GraphicsDevice } from './device';\r\nimport { VertexFormat } from './vertexFormat';\r\nimport * as HGL from '../hgl';\r\n\r\n\r\nexport class VertexBuffer {\r\n    bufferId: WebGLBuffer;\r\n    storage: ArrayBuffer;\r\n    numBytes: number;\r\n    constructor(private device: GraphicsDevice, private format: VertexFormat, private numVertices: number, private usage: number = HGL.BUFFER_STATIC, private initialData?: ArrayBuffer) {\r\n        this.numBytes = format.size * numVertices;\r\n        const gl = device.gl;\r\n        if (initialData) {\r\n            this.setData(initialData);\r\n        } else {\r\n            this.storage = new ArrayBuffer(this.numBytes);\r\n        }\r\n        this.device.buffers.push(this);\r\n    }\r\n    setData(data: ArrayBuffer) {\r\n        const gl = this.device.gl;\r\n        if (data.byteLength !== this.numBytes) {\r\n            console.error('VertexBuffer: wrong initial data size: expected ' + this.numBytes + ', got ' + data.byteLength);\r\n            return;\r\n        }\r\n        this.storage = data;\r\n        this.bufferId = gl.createBuffer();\r\n        let glUsage;\r\n        switch (this.usage) {\r\n            case HGL.BUFFER_STATIC:\r\n                glUsage = gl.STATIC_DRAW;\r\n                break;\r\n            case HGL.BUFFER_DYNAMIC:\r\n                glUsage = gl.DYNAMIC_DRAW;\r\n                break;\r\n            case HGL.BUFFER_STREAM:\r\n                glUsage = gl.STREAM_DRAW;\r\n                break;\r\n            case HGL.BUFFER_GPUDYNAMIC:\r\n                if (this.device.webgl2) {\r\n                    // glUsage = gl.DYNAMIC_COPY;\r\n                } else {\r\n                    glUsage = gl.STATIC_DRAW;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\graphics\\vertexFormat.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Thursday, July 12th 2018, 8:51:24 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Saturday, July 28th 2018, 12:01:25 am\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\nimport { GraphicsDevice } from './device';\r\nimport * as HGL from '../hgl';\r\n\r\nexport interface VertexType {\r\n    semantic: HGL.SEMANTIC,\r\n    length: 1 | 2 | 3 | 4;\r\n    dataType: HGL.DataType;\r\n    normalize: boolean;\r\n}\r\n\r\nexport interface VertexAttribData extends VertexType {\r\n    offset: number;\r\n    stride: number;\r\n    stream: number;\r\n    size: number;\r\n}\r\n\r\nconst _typeSize: number[] = [];\r\n_typeSize[HGL.DataType.INT8] = 1;\r\n_typeSize[HGL.DataType.UINT8] = 1;\r\n_typeSize[HGL.DataType.INT16] = 2;\r\n_typeSize[HGL.DataType.UINT16] = 2;\r\n_typeSize[HGL.DataType.INT32] = 4;\r\n_typeSize[HGL.DataType.UINT32] = 4;\r\n_typeSize[HGL.DataType.FLOAT32] = 4;\r\n/**\r\n* @example\r\n* // Specify 3-component positions (x, y, z)\r\n* var vertexFormat = new pc.VertexFormat(graphicsDevice, [\r\n* { semantic: pc.SEMANTIC_POSITION, components: 3, type: pc.TYPE_FLOAT32 },\r\n* ]);\r\n* @example\r\n* // Specify 2-component positions (x, y), a texture coordinate (u, v) and a vertex color (r, g, b, a)\r\n* var vertexFormat = new pc.VertexFormat(graphicsDevice, [\r\n* { semantic: pc.SEMANTIC_POSITION, components: 2, type: pc.TYPE_FLOAT32 },\r\n* { semantic: pc.SEMANTIC_TEXCOORD0, components: 2, type: pc.TYPE_FLOAT32 },\r\n* { semantic: pc.SEMANTIC_COLOR, components: 4, type: pc.TYPE_UINT8, normalize: true }\r\n* ]);\r\n*/\r\nexport class VertexFormat {\r\n    size: number = 0;\r\n    hasUv0 = false;\r\n    hasUv1 = false;\r\n    hasColor = false;\r\n    elements: VertexAttribData[] = [];\r\n    constructor(private device: GraphicsDevice, vartexTypes: VertexType[]) {\r\n\r\n        for (let i = 0; i < vartexTypes.length; i++) {\r\n            const desc = vartexTypes[i];\r\n            let element: VertexAttribData = {\r\n                semantic: desc.semantic,\r\n                offset: 0,\r\n                stride: 0,\r\n                stream: -1,\r\n                dataType: desc.dataType,\r\n                length: desc.length,\r\n                normalize: (desc.normalize === undefined) ? false : desc.normalize,\r\n                size: desc.length * _typeSize[desc.dataType]\r\n            };\r\n            this.elements.push(element);\r\n            // This buffer will be accessed by a Float32Array and so must be 4 byte aligned\r\n            this.size += Math.ceil(element.size / 4) * 4;\r\n            if (desc.semantic === HGL.SEMANTIC.TEXCOORD0) {\r\n                this.hasUv0 = true;\r\n            } else if (desc.semantic === HGL.SEMANTIC.TEXCOORD1) {\r\n                this.hasUv1 = true;\r\n            } else if (desc.semantic === HGL.SEMANTIC.COLOR) {\r\n                this.hasColor = true;\r\n            }\r\n        }\r\n        let offset = 0;\r\n        for (let i = 0; i < this.elements.length; i++) {\r\n            const element = this.elements[i];\r\n            element.offset = offset;\r\n            element.stride = this.size;\r\n            offset += element.size;\r\n        }\r\n    }\r\n}","/**\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\scene\\hgl.ts\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\n * Created Date: Friday, July 13th 2018, 6:49:47 pm\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Friday, July 27th 2018, 12:54:45 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\nexport const version = '0.0.1';\n\nexport const BUFFER_STATIC = 1;\nexport const BUFFER_DYNAMIC = 2;\nexport const BUFFER_STREAM = 3;\nexport const BUFFER_GPUDYNAMIC = 4;\n\nexport const SHADERTAG_MATERIAL = 1;\nexport enum DataType {\n    INT8 = 0,\n    UINT8 = 1,\n    INT16 = 2,\n    UINT16 = 3,\n    INT32 = 4,\n    UINT32 = 5,\n    FLOAT32 = 6\n}\n\nexport enum SEMANTIC {\n    POSITION = 'POSITION',\n    NORMAL = 'NORMAL',\n    TANGENT = 'TANGENT',\n    BLENDWEIGHT = 'BLENDWEIGHT',\n    BLENDINDICES = 'BLENDINDICES',\n    COLOR = 'COLOR',\n    TEXCOORD0 = 'TEXCOORD0',\n    TEXCOORD1 = 'TEXCOORD1',\n    TEXCOORD2 = 'TEXCOORD2',\n    TEXCOORD3 = 'TEXCOORD3',\n    TEXCOORD4 = 'TEXCOORD4',\n    TEXCOORD5 = 'TEXCOORD5',\n    TEXCOORD6 = 'TEXCOORD6',\n    TEXCOORD7 = 'TEXCOORD7'\n}\n\nexport enum UNIFORMTYPE {\n    BOOL,\n    INT,\n    FLOAT,\n    FLOAT_VEC2,\n    FLOAT_VEC3,\n    FLOAT_VEC4,\n    INT_VEC2,\n    INT_VEC3,\n    INT_VEC4,\n    BOOL_VEC2,\n    BOOL_VEC3,\n    BOOL_VEC4,\n    FLOAT_MAT2,\n    FLOAT_MAT3,\n    FLOAT_MAT4,\n    SAMPLER_2D,\n    SAMPLER_CUBE,\n    FLOATARRAY,\n    TEXTURE2D_SHADOW,\n    TEXTURECUBE_SHADOW,\n    TEXTURE3D\n}\n\n\n\nexport enum SHADER {\n    FORWARD = 0,\n    FORWARDHDR = 1,\n    DEPTH = 2,\n    SHADOW = 3, // PCF3\n\n    // 4: VSM8,\n    // 5: VSM16,\n    // 6: VSM32,\n    // 7: PCF5,\n    // 8: PCF3 POINT\n    // 9: VSM8 POINT,\n    // 10: VSM16 POINT,\n    // 11: VSM32 POINT,\n    // 12: PCF5 POINT\n    // 13: PCF3 SPOT\n    // 14: VSM8 SPOT,\n    // 15: VSM16 SPOT,\n    // 16: VSM32 SPOT,\n    // 17: PCF5 SPOT\n    PICK = 18,\n}\n\nexport enum BLENDMODE {\n    ZERO = 0,\n    ONE = 1,\n    SRC_COLOR = 2,\n    ONE_MINUS_SRC_COLOR = 3,\n    DST_COLOR = 4,\n    ONE_MINUS_DST_COLOR = 5,\n    SRC_ALPHA = 6,\n    SRC_ALPHA_SATURATE = 7,\n    ONE_MINUS_SRC_ALPHA = 8,\n    DST_ALPHA = 9,\n    ONE_MINUS_DST_ALPHA = 10\n}\n\nexport enum BLENDEQUATION {\n    ADD = 0,\n    SUBTRACT = 1,\n    REVERSE_SUBTRACT = 2,\n    MIN = 3,\n    MAX = 4\n}\n\nexport enum CULLFACE {\n    NONE = 0,\n    BACK = 1,\n    FRONT = 2,\n    FRONTANDBACK = 3\n}\n\nexport enum BLEND {\n    SUBTRACTIVE = 0,\n    ADDITIVE = 1,\n    NORMAL = 2,\n    NONE = 3,\n    PREMULTIPLIED = 4,\n    MULTIPLICATIVE = 5,\n    ADDITIVEALPHA = 6,\n    MULTIPLICATIVE2X = 7,\n    SCREEN = 8,\n    MIN = 9,\n    MAX = 10\n}\n\n","/**\r\n * File: c:\\Users\\35327\\Githubs\\ts-template\\src\\index.ts\r\n * Project: c:\\Users\\35327\\Githubs\\ts-template\r\n * Created Date: Friday, June 29th 2018, 12:01:19 am\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Saturday, July 28th 2018, 12:03:34 am\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\nexport * from './hgl';\r\nexport * from './graphics/vertexBuffer';\r\nexport * from './graphics/vertexFormat';\r\nexport * from './application/application';\r\nexport * from './materials/basic-material';","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\materials\\basic-material.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Friday, July 27th 2018, 1:01:34 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Saturday, July 28th 2018, 12:03:54 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\nimport { Material } from './material';\nimport { Color } from '../core/color';\nexport class BasicMaterial extends Material {\n    color = new Color(1, 1, 1, 1);\n    colorMap = null;\n    vertexColors = false;\n    constructor() {\n        super();\n        this.update();\n    }\n    clone() {\n        const clone = new BasicMaterial();\n\n        Material.prototype._cloneInternal.call(this, clone);\n\n        clone.color.copy(this.color);\n        clone.colorMap = this.colorMap;\n        clone.vertexColors = this.vertexColors;\n\n        clone.update();\n        return clone;\n    }\n\n    update() {\n        this.clearParameters();\n\n        this.setParameter('uColor', this.color.data);\n        if (this.colorMap) {\n            this.setParameter('texture_diffuseMap', this.colorMap);\n        }\n    }\n\n    updateShader(device, scene, objDefs, staticLightList, pass, sortedLights) {\n        const options = {\n            skin: !!this.meshInstances[0].skinInstance,\n            vertexColors: this.vertexColors,\n            diffuseMap: this.colorMap,\n            pass\n        };\n        const library = device.getProgramLibrary();\n        this.shader = library.getProgram('basic', options);\n    }\n}","/**\n * File: c:\\Users\\35327\\Githubs\\hypergl\\src\\materials\\material.ts\n * Project: c:\\Users\\35327\\Githubs\\hypergl\n * Created Date: Friday, July 27th 2018, 12:39:09 am\n * @author: liaodh\n * @summary: short description for the file\n * -----\n * Last Modified: Friday, July 27th 2018, 1:06:10 am\n * Modified By: liaodh\n * -----\n * Copyright (c) 2018 jiguang\n */\n\nlet id = 0;\nimport { BLENDMODE, BLENDEQUATION, CULLFACE, BLEND } from '../hgl';\nimport { Scene } from '../scene/scene';\nexport class Material {\n    id: number;\n    name = 'Untitled';\n    _shader = null;\n    variants = {};\n    parameters = {};\n    alphaTest = 0;\n    alphaToCoverage = false;\n\n    blend: any = false;\n    blendSrc = BLENDMODE.ONE;\n    blendDst = BLENDMODE.ZERO;\n    blendEquation = BLENDEQUATION.ADD;\n    separateAlphaBlend = false;\n    blendSrcAlpha = BLENDMODE.ONE;\n    blendDstAlpha = BLENDMODE.ZERO;\n    blendAlphaEquation = BLENDEQUATION.ADD;\n\n    cull = CULLFACE.BACK;\n\n    depthTest = true;\n    depthWrite = true;\n    stencilFront = null;\n    stencilBack = null;\n\n    depthBias = 0;\n    slopeDepthBias = 0;\n\n    redWrite = true;\n    greenWrite = true;\n    blueWrite = true;\n    alphaWrite = true;\n\n    meshInstances = []; // The mesh instances referencing this material\n\n    _shaderVersion = 0;\n    _scene = null;\n    _dirtyBlend = false;\n    constructor() {\n        this.id = id++;\n    }\n\n    get shader() {\n        return this._shader;\n    }\n\n    set shader(shader) {\n        this.setShader(shader);\n    }\n\n    // tslint:disable-next-line:cyclomatic-complexity\n    get blendType() {\n        if ((!this.blend) &&\n            (this.blendSrc === BLENDMODE.ONE) &&\n            (this.blendDst === BLENDMODE.ZERO) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.NONE;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.SRC_ALPHA) &&\n            (this.blendDst === BLENDMODE.ONE_MINUS_SRC_ALPHA) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.NORMAL;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.ONE) &&\n            (this.blendDst === BLENDMODE.ONE) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.ADDITIVE;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.SRC_ALPHA) &&\n            (this.blendDst === BLENDMODE.ONE) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.ADDITIVEALPHA;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.DST_COLOR) &&\n            (this.blendDst === BLENDMODE.SRC_COLOR) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.MULTIPLICATIVE2X;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.ONE_MINUS_DST_COLOR) &&\n            (this.blendDst === BLENDMODE.ONE) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.SCREEN;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.ONE) &&\n            (this.blendDst === BLENDMODE.ONE) &&\n            (this.blendEquation === BLENDEQUATION.MIN)) {\n            return BLEND.MIN;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.ONE) &&\n            (this.blendDst === BLENDMODE.ONE) &&\n            (this.blendEquation === BLENDEQUATION.MAX)) {\n            return BLEND.MAX;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.DST_COLOR) &&\n            (this.blendDst === BLENDMODE.ZERO) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.MULTIPLICATIVE;\n        } else if ((this.blend) &&\n            (this.blendSrc === BLENDMODE.ONE) &&\n            (this.blendDst === BLENDMODE.ONE_MINUS_SRC_ALPHA) &&\n            (this.blendEquation === BLENDEQUATION.ADD)) {\n            return BLEND.PREMULTIPLIED;\n        } else {\n            return BLEND.NORMAL;\n        }\n    }\n\n    set blendType(type) {\n        const prevBlend = this.blend !== BLEND.NONE;\n        switch (type) {\n            case BLEND.NONE:\n                this.blend = false;\n                this.blendSrc = BLENDMODE.ONE;\n                this.blendDst = BLENDMODE.ZERO;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.NORMAL:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.SRC_ALPHA;\n                this.blendDst = BLENDMODE.ONE_MINUS_SRC_ALPHA;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.PREMULTIPLIED:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.ONE;\n                this.blendDst = BLENDMODE.ONE_MINUS_SRC_ALPHA;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.ADDITIVE:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.ONE;\n                this.blendDst = BLENDMODE.ONE;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.ADDITIVEALPHA:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.SRC_ALPHA;\n                this.blendDst = BLENDMODE.ONE;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.MULTIPLICATIVE2X:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.DST_COLOR;\n                this.blendDst = BLENDMODE.SRC_COLOR;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.SCREEN:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.ONE_MINUS_DST_COLOR;\n                this.blendDst = BLENDMODE.ONE;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.MULTIPLICATIVE:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.DST_COLOR;\n                this.blendDst = BLENDMODE.ZERO;\n                this.blendEquation = BLENDEQUATION.ADD;\n                break;\n            case BLEND.MIN:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.ONE;\n                this.blendDst = BLENDMODE.ONE;\n                this.blendEquation = BLENDEQUATION.MIN;\n                break;\n            case BLEND.MAX:\n                this.blend = true;\n                this.blendSrc = BLENDMODE.ONE;\n                this.blendDst = BLENDMODE.ONE;\n                this.blendEquation = BLENDEQUATION.MAX;\n                break;\n        }\n        if (prevBlend !== (this.blend !== BLEND.NONE)) {\n            if (this._scene) {\n                this._scene.layers._dirtyBlend = true;\n            } else {\n                this._dirtyBlend = true;\n            }\n        }\n        this._updateMeshInstanceKeys();\n    }\n\n    _cloneInternal(clone) {\n        clone.name = this.name;\n        clone.id = id++;\n        clone.variants = {}; // ?\n        clone.shader = this.shader;\n        clone.parameters = {};\n\n        // and need copy parameters of that shader\n        for (const parameterName in this.parameters) {\n            if (this.parameters.hasOwnProperty(parameterName)) {\n                clone.parameters[parameterName] = { scopeId: null, data: this.parameters[parameterName].data, passFlags: this.parameters[parameterName].passFlags };\n            }\n        }\n\n        // Render states\n        clone.alphaTest = this.alphaTest;\n        clone.alphaToCoverage = this.alphaToCoverage;\n\n        clone.blend = this.blend;\n        clone.blendSrc = this.blendSrc;\n        clone.blendDst = this.blendDst;\n        clone.blendEquation = this.blendEquation;\n\n        clone.separateAlphaBlend = this.separateAlphaBlend;\n        clone.blendSrcAlpha = this.blendSrcAlpha;\n        clone.blendDstAlpha = this.blendDstAlpha;\n        clone.blendAlphaEquation = this.blendAlphaEquation;\n\n        clone.cull = this.cull;\n\n        clone.depthTest = this.depthTest;\n        clone.depthWrite = this.depthWrite;\n        clone.depthBias = this.depthBias;\n        clone.slopeDepthBias = this.slopeDepthBias;\n        if (this.stencilFront) clone.stencilFront = this.stencilFront.clone();\n        if (this.stencilBack) {\n            if (this.stencilFront === this.stencilBack) {\n                clone.stencilBack = clone.stencilFront;\n            } else {\n                clone.stencilBack = this.stencilBack.clone();\n            }\n        }\n\n        clone.redWrite = this.redWrite;\n        clone.greenWrite = this.greenWrite;\n        clone.blueWrite = this.blueWrite;\n        clone.alphaWrite = this.alphaWrite;\n\n        clone.meshInstances = [];\n    }\n\n    clone() {\n        const clone = new Material();\n        this._cloneInternal(clone);\n        return clone;\n    }\n\n    _updateMeshInstanceKeys() {\n        let i;\n        const meshInstances = this.meshInstances;\n        for (i = 0; i < meshInstances.length; i++) {\n            meshInstances[i].updateKey();\n        }\n    }\n\n    updateShader(device, scene, objDefs, ...args) {\n        // For vanilla materials, the shader can only be set by the user\n    }\n\n    // Parameter management\n    clearParameters() {\n        this.parameters = {};\n    }\n\n    getParameters() {\n        return this.parameters;\n    }\n\n    clearVariants() {\n        let meshInstance;\n        for (const s in this.variants) {\n            if (this.variants.hasOwnProperty(s)) {\n                this.variants[s]._refCount--;\n            }\n        }\n        this.variants = {};\n        let j;\n        for (let i = 0; i < this.meshInstances.length; i++) {\n            meshInstance = this.meshInstances[i];\n            for (j = 0; j < meshInstance._shader.length; j++) {\n                meshInstance._shader[j] = null;\n            }\n        }\n    }\n\n\n    getParameter(name) {\n        return this.parameters[name];\n    }\n\n\n    setParameter(arg, data?, passFlags = -524285) {\n\n        // if (passFlags === undefined) passFlags = -524285; // All bits set except 2 - 18 range\n\n        let name;\n        if (data === undefined && typeof (arg) === 'object') {\n            const uniformObject = arg;\n            if (uniformObject.length) {\n                for (let i = 0; i < uniformObject.length; i++) this.setParameter(uniformObject[i]);\n                return;\n            } else {\n                name = uniformObject.name;\n                // tslint:disable-next-line:no-parameter-reassignment\n                data = uniformObject.value;\n            }\n        } else {\n            name = arg;\n        }\n\n        const param = this.parameters[name];\n        if (param) {\n            param.data = data;\n            param.passFlags = passFlags;\n        } else {\n            this.parameters[name] = {\n                scopeId: null,\n                data,\n                passFlags\n            };\n        }\n    }\n\n\n    deleteParameter(name) {\n        if (this.parameters[name]) {\n            delete this.parameters[name];\n        }\n    }\n\n\n    setParameters() {\n        // Push each shader parameter into scope\n        // tslint:disable-next-line:forin\n        for (const paramName in this.parameters) {\n            const parameter = this.parameters[paramName];\n            // TODO: Fix https://github.com/playcanvas/engine/issues/597\n            //if (!parameter.scopeId) {\n            //    parameter.scopeId = device.scope.resolve(paramName);\n            //}\n            parameter.scopeId.setValue(parameter.data);\n        }\n    }\n\n    update() {\n        throw Error('Not Implemented in base class');\n    }\n\n\n    init(data) {\n        throw Error('Not Implemented in base class');\n    }\n\n    getName() {\n        return this.name;\n    }\n\n\n    setName(name) {\n        this.name = name;\n    }\n\n\n    getShader() {\n        return this.shader;\n    }\n\n\n    setShader(shader) {\n        if (this._shader) {\n            this._shader._refCount--;\n        }\n        this._shader = shader;\n        if (shader) shader._refCount++;\n    }\n\n\n    destroy() {\n        if (this.shader) {\n            this.shader._refCount--;\n            if (this.shader._refCount < 1) {\n                this.shader.destroy();\n            }\n        }\n\n        let variant;\n        for (const s in this.variants) {\n            if (this.variants.hasOwnProperty(s)) {\n                variant = this.variants[s];\n                if (variant === this.shader) continue;\n                variant._refCount--;\n                if (variant._refCount < 1) {\n                    variant.destroy();\n                }\n            }\n        }\n        this.variants = {};\n        this.shader = null;\n\n        // tslint:disable-next-line:one-variable-per-declaration\n        let meshInstance, j;\n        for (let i = 0; i < this.meshInstances.length; i++) {\n            meshInstance = this.meshInstances[i];\n            for (j = 0; j < meshInstance._shader.length; j++) {\n                meshInstance._shader[j] = null;\n            }\n            meshInstance._material = null;\n            if (this !== Scene.defaultMaterial) {\n                meshInstance.material = Scene.defaultMaterial;\n            }\n        }\n    }\n}","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\math\\math.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Wednesday, July 11th 2018, 9:13:35 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Friday, July 27th 2018, 1:11:25 am\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\n\r\n/* tslint:disable */\r\nexport const generateUUID = (function _() {\r\n\r\n    // http://www.broofa.com/Tools/Math.uuid.htm\r\n\r\n    let chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\r\n    let uuid = new Array(36);\r\n    let rnd = 0;\r\n    let r;\r\n\r\n    return function generateUUID() {\r\n\r\n        for (let i = 0; i < 36; i++) {\r\n\r\n            if (i === 8 || i === 13 || i === 18 || i === 23) {\r\n\r\n                uuid[i] = '-';\r\n\r\n            } else if (i === 14) {\r\n\r\n                uuid[i] = '4';\r\n\r\n            } else {\r\n\r\n                if (rnd <= 0x02) rnd = 0x2000000 + (Math.random() * 0x1000000) | 0;\r\n                // tslint:disable-next-line:number-literal-format\r\n                r = rnd & 0xf;\r\n                rnd = rnd >> 4;\r\n                uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r];\r\n\r\n            }\r\n        }\r\n\r\n        return uuid.join('');\t//返回36位的uuid通用唯一识别码 (Universally Unique Identifier).\r\n\r\n    };\r\n\r\n})();\r\n\r\n\r\n\r\nexport function  intToBytes24(i) {\r\n    let r, g, b;\r\n\r\n    r = (i >> 16) & 0xff;\r\n    g = (i >> 8) & 0xff;\r\n    b = (i) & 0xff;\r\n\r\n    return [r, g, b];\r\n}\r\n\r\nexport function intToBytes32(i) {\r\n    let r, g, b, a;\r\n\r\n    r = (i >> 24) & 0xff;\r\n    g = (i >> 16) & 0xff;\r\n    b = (i >> 8) & 0xff;\r\n    a = (i) & 0xff;\r\n\r\n    return [r, g, b, a];\r\n}\r\n\r\n\r\nexport function  bytesToInt24(r, g, b) {\r\n    if (r.length) {\r\n        b = r[2];\r\n        g = r[1];\r\n        r = r[0];\r\n    }\r\n    return ((r << 16) | (g << 8) | b);\r\n}","/**\r\n * File: c:\\Users\\35327\\Documents\\Githubs\\hypergl\\src\\scene\\Scene.ts\r\n * Project: c:\\Users\\35327\\Documents\\Githubs\\hypergl\r\n * Created Date: Wednesday, July 11th 2018, 8:55:13 pm\r\n * @author: liaodh\r\n * @summary: short description for the file\r\n * -----\r\n * Last Modified: Friday, July 27th 2018, 12:58:28 am\r\n * Modified By: liaodh\r\n * -----\r\n * Copyright (c) 2018 jiguang\r\n */\r\n\r\nimport { IElement } from '../core/element';\r\nexport class Scene extends IElement {\r\n    static defaultMaterial: any = 'defaultMaterial';\r\n    fog;\r\n    add() {\r\n        console.log();\r\n    }\r\n\r\n}"],"sourceRoot":""}